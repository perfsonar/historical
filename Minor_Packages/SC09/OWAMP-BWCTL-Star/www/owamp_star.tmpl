<html>
  <head>
    <title>One-Way Jitter Tests</title>
  </head>
  <body>
    <h1 align=center>One-Way Jitter Tests</h1>
    <br><br>

    <table align=center width=85% border=1 cellpadding=1>
	<tr>
	<th align=center valign=center colspan='4'> [% primary_node_desc %] </th>
	</tr>
	<tr>
	<th></th>
	        <th align=center valign=center>Address</th>
	        <th align=center valign=center>Sender</th>
	        <th align=center valign=center>Receiver</th>
	</tr>

	[% FOREACH node IN results %]
		[% IF primary_node == node.name; NEXT; END %]
		[% UNLESS node.measurement_results.size > 0 %]
			<tr>
				<th align=center valign=center>[% node.description %]</th>
				<td align=center valign=center bgcolor=gray>&nbsp;</td>
				<td align=center valign=center bgcolor=gray>&nbsp;</td>
				<td align=center valign=center bgcolor=gray>&nbsp;</td>
			</tr>
		[% ELSE %]
			<tr>
			<th align=center valign=center [% IF node.measurement_results.size > 1 %] rowspan="[% node.measurement_results.size %]" [% END %]>[% node.description %]</th>
			[% FOREACH result IN node.measurement_results %]
				[% UNLESS loop.first OR node.measurement_results.size <= 1 %]
					<tr>
				[% END %]

				<td align=center valign=center >[% result.address %]</td>
				[% IF result.send.min_delay %]
					[% SET src_node = result.send.source %]
					[% SET src_addr = result.send.source_address %]
					[% SET dst_node = result.send.destination %]
					[% SET dst_addr = result.send.destination_address %]

				<td align=center valign=center style="cursor:pointer" onClick="javascript:window.open('plot_histogram.cgi?sender=[% src_node %]&sender_address=[% src_addr %]&receiver=[% dst_node %]&receiver_address=[% dst_addr %]&alpha_max=[% alpha %]&plot_min=[% plot_min %]')">
					[% IF text_mode %]
					[% result.send.min_delay %] [% result.send.min_delay_units %] / [% result.send.jitter %] [% result.send.jitter_units %]  / [% result.send.loss %] [% result.send.loss_units %] 
					[% ELSE %]
					<img src="plot_histogram.cgi?sender=[% src_node %]&sender_address=[% src_addr %]&receiver=[% dst_node %]&receiver_address=[% dst_addr %]&width=400&height=200&show_legend=no&alpha_max=[% alpha %]&plot_min=[% plot_min %]"></img>
					[% END %]
				</td>
				[% ELSE %]
				<td align=center valign=center bgcolor=gray>&nbsp;</td>
				[% END %]

				[% IF result.receive.min_delay %]
					[% SET src_node = result.receive.source %]
					[% SET src_addr = result.receive.source_address %]
					[% SET dst_node = result.receive.destination %]
					[% SET dst_addr = result.receive.destination_address %]

				<td align=center valign=center style="cursor:pointer" onClick="javascript:window.open('plot_histogram.cgi?sender=[% src_node %]&sender_address=[% src_addr %]&receiver=[% dst_node %]&receiver_address=[% dst_addr %]&alpha_max=[% alpha %]&plot_min=[% plot_min %]')">
					[% IF text_mode %]
					[% result.receive.min_delay %] [% result.receive.min_delay_units %] / [% result.receive.jitter %] [% result.receive.jitter_units %]  / [% result.receive.loss %] [% result.receive.loss_units %] 
					[% ELSE %]
					<img src="plot_histogram.cgi?sender=[% src_node %]&sender_address=[% src_addr %]&receiver=[% dst_node %]&receiver_address=[% dst_addr %]&width=400&height=200&show_legend=no&alpha_max=[% alpha %]&plot_min=[% plot_min %]"></img>
					[% END %]
				</td>
				[% ELSE %]
				<td align=center valign=center bgcolor=gray>&nbsp;</td>
				[% END %]
				</tr>
			[% END %]
		[% END %]
		</tr>
	[% END %]
      </tr>
    </table>

  </body>
</html>
