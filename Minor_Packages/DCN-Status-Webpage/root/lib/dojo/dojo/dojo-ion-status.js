/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_1,_2){var _3="^";var c=null;for(var i=0;i<_1.length;i++){c=_1.charAt(i);switch(c){case "\\":_3+=c;i++;_3+=_1.charAt(i);break;case "*":_3+=".*";break;case "?":_3+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":_3+="\\";default:_3+=c;}}_3+="$";if(_2){return new RegExp(_3,"mi");}else{return new RegExp(_3,"m");}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_9,_a){var _b=[];function _c(_d,_e){return function(_f,_10){var a=_a.getValue(_f,_d);var b=_a.getValue(_10,_d);var _13=null;if(_a.comparatorMap){if(typeof _d!=="string"){_d=_a.getIdentity(_d);}_13=_a.comparatorMap[_d]||dojo.data.util.sorter.basicComparator;}_13=_13||dojo.data.util.sorter.basicComparator;return _e*_13(a,b);};};var _14;for(var i=0;i<_9.length;i++){_14=_9[i];if(_14.attribute){var _16=(_14.descending)?-1:1;_b.push(_c(_14.attribute,_16));}}return function(_17,_18){var i=0;while(i<_b.length){var ret=_b[i++](_17,_18);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_1b){_1b=_1b||{};if(!_1b.store){_1b.store=this;}var _1c=this;var _1d=function(_1e,_1f){if(_1f.onError){var _20=_1f.scope||dojo.global;_1f.onError.call(_20,_1e,_1f);}};var _21=function(_22,_23){var _24=_23.abort||null;var _25=false;var _26=_23.start?_23.start:0;var _27=(_23.count&&(_23.count!==Infinity))?(_26+_23.count):_22.length;_23.abort=function(){_25=true;if(_24){_24.call(_23);}};var _28=_23.scope||dojo.global;if(!_23.store){_23.store=_1c;}if(_23.onBegin){_23.onBegin.call(_28,_22.length,_23);}if(_23.sort){_22.sort(dojo.data.util.sorter.createSortFunction(_23.sort,_1c));}if(_23.onItem){for(var i=_26;(i<_22.length)&&(i<_27);++i){var _2a=_22[i];if(!_25){_23.onItem.call(_28,_2a,_23);}}}if(_23.onComplete&&!_25){var _2b=null;if(!_23.onItem){_2b=_22.slice(_26,_27);}_23.onComplete.call(_28,_2b,_23);}};this._fetchItems(_1b,_21,_1d);return _1b;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_2c,_2d){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _2e=dojo.date.stamp._isoRegExp.exec(_2c);var _2f=null;if(_2e){_2e.shift();if(_2e[1]){_2e[1]--;}if(_2e[6]){_2e[6]*=1000;}if(_2d){_2d=new Date(_2d);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_30){return _2d["get"+_30]();}).forEach(function(_31,_32){if(_2e[_32]===undefined){_2e[_32]=_31;}});}_2f=new Date(_2e[0]||1970,_2e[1]||0,_2e[2]||1,_2e[3]||0,_2e[4]||0,_2e[5]||0,_2e[6]||0);var _33=0;var _34=_2e[7]&&_2e[7].charAt(0);if(_34!="Z"){_33=((_2e[8]||0)*60)+(Number(_2e[9])||0);if(_34!="-"){_33*=-1;}}if(_34){_33-=_2f.getTimezoneOffset();}if(_33){_2f.setTime(_2f.getTime()+_33*60000);}}return _2f;};dojo.date.stamp.toISOString=function(_35,_36){var _=function(n){return (n<10)?"0"+n:n;};_36=_36||{};var _39=[];var _3a=_36.zulu?"getUTC":"get";var _3b="";if(_36.selector!="time"){var _3c=_35[_3a+"FullYear"]();_3b=["0000".substr((_3c+"").length)+_3c,_(_35[_3a+"Month"]()+1),_(_35[_3a+"Date"]())].join("-");}_39.push(_3b);if(_36.selector!="date"){var _3d=[_(_35[_3a+"Hours"]()),_(_35[_3a+"Minutes"]()),_(_35[_3a+"Seconds"]())].join(":");var _3e=_35[_3a+"Milliseconds"]();if(_36.milliseconds){_3d+="."+(_3e<100?"0":"")+_(_3e);}if(_36.zulu){_3d+="Z";}else{if(_36.selector!="time"){var _3f=_35.getTimezoneOffset();var _40=Math.abs(_3f);_3d+=(_3f>0?"-":"+")+_(Math.floor(_40/60))+":"+_(_40%60);}}_39.push(_3d);}return _39.join("T");};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_41){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_41.url;this._jsonData=_41.data;this._datatypeMap=_41.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_42){return dojo.date.stamp.fromISOString(_42);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_41.urlPreventCache!==undefined){this.urlPreventCache=_41.urlPreventCache?true:false;}if(_41.clearOnClose){this.clearOnClose=true;}},url:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,_assertIsItem:function(_43){if(!this.isItem(_43)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_44){if(typeof _44!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(_45,_46,_47){var _48=this.getValues(_45,_46);return (_48.length>0)?_48[0]:_47;},getValues:function(_49,_4a){this._assertIsItem(_49);this._assertIsAttribute(_4a);return _49[_4a]||[];},getAttributes:function(_4b){this._assertIsItem(_4b);var _4c=[];for(var key in _4b){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_4c.push(key);}}return _4c;},hasAttribute:function(_4e,_4f){return this.getValues(_4e,_4f).length>0;},containsValue:function(_50,_51,_52){var _53=undefined;if(typeof _52==="string"){_53=dojo.data.util.filter.patternToRegExp(_52,false);}return this._containsValue(_50,_51,_52,_53);},_containsValue:function(_54,_55,_56,_57){return dojo.some(this.getValues(_54,_55),function(_58){if(_58!==null&&!dojo.isObject(_58)&&_57){if(_58.toString().match(_57)){return true;}}else{if(_56===_58){return true;}}});},isItem:function(_59){if(_59&&_59[this._storeRefPropName]===this){if(this._arrayOfAllItems[_59[this._itemNumPropName]]===_59){return true;}}return false;},isItemLoaded:function(_5a){return this.isItem(_5a);},loadItem:function(_5b){this._assertIsItem(_5b.item);},getFeatures:function(){return this._features;},getLabel:function(_5c){if(this._labelAttr&&this.isItem(_5c)){return this.getValue(_5c,this._labelAttr);}return undefined;},getLabelAttributes:function(_5d){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_5e,_5f,_60){var _61=this;var _62=function(_63,_64){var _65=[];var i,key;if(_63.query){var _68;var _69=_63.queryOptions?_63.queryOptions.ignoreCase:false;var _6a={};for(key in _63.query){_68=_63.query[key];if(typeof _68==="string"){_6a[key]=dojo.data.util.filter.patternToRegExp(_68,_69);}}for(i=0;i<_64.length;++i){var _6b=true;var _6c=_64[i];if(_6c===null){_6b=false;}else{for(key in _63.query){_68=_63.query[key];if(!_61._containsValue(_6c,key,_68,_6a[key])){_6b=false;}}}if(_6b){_65.push(_6c);}}_5f(_65,_63);}else{for(i=0;i<_64.length;++i){var _6d=_64[i];if(_6d!==null){_65.push(_6d);}}_5f(_65,_63);}};if(this._loadFinished){_62(_5e,this._getItemsArray(_5e.queryOptions));}else{if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_5e,filter:_62});}else{this._loadInProgress=true;var _6e={url:_61._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _6f=dojo.xhrGet(_6e);_6f.addCallback(function(_70){try{_61._getItemsFromLoadedData(_70);_61._loadFinished=true;_61._loadInProgress=false;_62(_5e,_61._getItemsArray(_5e.queryOptions));_61._handleQueuedFetches();}catch(e){_61._loadFinished=true;_61._loadInProgress=false;_60(e,_5e);}});_6f.addErrback(function(_71){_61._loadInProgress=false;_60(_71,_5e);});var _72=null;if(_5e.abort){_72=_5e.abort;}_5e.abort=function(){var df=_6f;if(df&&df.fired===-1){df.cancel();df=null;}if(_72){_72.call(_5e);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_62(_5e,this._getItemsArray(_5e.queryOptions));}catch(e){_60(e,_5e);}}else{_60(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_5e);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _75=this._queuedFetches[i];var _76=_75.args;var _77=_75.filter;if(_77){_77(_76,this._getItemsArray(_76.queryOptions));}else{this.fetchItemByIdentity(_76);}}this._queuedFetches=[];}},_getItemsArray:function(_78){if(_78&&_78.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_79){if(this.clearOnClose&&(this._jsonFileUrl!=="")){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_7a){var _7b=false;function _7c(_7d){var _7e=((_7d!==null)&&(typeof _7d==="object")&&(!dojo.isArray(_7d)||_7b)&&(!dojo.isFunction(_7d))&&(_7d.constructor==Object||dojo.isArray(_7d))&&(typeof _7d._reference==="undefined")&&(typeof _7d._type==="undefined")&&(typeof _7d._value==="undefined"));return _7e;};var _7f=this;function _80(_81){_7f._arrayOfAllItems.push(_81);for(var _82 in _81){var _83=_81[_82];if(_83){if(dojo.isArray(_83)){var _84=_83;for(var k=0;k<_84.length;++k){var _86=_84[k];if(_7c(_86)){_80(_86);}}}else{if(_7c(_83)){_80(_83);}}}}};this._labelAttr=_7a.label;var i;var _88;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_7a.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){_88=this._arrayOfTopLevelItems[i];if(dojo.isArray(_88)){_7b=true;}_80(_88);_88[this._rootItemPropName]=true;}var _89={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){_88=this._arrayOfAllItems[i];for(key in _88){if(key!==this._rootItemPropName){var _8b=_88[key];if(_8b!==null){if(!dojo.isArray(_8b)){_88[key]=[_8b];}}else{_88[key]=[null];}}_89[key]=key;}}while(_89[this._storeRefPropName]){this._storeRefPropName+="_";}while(_89[this._itemNumPropName]){this._itemNumPropName+="_";}while(_89[this._reverseRefMap]){this._reverseRefMap+="_";}var _8c;var _8d=_7a.identifier;if(_8d){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_8d;for(i=0;i<this._arrayOfAllItems.length;++i){_88=this._arrayOfAllItems[i];_8c=_88[_8d];var _8e=_8c[0];if(!this._itemsByIdentity[_8e]){this._itemsByIdentity[_8e]=_88;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_8d+"].  Value collided: ["+_8e+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_8d+"].  Value collided: ["+_8e+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){_88=this._arrayOfAllItems[i];_88[this._storeRefPropName]=this;_88[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){_88=this._arrayOfAllItems[i];for(key in _88){_8c=_88[key];for(var j=0;j<_8c.length;++j){_8b=_8c[j];if(_8b!==null&&typeof _8b=="object"){if(_8b._type&&_8b._value){var _90=_8b._type;var _91=this._datatypeMap[_90];if(!_91){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+_90+"'");}else{if(dojo.isFunction(_91)){_8c[j]=new _91(_8b._value);}else{if(dojo.isFunction(_91.deserialize)){_8c[j]=_91.deserialize(_8b._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_8b._reference){var _92=_8b._reference;if(!dojo.isObject(_92)){_8c[j]=this._itemsByIdentity[_92];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _94=this._arrayOfAllItems[k];var _95=true;for(var _96 in _92){if(_94[_96]!=_92[_96]){_95=false;}}if(_95){_8c[j]=_94;}}}if(this.referenceIntegrity){var _97=_8c[j];if(this.isItem(_97)){this._addReferenceToMap(_97,_88,key);}}}else{if(this.isItem(_8b)){if(this.referenceIntegrity){this._addReferenceToMap(_8b,_88,key);}}}}}}}},_addReferenceToMap:function(_98,_99,_9a){},getIdentity:function(_9b){var _9c=this._features["dojo.data.api.Identity"];if(_9c===Number){return _9b[this._itemNumPropName];}else{var _9d=_9b[_9c];if(_9d){return _9d[0];}}return null;},fetchItemByIdentity:function(_9e){var _9f;var _a0;if(!this._loadFinished){var _a1=this;if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_9e});}else{this._loadInProgress=true;var _a2={url:_a1._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _a3=dojo.xhrGet(_a2);_a3.addCallback(function(_a4){var _a5=_9e.scope?_9e.scope:dojo.global;try{_a1._getItemsFromLoadedData(_a4);_a1._loadFinished=true;_a1._loadInProgress=false;_9f=_a1._getItemByIdentity(_9e.identity);if(_9e.onItem){_9e.onItem.call(_a5,_9f);}_a1._handleQueuedFetches();}catch(error){_a1._loadInProgress=false;if(_9e.onError){_9e.onError.call(_a5,error);}}});_a3.addErrback(function(_a6){_a1._loadInProgress=false;if(_9e.onError){var _a7=_9e.scope?_9e.scope:dojo.global;_9e.onError.call(_a7,_a6);}});}}else{if(this._jsonData){_a1._getItemsFromLoadedData(_a1._jsonData);_a1._jsonData=null;_a1._loadFinished=true;_9f=_a1._getItemByIdentity(_9e.identity);if(_9e.onItem){_a0=_9e.scope?_9e.scope:dojo.global;_9e.onItem.call(_a0,_9f);}}}}else{_9f=this._getItemByIdentity(_9e.identity);if(_9e.onItem){_a0=_9e.scope?_9e.scope:dojo.global;_9e.onItem.call(_a0,_9f);}}},_getItemByIdentity:function(_a8){var _a9=null;if(this._itemsByIdentity){_a9=this._itemsByIdentity[_a8];}else{_a9=this._arrayOfAllItems[_a8];}if(_a9===undefined){_a9=null;}return _a9;},getIdentityAttributes:function(_aa){var _ab=this._features["dojo.data.api.Identity"];if(_ab===Number){return null;}else{return [_ab];}},_forceLoad:function(){var _ac=this;if(this._jsonFileUrl){var _ad={url:_ac._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,sync:true};var _ae=dojo.xhrGet(_ad);_ae.addCallback(function(_af){try{if(_ac._loadInProgress!==true&&!_ac._loadFinished){_ac._getItemsFromLoadedData(_af);_ac._loadFinished=true;}else{if(_ac._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_ae.addErrback(function(_b0){throw _b0;});}else{if(this._jsonData){_ac._getItemsFromLoadedData(_ac._jsonData);_ac._jsonData=null;_ac._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dojo.data.ItemFileWriteStore"]){dojo._hasResource["dojo.data.ItemFileWriteStore"]=true;dojo.provide("dojo.data.ItemFileWriteStore");dojo.declare("dojo.data.ItemFileWriteStore",dojo.data.ItemFileReadStore,{constructor:function(_b1){this._features["dojo.data.api.Write"]=true;this._features["dojo.data.api.Notification"]=true;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap["Date"].serialize){this._datatypeMap["Date"].serialize=function(obj){return dojo.date.stamp.toISOString(obj,{zulu:true});};}if(_b1&&(_b1.referenceIntegrity===false)){this.referenceIntegrity=false;}this._saveInProgress=false;},referenceIntegrity:true,_assert:function(_b3){if(!_b3){throw new Error("assertion failed in ItemFileWriteStore");}},_getIdentifierAttribute:function(){var _b4=this.getFeatures()["dojo.data.api.Identity"];return _b4;},newItem:function(_b5,_b6){this._assert(!this._saveInProgress);if(!this._loadFinished){this._forceLoad();}if(typeof _b5!="object"&&typeof _b5!="undefined"){throw new Error("newItem() was passed something other than an object");}var _b7=null;var _b8=this._getIdentifierAttribute();if(_b8===Number){_b7=this._arrayOfAllItems.length;}else{_b7=_b5[_b8];if(typeof _b7==="undefined"){throw new Error("newItem() was not passed an identity for the new item");}if(dojo.isArray(_b7)){throw new Error("newItem() was not passed an single-valued identity");}}if(this._itemsByIdentity){this._assert(typeof this._itemsByIdentity[_b7]==="undefined");}this._assert(typeof this._pending._newItems[_b7]==="undefined");this._assert(typeof this._pending._deletedItems[_b7]==="undefined");var _b9={};_b9[this._storeRefPropName]=this;_b9[this._itemNumPropName]=this._arrayOfAllItems.length;if(this._itemsByIdentity){this._itemsByIdentity[_b7]=_b9;_b9[_b8]=[_b7];}this._arrayOfAllItems.push(_b9);var _ba=null;if(_b6&&_b6.parent&&_b6.attribute){_ba={item:_b6.parent,attribute:_b6.attribute,oldValue:undefined};var _bb=this.getValues(_b6.parent,_b6.attribute);if(_bb&&_bb.length>0){var _bc=_bb.slice(0,_bb.length);if(_bb.length===1){_ba.oldValue=_bb[0];}else{_ba.oldValue=_bb.slice(0,_bb.length);}_bc.push(_b9);this._setValueOrValues(_b6.parent,_b6.attribute,_bc,false);_ba.newValue=this.getValues(_b6.parent,_b6.attribute);}else{this._setValueOrValues(_b6.parent,_b6.attribute,_b9,false);_ba.newValue=_b9;}}else{_b9[this._rootItemPropName]=true;this._arrayOfTopLevelItems.push(_b9);}this._pending._newItems[_b7]=_b9;for(var key in _b5){if(key===this._storeRefPropName||key===this._itemNumPropName){throw new Error("encountered bug in ItemFileWriteStore.newItem");}var _be=_b5[key];if(!dojo.isArray(_be)){_be=[_be];}_b9[key]=_be;if(this.referenceIntegrity){for(var i=0;i<_be.length;i++){var val=_be[i];if(this.isItem(val)){this._addReferenceToMap(val,_b9,key);}}}}this.onNew(_b9,_ba);return _b9;},_removeArrayElement:function(_c1,_c2){var _c3=dojo.indexOf(_c1,_c2);if(_c3!=-1){_c1.splice(_c3,1);return true;}return false;},deleteItem:function(_c4){this._assert(!this._saveInProgress);this._assertIsItem(_c4);var _c5=_c4[this._itemNumPropName];var _c6=this.getIdentity(_c4);if(this.referenceIntegrity){var _c7=this.getAttributes(_c4);if(_c4[this._reverseRefMap]){_c4["backup_"+this._reverseRefMap]=dojo.clone(_c4[this._reverseRefMap]);}dojo.forEach(_c7,function(_c8){dojo.forEach(this.getValues(_c4,_c8),function(_c9){if(this.isItem(_c9)){if(!_c4["backupRefs_"+this._reverseRefMap]){_c4["backupRefs_"+this._reverseRefMap]=[];}_c4["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(_c9),attr:_c8});this._removeReferenceFromMap(_c9,_c4,_c8);}},this);},this);var _ca=_c4[this._reverseRefMap];if(_ca){for(var _cb in _ca){var _cc=null;if(this._itemsByIdentity){_cc=this._itemsByIdentity[_cb];}else{_cc=this._arrayOfAllItems[_cb];}if(_cc){for(var _cd in _ca[_cb]){var _ce=this.getValues(_cc,_cd)||[];var _cf=dojo.filter(_ce,function(_d0){return !(this.isItem(_d0)&&this.getIdentity(_d0)==_c6);},this);this._removeReferenceFromMap(_c4,_cc,_cd);if(_cf.length<_ce.length){this._setValueOrValues(_cc,_cd,_cf,true);}}}}}}this._arrayOfAllItems[_c5]=null;_c4[this._storeRefPropName]=null;if(this._itemsByIdentity){delete this._itemsByIdentity[_c6];}this._pending._deletedItems[_c6]=_c4;if(_c4[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_c4);}this.onDelete(_c4);return true;},setValue:function(_d1,_d2,_d3){return this._setValueOrValues(_d1,_d2,_d3,true);},setValues:function(_d4,_d5,_d6){return this._setValueOrValues(_d4,_d5,_d6,true);},unsetAttribute:function(_d7,_d8){return this._setValueOrValues(_d7,_d8,[],true);},_setValueOrValues:function(_d9,_da,_db,_dc){this._assert(!this._saveInProgress);this._assertIsItem(_d9);this._assert(dojo.isString(_da));this._assert(typeof _db!=="undefined");var _dd=this._getIdentifierAttribute();if(_da==_dd){throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");}var _de=this._getValueOrValues(_d9,_da);var _df=this.getIdentity(_d9);if(!this._pending._modifiedItems[_df]){var _e0={};for(var key in _d9){if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){_e0[key]=_d9[key];}else{if(key===this._reverseRefMap){_e0[key]=dojo.clone(_d9[key]);}else{_e0[key]=_d9[key].slice(0,_d9[key].length);}}}this._pending._modifiedItems[_df]=_e0;}var _e2=false;if(dojo.isArray(_db)&&_db.length===0){_e2=delete _d9[_da];_db=undefined;if(this.referenceIntegrity&&_de){var _e3=_de;if(!dojo.isArray(_e3)){_e3=[_e3];}for(var i=0;i<_e3.length;i++){var _e5=_e3[i];if(this.isItem(_e5)){this._removeReferenceFromMap(_e5,_d9,_da);}}}}else{var _e6;if(dojo.isArray(_db)){var _e7=_db;_e6=_db.slice(0,_db.length);}else{_e6=[_db];}if(this.referenceIntegrity){if(_de){var _e3=_de;if(!dojo.isArray(_e3)){_e3=[_e3];}var map={};dojo.forEach(_e3,function(_e9){if(this.isItem(_e9)){var id=this.getIdentity(_e9);map[id.toString()]=true;}},this);dojo.forEach(_e6,function(_eb){if(this.isItem(_eb)){var id=this.getIdentity(_eb);if(map[id.toString()]){delete map[id.toString()];}else{this._addReferenceToMap(_eb,_d9,_da);}}},this);for(var rId in map){var _ee;if(this._itemsByIdentity){_ee=this._itemsByIdentity[rId];}else{_ee=this._arrayOfAllItems[rId];}this._removeReferenceFromMap(_ee,_d9,_da);}}else{for(var i=0;i<_e6.length;i++){var _e5=_e6[i];if(this.isItem(_e5)){this._addReferenceToMap(_e5,_d9,_da);}}}}_d9[_da]=_e6;_e2=true;}if(_dc){this.onSet(_d9,_da,_de,_db);}return _e2;},_addReferenceToMap:function(_ef,_f0,_f1){var _f2=this.getIdentity(_f0);var _f3=_ef[this._reverseRefMap];if(!_f3){_f3=_ef[this._reverseRefMap]={};}var _f4=_f3[_f2];if(!_f4){_f4=_f3[_f2]={};}_f4[_f1]=true;},_removeReferenceFromMap:function(_f5,_f6,_f7){var _f8=this.getIdentity(_f6);var _f9=_f5[this._reverseRefMap];var _fa;if(_f9){for(_fa in _f9){if(_fa==_f8){delete _f9[_fa][_f7];if(this._isEmpty(_f9[_fa])){delete _f9[_fa];}}}if(this._isEmpty(_f9)){delete _f5[this._reverseRefMap];}}},_dumpReferenceMap:function(){var i;for(i=0;i<this._arrayOfAllItems.length;i++){var _fc=this._arrayOfAllItems[i];if(_fc&&_fc[this._reverseRefMap]){console.log("Item: ["+this.getIdentity(_fc)+"] is referenced by: "+dojo.toJson(_fc[this._reverseRefMap]));}}},_getValueOrValues:function(_fd,_fe){var _ff=undefined;if(this.hasAttribute(_fd,_fe)){var _100=this.getValues(_fd,_fe);if(_100.length==1){_ff=_100[0];}else{_ff=_100;}}return _ff;},_flatten:function(_101){if(this.isItem(_101)){var item=_101;var _103=this.getIdentity(item);var _104={_reference:_103};return _104;}else{if(typeof _101==="object"){for(var type in this._datatypeMap){var _106=this._datatypeMap[type];if(dojo.isObject(_106)&&!dojo.isFunction(_106)){if(_101 instanceof _106.type){if(!_106.serialize){throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+type+"]");}return {_type:type,_value:_106.serialize(_101)};}}else{if(_101 instanceof _106){return {_type:type,_value:_101.toString()};}}}}return _101;}},_getNewFileContentString:function(){var _107={};var _108=this._getIdentifierAttribute();if(_108!==Number){_107.identifier=_108;}if(this._labelAttr){_107.label=this._labelAttr;}_107.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var item=this._arrayOfAllItems[i];if(item!==null){var _10b={};for(var key in item){if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){var _10d=key;var _10e=this.getValues(item,_10d);if(_10e.length==1){_10b[_10d]=this._flatten(_10e[0]);}else{var _10f=[];for(var j=0;j<_10e.length;++j){_10f.push(this._flatten(_10e[j]));_10b[_10d]=_10f;}}}}_107.items.push(_10b);}}var _111=true;return dojo.toJson(_107,_111);},_isEmpty:function(_112){var _113=true;if(dojo.isObject(_112)){var i;for(i in _112){_113=false;break;}}else{if(dojo.isArray(_112)){if(_112.length>0){_113=false;}}}return _113;},save:function(_115){this._assert(!this._saveInProgress);this._saveInProgress=true;var self=this;var _117=function(){self._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};self._saveInProgress=false;if(_115&&_115.onComplete){var _118=_115.scope||dojo.global;_115.onComplete.call(_118);}};var _119=function(err){self._saveInProgress=false;if(_115&&_115.onError){var _11b=_115.scope||dojo.global;_115.onError.call(_11b,err);}};if(this._saveEverything){var _11c=this._getNewFileContentString();this._saveEverything(_117,_119,_11c);}if(this._saveCustom){this._saveCustom(_117,_119);}if(!this._saveEverything&&!this._saveCustom){_117();}},revert:function(){this._assert(!this._saveInProgress);var _11d;for(_11d in this._pending._modifiedItems){var _11e=this._pending._modifiedItems[_11d];var _11f=null;if(this._itemsByIdentity){_11f=this._itemsByIdentity[_11d];}else{_11f=this._arrayOfAllItems[_11d];}_11e[this._storeRefPropName]=this;_11f[this._storeRefPropName]=null;var _120=_11f[this._itemNumPropName];this._arrayOfAllItems[_120]=_11e;if(_11f[this._rootItemPropName]){var i;for(i=0;i<this._arrayOfTopLevelItems.length;i++){var _122=this._arrayOfTopLevelItems[i];if(this.getIdentity(_122)==_11d){this._arrayOfTopLevelItems[i]=_11e;break;}}}if(this._itemsByIdentity){this._itemsByIdentity[_11d]=_11e;}}var _123;for(_11d in this._pending._deletedItems){_123=this._pending._deletedItems[_11d];_123[this._storeRefPropName]=this;var _124=_123[this._itemNumPropName];if(_123["backup_"+this._reverseRefMap]){_123[this._reverseRefMap]=_123["backup_"+this._reverseRefMap];delete _123["backup_"+this._reverseRefMap];}this._arrayOfAllItems[_124]=_123;if(this._itemsByIdentity){this._itemsByIdentity[_11d]=_123;}if(_123[this._rootItemPropName]){this._arrayOfTopLevelItems.push(_123);}}for(_11d in this._pending._deletedItems){_123=this._pending._deletedItems[_11d];if(_123["backupRefs_"+this._reverseRefMap]){dojo.forEach(_123["backupRefs_"+this._reverseRefMap],function(_125){var _126;if(this._itemsByIdentity){_126=this._itemsByIdentity[_125.id];}else{_126=this._arrayOfAllItems[_125.id];}this._addReferenceToMap(_126,_123,_125.attr);},this);delete _123["backupRefs_"+this._reverseRefMap];}}for(_11d in this._pending._newItems){var _127=this._pending._newItems[_11d];_127[this._storeRefPropName]=null;this._arrayOfAllItems[_127[this._itemNumPropName]]=null;if(_127[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_127);}if(this._itemsByIdentity){delete this._itemsByIdentity[_11d];}}this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return true;},isDirty:function(item){if(item){var _129=this.getIdentity(item);return new Boolean(this._pending._newItems[_129]||this._pending._modifiedItems[_129]||this._pending._deletedItems[_129]).valueOf();}else{if(!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)){return true;}return false;}},onSet:function(item,_12b,_12c,_12d){},onNew:function(_12e,_12f){},onDelete:function(_130){},close:function(_131){if(this.clearOnClose){if(!this.isDirty()){this.inherited(arguments);}else{if(this._jsonFileUrl!==""){throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");}}}}});}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _132=dojo.doc;if(_132.selection){var s=_132.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _134=dojo.global;var _135=_134.getSelection();if(dojo.isString(_135)){return !_135;}else{return !_135||_135.isCollapsed||!_135.toString();}}},getBookmark:function(){var _136,_137=dojo.doc.selection;if(_137){var _138=_137.createRange();if(_137.type.toUpperCase()=="CONTROL"){if(_138.length){_136=[];var i=0,len=_138.length;while(i<len){_136.push(_138.item(i++));}}else{_136=null;}}else{_136=_138.getBookmark();}}else{if(window.getSelection){_137=dojo.global.getSelection();if(_137){_138=_137.getRangeAt(0);_136=_138.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _136;},moveToBookmark:function(_13b){var _13c=dojo.doc;if(_13c.selection){var _13d;if(dojo.isArray(_13b)){_13d=_13c.body.createControlRange();dojo.forEach(_13b,function(n){_13d.addElement(n);});}else{_13d=_13c.selection.createRange();_13d.moveToBookmark(_13b);}_13d.select();}else{var _13f=dojo.global.getSelection&&dojo.global.getSelection();if(_13f&&_13f.removeAllRanges){_13f.removeAllRanges();_13f.addRange(_13b);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(menu,_141){return {node:menu&&dojo.isDescendant(dijit._curFocus,menu.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_141||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_141||dojo.global,dijit.getBookmark):null,openedForWindow:_141};},focus:function(_142){if(!_142){return;}var node="node" in _142?_142.node:_142,_144=_142.bookmark,_145=_142.openedForWindow;if(node){var _146=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_146&&_146.focus){try{_146.focus();}catch(e){}}dijit._onFocusNode(node);}if(_144&&dojo.withGlobal(_145||dojo.global,dijit.isCollapsed)){if(_145){_145.focus();}try{dojo.withGlobal(_145||dojo.global,dijit.moveToBookmark,null,[_144]);}catch(e){}}},_activeStack:[],registerIframe:function(_147){dijit.registerWin(_147.contentWindow,_147);},registerWin:function(_148,_149){dojo.connect(_148.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(_149||evt.target||evt.srcElement);});var doc=_148.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(_149||evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(_149||evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(_149||evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(_149||evt.target);},true);}}doc=null;},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _152=[];try{while(node){if(node.dijitPopupParent){node=dijit.byId(node.dijitPopupParent).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dijit.getDocumentWindow(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId");if(id){_152.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_152);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_155){var _156=dijit._activeStack;dijit._activeStack=_155;for(var _157=0;_157<Math.min(_156.length,_155.length);_157++){if(_156[_157]!=_155[_157]){break;}}for(var i=_156.length-1;i>=_157;i--){var _159=dijit.byId(_156[i]);if(_159){_159._focused=false;_159._hasBeenBlurred=true;if(_159._onBlur){_159._onBlur();}if(_159._setStateClass){_159._setStateClass();}dojo.publish("widgetBlur",[_159]);}}for(i=_157;i<_155.length;i++){_159=dijit.byId(_155[i]);if(_159){_159._focused=true;if(_159._onFocus){_159._onFocus();}if(_159._setStateClass){_159._setStateClass();}dojo.publish("widgetFocus",[_159]);}}}});dojo.addOnLoad(function(){dijit.registerWin(window);});}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_15a){if(this._hash[_15a.id]){throw new Error("Tried to register widget with id=="+_15a.id+" but that id is already registered");}this._hash[_15a.id]=_15a;},remove:function(id){delete this._hash[id];},forEach:function(func){for(var id in this._hash){func(this._hash[id]);}},filter:function(_15e){var res=new dijit.WidgetSet();this.forEach(function(_160){if(_15e(_160)){res.add(_160);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_163){return _163.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_164){var id;do{id=_164+"_"+(_164 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_164]:dijit._widgetTypeCtr[_164]=0);}while(dijit.byId(id));return id;};dijit.findWidgets=function(root){var _167=[];function _168(root){var list=dojo.isIE?root.children:root.childNodes,i=0,node;while(node=list[i++]){if(node.nodeType!=1){continue;}var _16d=node.getAttribute("widgetId");if(_16d){var _16e=dijit.byId(_16d);_167.push(_16e);}else{_168(node);}}};_168(root);return _167;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dojo.forEach(dijit.findWidgets(dojo.body()),function(_16f){if(_16f.destroyRecursive){_16f.destroyRecursive();}else{if(_16f.destroy){_16f.destroy();}}});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(node){return dijit.registry.byId(node.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(node){while(node){if(node.getAttribute&&node.getAttribute("widgetId")){return dijit.registry.byId(node.getAttribute("widgetId"));}node=node.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(elem){var _174=dojo.style(elem);return (_174.visibility!="hidden")&&(_174.visibility!="collapsed")&&(_174.display!="none")&&(dojo.attr(elem,"type")!="hidden");};dijit.isTabNavigable=function(elem){if(dojo.hasAttr(elem,"disabled")){return false;}var _176=dojo.hasAttr(elem,"tabindex");var _177=dojo.attr(elem,"tabindex");if(_176&&_177>=0){return true;}var name=elem.nodeName.toLowerCase();if(((name=="a"&&dojo.hasAttr(elem,"href"))||dijit._tabElements[name])&&(!_176||_177>=0)){return true;}return false;};dijit._getTabNavigable=function(root){var _17a,last,_17c,_17d,_17e,_17f;var _180=function(_181){dojo.query("> *",_181).forEach(function(_182){var _183=dijit._isElementShown(_182);if(_183&&dijit.isTabNavigable(_182)){var _184=dojo.attr(_182,"tabindex");if(!dojo.hasAttr(_182,"tabindex")||_184==0){if(!_17a){_17a=_182;}last=_182;}else{if(_184>0){if(!_17c||_184<_17d){_17d=_184;_17c=_182;}if(!_17e||_184>=_17f){_17f=_184;_17e=_182;}}}}if(_183&&_182.nodeName.toUpperCase()!="SELECT"){_180(_182);}});};if(dijit._isElementShown(root)){_180(root);}return {first:_17a,last:last,lowest:_17c,highest:_17e};};dijit.getFirstInTabbingOrder=function(root){var _186=dijit._getTabNavigable(dojo.byId(root));return _186.lowest?_186.lowest:_186.first;};dijit.getLastInTabbingOrder=function(root){var _188=dijit._getTabNavigable(dojo.byId(root));return _188.last?_188.last:_188.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_189){this.pairs=[];this.returnWrappers=_189||false;};dojo.extend(dojo.AdapterRegistry,{register:function(name,_18b,wrap,_18d,_18e){this.pairs[((_18e)?"unshift":"push")]([name,_18b,wrap,_18d]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _194=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _195=dojo._docScroll();return {w:_194.clientWidth,h:_194.clientHeight,l:_195.x,t:_195.y};};dijit.placeOnScreen=function(node,pos,_198,_199){var _19a=dojo.map(_198,function(_19b){var c={corner:_19b,pos:{x:pos.x,y:pos.y}};if(_199){c.pos.x+=_19b.charAt(1)=="L"?_199.x:-_199.x;c.pos.y+=_19b.charAt(0)=="T"?_199.y:-_199.y;}return c;});return dijit._place(node,_19a);};dijit._place=function(node,_19e,_19f){var view=dijit.getViewport();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_19e,function(_1a2){var _1a3=_1a2.corner;var pos=_1a2.pos;if(_19f){_19f(node,_1a2.aroundCorner,_1a3);}var _1a5=node.style;var _1a6=_1a5.display;var _1a7=_1a5.visibility;_1a5.visibility="hidden";_1a5.display="";var mb=dojo.marginBox(node);_1a5.display=_1a6;_1a5.visibility=_1a7;var _1a9=(_1a3.charAt(1)=="L"?pos.x:Math.max(view.l,pos.x-mb.w)),_1aa=(_1a3.charAt(0)=="T"?pos.y:Math.max(view.t,pos.y-mb.h)),endX=(_1a3.charAt(1)=="L"?Math.min(view.l+view.w,_1a9+mb.w):pos.x),endY=(_1a3.charAt(0)=="T"?Math.min(view.t+view.h,_1aa+mb.h):pos.y),_1ad=endX-_1a9,_1ae=endY-_1aa,_1af=(mb.w-_1ad)+(mb.h-_1ae);if(best==null||_1af<best.overflow){best={corner:_1a3,aroundCorner:_1a2.aroundCorner,x:_1a9,y:_1aa,w:_1ad,h:_1ae,overflow:_1af};}return !_1af;});node.style.left=best.x+"px";node.style.top=best.y+"px";if(best.overflow&&_19f){_19f(node,best.aroundCorner,best.corner);}return best;};dijit.placeOnScreenAroundNode=function(node,_1b1,_1b2,_1b3){_1b1=dojo.byId(_1b1);var _1b4=_1b1.style.display;_1b1.style.display="";var _1b5=_1b1.offsetWidth;var _1b6=_1b1.offsetHeight;var _1b7=dojo.coords(_1b1,true);_1b1.style.display=_1b4;return dijit._placeOnScreenAroundRect(node,_1b7.x,_1b7.y,_1b5,_1b6,_1b2,_1b3);};dijit.placeOnScreenAroundRectangle=function(node,_1b9,_1ba,_1bb){return dijit._placeOnScreenAroundRect(node,_1b9.x,_1b9.y,_1b9.width,_1b9.height,_1ba,_1bb);};dijit._placeOnScreenAroundRect=function(node,x,y,_1bf,_1c0,_1c1,_1c2){var _1c3=[];for(var _1c4 in _1c1){_1c3.push({aroundCorner:_1c4,corner:_1c1[_1c4],pos:{x:x+(_1c4.charAt(1)=="L"?0:_1bf),y:y+(_1c4.charAt(0)=="T"?0:_1c0)}});}return dijit._place(node,_1c3,_1c2);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_1ca,_1cb,_1cc){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _1cf=[],_1d0=1000,_1d1=1;this.prepare=function(node){var s=node.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}dojo.body().appendChild(node);};this.open=function(args){var _1d5=args.popup,_1d6=args.orient||{"BL":"TL","TL":"BL"},_1d7=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+_1d1++);var _1d9=dojo.create("div",{id:id,"class":"dijitPopup",style:{zIndex:_1d0+_1cf.length,visibility:"hidden"}},dojo.body());dijit.setWaiRole(_1d9,"presentation");_1d9.style.left=_1d9.style.top="0px";if(args.parent){_1d9.dijitPopupParent=args.parent.id;}var s=_1d5.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_1d9.appendChild(_1d5.domNode);var _1db=new dijit.BackgroundIframe(_1d9);var best=_1d7?dijit.placeOnScreenAroundElement(_1d9,_1d7,_1d6,_1d5.orient?dojo.hitch(_1d5,"orient"):null):dijit.placeOnScreen(_1d9,args,_1d6=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_1d9.style.visibility="visible";var _1dd=[];var _1de=function(){for(var pi=_1cf.length-1;pi>0&&_1cf[pi].parent===_1cf[pi-1].widget;pi--){}return _1cf[pi];};_1dd.push(dojo.connect(_1d9,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _1e1=_1de();if(_1e1&&_1e1.onCancel){_1e1.onCancel();}}}}));if(_1d5.onCancel){_1dd.push(dojo.connect(_1d5,"onCancel",null,args.onCancel));}_1dd.push(dojo.connect(_1d5,_1d5.onExecute?"onExecute":"onChange",null,function(){var _1e2=_1de();if(_1e2&&_1e2.onExecute){_1e2.onExecute();}}));_1cf.push({wrapper:_1d9,iframe:_1db,widget:_1d5,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_1dd});if(_1d5.onOpen){_1d5.onOpen(best);}return best;};this.close=function(_1e3){while(dojo.some(_1cf,function(elem){return elem.widget==_1e3;})){var top=_1cf.pop(),_1e6=top.wrapper,_1e7=top.iframe,_1e8=top.widget,_1e9=top.onClose;if(_1e8.onClose){_1e8.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_1e8||!_1e8.domNode){return;}this.prepare(_1e8.domNode);_1e7.destroy();dojo.destroy(_1e6);if(_1e9){_1e9();}}};}();dijit._frames=new function(){var _1ea=[];this.pop=function(){var _1eb;if(_1ea.length){_1eb=_1ea.pop();_1eb.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_1eb=dojo.doc.createElement(html);}else{_1eb=dojo.create("iframe");_1eb.src="javascript:\"\"";_1eb.className="dijitBackgroundIframe";}_1eb.tabIndex=-1;dojo.body().appendChild(_1eb);}return _1eb;};this.push=function(_1ee){_1ee.style.display="none";if(dojo.isIE){_1ee.style.removeExpression("width");_1ee.style.removeExpression("height");}_1ea.push(_1ee);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE<7||(dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _1f0=dijit._frames.pop();node.appendChild(_1f0);if(dojo.isIE){_1f0.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetWidth");_1f0.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetHeight");}this.iframe=_1f0;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node){try{node=dojo.byId(node);var doc=dojo.doc;var body=dojo.body();var html=body.parentNode;if((!(dojo.isFF>=3||dojo.isIE||dojo.isWebKit)||node==body||node==html)&&(typeof node.scrollIntoView=="function")){node.scrollIntoView(false);return;}var ltr=dojo._isBodyLtr();var _1f6=dojo.isIE>=8&&!_1f7;var rtl=!ltr&&!_1f6;var _1f9=body;var _1f7=doc.compatMode=="BackCompat";if(_1f7){html._offsetWidth=html._clientWidth=body._offsetWidth=body.clientWidth;html._offsetHeight=html._clientHeight=body._offsetHeight=body.clientHeight;}else{if(dojo.isWebKit){body._offsetWidth=body._clientWidth=html.clientWidth;body._offsetHeight=body._clientHeight=html.clientHeight;}else{_1f9=html;}html._offsetHeight=html.clientHeight;html._offsetWidth=html.clientWidth;}function _1fa(_1fb){var ie=dojo.isIE;return ((ie<=6||(ie>=7&&_1f7))?false:(dojo.style(_1fb,"position").toLowerCase()=="fixed"));};function _1fd(_1fe){var _1ff=_1fe.parentNode;var _200=_1fe.offsetParent;if(_200==null||_1fa(_1fe)){_200=html;_1ff=(_1fe==body)?html:null;}_1fe._offsetParent=_200;_1fe._parent=_1ff;var bp=dojo._getBorderExtents(_1fe);_1fe._borderStart={H:(_1f6&&!ltr)?(bp.w-bp.l):bp.l,V:bp.t};_1fe._borderSize={H:bp.w,V:bp.h};_1fe._scrolledAmount={H:_1fe.scrollLeft,V:_1fe.scrollTop};_1fe._offsetSize={H:_1fe._offsetWidth||_1fe.offsetWidth,V:_1fe._offsetHeight||_1fe.offsetHeight};_1fe._offsetStart={H:(_1f6&&!ltr)?_200.clientWidth-_1fe.offsetLeft-_1fe._offsetSize.H:_1fe.offsetLeft,V:_1fe.offsetTop};_1fe._clientSize={H:_1fe._clientWidth||_1fe.clientWidth,V:_1fe._clientHeight||_1fe.clientHeight};if(_1fe!=body&&_1fe!=html&&_1fe!=node){for(var dir in _1fe._offsetSize){var _203=_1fe._offsetSize[dir]-_1fe._clientSize[dir]-_1fe._borderSize[dir];var _204=_1fe._clientSize[dir]>0&&_203>0;if(_204){_1fe._offsetSize[dir]-=_203;if(dojo.isIE&&rtl&&dir=="H"){_1fe._offsetStart[dir]+=_203;}}}}};var _205=node;while(_205!=null){if(_1fa(_205)){node.scrollIntoView(false);return;}_1fd(_205);_205=_205._parent;}if(dojo.isIE&&node._parent){var _206=node._offsetParent;node._offsetStart.H+=_206._borderStart.H;node._offsetStart.V+=_206._borderStart.V;}if(dojo.isIE>=7&&_1f9==html&&rtl&&body._offsetStart&&body._offsetStart.H==0){var _207=html.scrollWidth-html._offsetSize.H;if(_207>0){body._offsetStart.H=-_207;}}if(dojo.isIE<=6&&!_1f7){html._offsetSize.H+=html._borderSize.H;html._offsetSize.V+=html._borderSize.V;}if(rtl&&body._offsetStart&&_1f9==html&&html._scrolledAmount){var ofs=body._offsetStart.H;if(ofs<0){html._scrolledAmount.H+=ofs;body._offsetStart.H=0;}}_205=node;while(_205){var _209=_205._parent;if(!_209){break;}if(_209.tagName=="TD"){var _20a=_209._parent._parent._parent;if(_209!=_205._offsetParent&&_209._offsetParent!=_205._offsetParent){_209=_20a;}}var _20b=_205._offsetParent==_209;for(var dir in _205._offsetStart){var _20d=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(_209!=html)&&(_209!=body)&&(dojo.isIE||dojo.isWebKit)&&_209._clientSize.H>0&&_209.scrollWidth>_209._clientSize.H){var _20e=_209.scrollWidth-_209._clientSize.H;if(_20e>0){_209._scrolledAmount.H-=_20e;}}if(_209._offsetParent.tagName=="TABLE"){if(dojo.isIE){_209._offsetStart[dir]-=_209._offsetParent._borderStart[dir];_209._borderStart[dir]=_209._borderSize[dir]=0;}else{_209._offsetStart[dir]+=_209._offsetParent._borderStart[dir];}}if(dojo.isIE){_209._offsetStart[dir]+=_209._offsetParent._borderStart[dir];}var _20f=_205._offsetStart[dir]-_209._scrolledAmount[dir]-(_20b?0:_209._offsetStart[dir])-_209._borderStart[dir];var _210=_20f+_205._offsetSize[dir]-_209._offsetSize[dir]+_209._borderSize[dir];var _211=(dir=="H")?"scrollLeft":"scrollTop";var _212=dir=="H"&&rtl;var _213=_212?-_210:_20f;var _214=_212?-_20f:_210;var _215=(_213*_214<=0)?0:Math[(_213<0)?"max":"min"](_213,_214);if(_215!=0){var _216=_209[_211];_209[_211]+=(_212)?-_215:_215;var _217=_209[_211]-_216;}if(_20b){_205._offsetStart[dir]+=_209._offsetStart[dir];}_205._offsetStart[dir]-=_209[_211];}_205._parent=_209._parent;_205._offsetParent=_209._offsetParent;}_209=node;var next;while(_209&&_209.removeAttribute){next=_209.parentNode;_209.removeAttribute("_offsetParent");_209.removeAttribute("_parent");_209=next;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_21c=d.isOpera,maj=Math.floor,ff=d.isFF,_21f=d.boxModel.replace(/-/,""),_220={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_21c,dj_opera8:maj(_21c)==8,dj_opera9:maj(_21c)==9,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_220["dj_"+_21f]=true;for(var p in _220){if(_220[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _220){if(_220[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_224,node,_226,obj,_228,_229){if(obj!=this._obj){this.stop();this._initialDelay=_229||500;this._subsequentDelay=_228||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_224,_226);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_22b,_22c,_22d,_22e,_22f){if(_22b.keyCode){_22b.charOrCode=_22b.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_22b.charCode){_22b.charOrCode=String.fromCharCode(_22b.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_22b.charOrCode&&(_22b.ctrlKey===undefined||_22b.ctrlKey==evt.ctrlKey)&&(_22b.altKey===undefined||_22b.altKey==evt.ctrlKey)&&(_22b.shiftKey===undefined||_22b.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_22b,_22c,node,_22d,_22b,_22e,_22f);}else{if(dijit.typematic._obj==_22b){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_22b){dijit.typematic.stop();}})];},addMouseListener:function(node,_233,_234,_235,_236){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_233,node,_234,node,_235,_236);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_233,node,_234,node,_235,_236);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_23d,_23e,_23f,_240,_241,_242,_243){return this.addKeyListener(_23e,_23f,_240,_241,_242,_243).concat(this.addMouseListener(_23d,_240,_241,_242,_243));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _246=cs.backgroundImage;var _247=(cs.borderTopColor==cs.borderRightColor)||(_246!=null&&(_246=="none"||_246=="url(invalid-url:)"));dojo[_247?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _24a=this.getWaiRole(elem);return role?(_24a.indexOf(role)>-1):(_24a.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _24e=dojo.attr(elem,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(_24e)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_24e+" ").indexOf(" "+role+" ")<0){var _24f=dojo.trim(_24e.replace(this._XhtmlRoles,""));var _250=dojo.trim(_24e.replace(_24f,""));dojo.attr(elem,"role",_250+(_250?" ":"")+role);}}},removeWaiRole:function(elem,role){var _253=dojo.attr(elem,"role");if(!_253){return;}if(role){var _254=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_253+" ").replace(" "+_254+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_257){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_257);}return elem.hasAttribute?elem.hasAttribute("aria-"+_257):!!elem.getAttribute("aria-"+_257);},getWaiState:function(elem,_259){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_259);}return elem.getAttribute("aria-"+_259)||"";},setWaiState:function(elem,_25b,_25c){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_25b,_25c);}else{elem.setAttribute("aria-"+_25b,_25c);}},removeWaiState:function(elem,_25e){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_25e);}else{elem.removeAttribute("aria-"+_25e);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _260=d._scopeName+"Type";var qry="["+_260+"]";var _262=0,_263={};var _264=function(_265,_266){var nso=_266||_263;if(dojo.isIE){var cn=_265["__dojoNameCache"];if(cn&&nso[cn]===_265){return cn;}}var name;do{name="__"+_262++;}while(name in nso);nso[name]=_265;return name;};function _26a(_26b){if(d.isString(_26b)){return "string";}if(typeof _26b=="number"){return "number";}if(typeof _26b=="boolean"){return "boolean";}if(d.isFunction(_26b)){return "function";}if(d.isArray(_26b)){return "array";}if(_26b instanceof Date){return "date";}if(_26b instanceof d._Url){return "url";}return "object";};function _26c(_26d,type){switch(type){case "string":return _26d;case "number":return _26d.length?Number(_26d):NaN;case "boolean":return typeof _26d=="boolean"?_26d:!(_26d.toLowerCase()=="false");case "function":if(d.isFunction(_26d)){_26d=_26d.toString();_26d=d.trim(_26d.substring(_26d.indexOf("{")+1,_26d.length-1));}try{if(_26d.search(/[^\w\.]+/i)!=-1){_26d=_264(new Function(_26d),this);}return d.getObject(_26d,false);}catch(e){return new Function();}case "array":return _26d?_26d.split(/\s*,\s*/):[];case "date":switch(_26d){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_26d);}case "url":return d.baseUrl+_26d;default:return d.fromJson(_26d);}};var _26f={};function _270(_271){if(!_26f[_271]){var cls=d.getObject(_271);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_271+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _273=cls.prototype;var _274={},_275={};for(var name in _273){if(name.charAt(0)=="_"){continue;}if(name in _275){continue;}var _277=_273[name];_274[name]=_26a(_277);}_26f[_271]={cls:cls,params:_274};}return _26f[_271];};this._functionFromScript=function(_278){var _279="";var _27a="";var _27b=_278.getAttribute("args");if(_27b){d.forEach(_27b.split(/\s*,\s*/),function(part,idx){_279+="var "+part+" = arguments["+idx+"]; ";});}var _27e=_278.getAttribute("with");if(_27e&&_27e.length){d.forEach(_27e.split(/\s*,\s*/),function(part){_279+="with("+part+"){";_27a+="}";});}return new Function(_279+_278.innerHTML+_27a);};this.instantiate=function(_280,_281){var _282=[];_281=_281||{};d.forEach(_280,function(node){if(!node){return;}var type=_260 in _281?_281[_260]:node.getAttribute(_260);if(!type||!type.length){return;}var _285=_270(type),_286=_285.cls,ps=_286._noScript||_286.prototype._noScript;var _288={},_289=node.attributes;for(var name in _285.params){var item=name in _281?{value:_281[name],specified:true}:_289.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _28c=item.value;switch(name){case "class":_28c="className" in _281?_281.className:node.className;break;case "style":_28c="style" in _281?_281.style:(node.style&&node.style.cssText);}var _28d=_285.params[name];if(typeof _28c=="string"){_288[name]=_26c(_28c,_28d);}else{_288[name]=_28c;}}if(!ps){var _28e=[],_28f=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_290){var _291=_290.getAttribute("event"),type=_290.getAttribute("type"),nf=d.parser._functionFromScript(_290);if(_291){if(type=="dojo/connect"){_28e.push({event:_291,func:nf});}else{_288[_291]=nf;}}else{_28f.push(nf);}});}var _293=_286["markupFactory"];if(!_293&&_286["prototype"]){_293=_286.prototype["markupFactory"];}var _294=_293?_293(_288,node,_286):new _286(_288,node);_282.push(_294);var _295=node.getAttribute("jsId");if(_295){d.setObject(_295,_294);}if(!ps){d.forEach(_28e,function(_296){d.connect(_294,_296.event,null,_296.func);});d.forEach(_28f,function(func){func.call(_294);});}});d.forEach(_282,function(_298){if(_298&&_298.startup&&!_298._started&&(!_298.getParent||!_298.getParent())){_298.startup();}});return _282;};this.parse=function(_299){var list=d.query(qry,_299);var _29b=this.instantiate(list);return _29b;};}();(function(){var _29c=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_29c);}else{dojo._loaders.unshift(_29c);}})();}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_29d,_29e){if(_29d&&dojo.isFunction(_29d._onConnect)){_29d._onConnect(_29e);}});dijit._connectOnUseEventHandler=function(_29f){};(function(){var _2a0={};var _2a1=function(dc){if(!_2a0[dc]){var r=[];var _2a4;var _2a5=dojo.getObject(dc).prototype;for(var _2a6 in _2a5){if(dojo.isFunction(_2a5[_2a6])&&(_2a4=_2a6.match(/^_set([a-zA-Z]*)Attr$/))&&_2a4[1]){r.push(_2a4[1].charAt(0).toLowerCase()+_2a4[1].substr(1));}}_2a0[dc]=r;}return _2a0[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(_2a7,_2a8){this.create(_2a7,_2a8);},create:function(_2a9,_2aa){this.srcNodeRef=dojo.byId(_2aa);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_2a9){this.params=_2a9;dojo.mixin(this,_2a9);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _2ac=this.srcNodeRef;if(_2ac&&_2ac.parentNode){_2ac.parentNode.replaceChild(this.domNode,_2ac);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _2ad=function(attr,_2af){if((_2af.params&&attr in _2af.params)||_2af[attr]){_2af.attr(attr,_2af[attr]);}};for(var attr in this.attributeMap){_2ad(attr,this);}dojo.forEach(_2a1(this.declaredClass),function(a){if(!(a in this.attributeMap)){_2ad(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_2b2){this.destroyDescendants(_2b2);this.destroy(_2b2);},destroy:function(_2b3){this.uninitialize();dojo.forEach(this._connects,function(_2b4){dojo.forEach(_2b4,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_2b3);dijit.registry.remove(this.id);},destroyRendering:function(_2b6){if(this.bgIframe){this.bgIframe.destroy(_2b6);delete this.bgIframe;}if(this.domNode){if(_2b6){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_2b6){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_2b7){dojo.forEach(this.getChildren(),function(_2b8){if(_2b8.destroyRecursive){_2b8.destroyRecursive(_2b7);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_2ba){if(_2ba in this._deferredConnects){var _2bb=this[this._deferredConnects[_2ba]||"domNode"];this.connect(_2bb,_2ba.toLowerCase(),_2ba);delete this._deferredConnects[_2ba];}},_setClassAttr:function(_2bc){var _2bd=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_2bd,this["class"]);this["class"]=_2bc;dojo.addClass(_2bd,_2bc);},_setStyleAttr:function(_2be){var _2bf=this[this.attributeMap["style"]||"domNode"];if(dojo.isObject(_2be)){dojo.style(_2bf,_2be);}else{if(_2bf.style.cssText){_2bf.style.cssText+="; "+_2be;}else{_2bf.style.cssText=_2be;}}this["style"]=_2be;},setAttribute:function(attr,_2c1){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_2c1);},_attrToDom:function(attr,_2c3){var _2c4=this.attributeMap[attr];dojo.forEach(dojo.isArray(_2c4)?_2c4:[_2c4],function(_2c5){var _2c6=this[_2c5.node||_2c5||"domNode"];var type=_2c5.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_2c3)){_2c3=dojo.hitch(this,_2c3);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_2c6,attr,_2c3);break;case "innerHTML":_2c6.innerHTML=_2c3;break;case "class":dojo.removeClass(_2c6,this[attr]);dojo.addClass(_2c6,_2c3);break;}},this);this[attr]=_2c3;},attr:function(name,_2c9){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _2cc=this._getAttrNames(name);if(args==2){if(this[_2cc.s]){return this[_2cc.s](_2c9)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_2c9);}this[name]=_2c9;}return this;}else{if(this[_2cc.g]){return this[_2cc.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},getChildren:function(){if(this.containerNode){return dijit.findWidgets(this.containerNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_2d2,_2d3){var d=dojo;var dc=dojo.connect;var _2d6=[];if(_2d2=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_2d3);_2d6.push(dc(obj,"onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dc(obj,"onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));if(d.isFF){_2d6.push(dc(obj,"onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));}}_2d2="onclick";}_2d6.push(dc(obj,_2d2,this,_2d3));this._connects.push(_2d6);return _2d6;},disconnect:function(_2db){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_2db){dojo.forEach(_2db,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_2dd,_2de){if(_2dd["declaredClass"]&&_2dd["addChild"]){_2dd.addChild(this,_2de);}else{dojo.place(this.domNode,_2dd,_2de);}return this;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_2e8,map,_2ea,_2eb){_2eb=_2eb||dojo.global;_2ea=(!_2ea)?function(v){return v;}:dojo.hitch(_2eb,_2ea);return _2e8.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_2ed,key,_2ef){var _2f0=dojo.getObject(key,false,map);if(_2ef){_2f0=dojo.getObject(_2ef,false,_2eb).call(_2eb,_2f0,key);}return _2ea(_2f0,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(tmpl){var _2f4=this.declaredClass,_2f5=this;return dojo.string.substitute(tmpl,this,function(_2f6,key){if(key.charAt(0)=="!"){_2f6=dojo.getObject(key.substr(1),false,_2f5);}if(typeof _2f6=="undefined"){throw new Error(_2f4+" template:"+key);}if(_2f6==null){return "";}return key.charAt(0)=="!"?_2f6:_2f6.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _2f8=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_2f8)){node=dojo._toDom(this._stringRepl(_2f8));}else{node=_2f8.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_2fd){var dest=this.containerNode;if(_2fd&&dest){while(_2fd.hasChildNodes()){dest.appendChild(_2fd.firstChild);}}},_attachTemplateNodes:function(_2ff,_300){_300=_300||function(n,p){return n.getAttribute(p);};var _303=dojo.isArray(_2ff)?_2ff:(_2ff.all||_2ff.getElementsByTagName("*"));var x=dojo.isArray(_2ff)?0:-1;for(;x<_303.length;x++){var _305=(x==-1)?_2ff:_303[x];if(this.widgetsInTemplate&&_300(_305,"dojoType")){continue;}var _306=_300(_305,"dojoAttachPoint");if(_306){var _307,_308=_306.split(/\s*,\s*/);while((_307=_308.shift())){if(dojo.isArray(this[_307])){this[_307].push(_305);}else{this[_307]=_305;}}}var _309=_300(_305,"dojoAttachEvent");if(_309){var _30a,_30b=_309.split(/\s*,\s*/);var trim=dojo.trim;while((_30a=_30b.shift())){if(_30a){var _30d=null;if(_30a.indexOf(":")!=-1){var _30e=_30a.split(":");_30a=trim(_30e[0]);_30d=trim(_30e[1]);}else{_30a=trim(_30a);}if(!_30d){_30d=_30a;}this.connect(_305,_30a,_30d);}}}var role=_300(_305,"waiRole");if(role){dijit.setWaiRole(_305,role);}var _310=_300(_305,"waiState");if(_310){dojo.forEach(_310.split(/\s*,\s*/),function(_311){if(_311.indexOf("-")!=-1){var pair=_311.split("-");dijit.setWaiState(_305,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_313,_314,_315){var _316=dijit._Templated._templateCache;var key=_314||_313;var _318=_316[key];if(_318){if(!_318.ownerDocument||_318.ownerDocument==dojo.doc){return _318;}dojo.destroy(_318);}if(!_314){_314=dijit._Templated._sanitizeTemplateString(dojo.trim(dojo._getText(_313)));}_314=dojo.string.trim(_314);if(_315||_314.match(/\$\{([^\}]+)\}/g)){return (_316[key]=_314);}else{return (_316[key]=dojo._toDom(_314));}};dijit._Templated._sanitizeTemplateString=function(_319){if(_319){_319=_319.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _31a=_319.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_31a){_319=_31a[1];}}else{_319="";}return _319;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _31b=dijit._Templated._templateCache;for(var key in _31b){var _31d=_31b[key];if(!isNaN(_31d.nodeType)){dojo.destroy(_31d);}delete _31b[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_31e,_31f){var _320=this.containerNode;if(_31f&&typeof _31f=="number"){var _321=this.getChildren();if(_321&&_321.length>=_31f){_320=_321[_31f-1].domNode;_31f="after";}}dojo.place(_31e.domNode,_320,_31f);if(this._started&&!_31e._started){_31e.startup();}},removeChild:function(_322){if(typeof _322=="number"&&_322>0){_322=this.getChildren()[_322];}if(!_322||!_322.domNode){return;}var node=_322.domNode;node.parentNode.removeChild(node);},_nextElement:function(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function(){return !!this._firstElement(this.containerNode);},destroyDescendants:function(_326){dojo.forEach(this.getChildren(),function(_327){_327.destroyRecursive(_326);});},_getSiblingOfChild:function(_328,dir){var node=_328.domNode;var _32b=(dir>0?"nextSibling":"previousSibling");do{node=node[_32b];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node?dijit.byNode(node):null;},getIndexOfChild:function(_32c){var _32d=this.getChildren();for(var i=0,c;c=_32d[i];i++){if(c==_32c){return i;}}return -1;}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){for(var p=this.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _332=dijit.byId(id);return _332.isContainer?_332:null;}}return null;},_getSibling:function(_333){var node=this.domNode;do{node=node[_333+"Sibling"];}while(node&&node.nodeType!=1);if(!node){return null;}var id=node.getAttribute("widgetId");return dijit.byId(id);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");dojo.addClass(this.domNode,this.baseClass);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_337){_337.startup();});if(!this.getParent||!this.getParent()){this.resize();this._viewport=dijit.getViewport();this.connect(dojo.global,"onresize",function(){var _338=dijit.getViewport();if(_338.w!=this._viewport.w||_338.h!=this._viewport.h){this._viewport=_338;this.resize();}});}this.inherited(arguments);},resize:function(_339,_33a){var node=this.domNode;if(_339){dojo.marginBox(node,_339);if(_339.t){node.style.top=_339.t+"px";}if(_339.l){node.style.left=_339.l+"px";}}var mb=_33a||{};dojo.mixin(mb,_339||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_342){dojo.addClass(_342.domNode,this.baseClass+"-child");if(_342.baseClass){dojo.addClass(_342.domNode,this.baseClass+"-"+_342.baseClass);}},addChild:function(_343,_344){this.inherited(arguments);if(this._started){this._setupChild(_343);}},removeChild:function(_345){dojo.removeClass(_345.domNode,this.baseClass+"-child");if(_345.baseClass){dojo.removeClass(_345.domNode,this.baseClass+"-"+_345.baseClass);}this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _34b=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_34e,dim){_34e.resize?_34e.resize(dim):dojo.marginBox(_34e.domNode,dim);dojo.mixin(_34e,dojo.marginBox(_34e.domNode));dojo.mixin(_34e,dim);};dijit.layout.layoutChildren=function(_350,dim,_352){dim=dojo.mixin({},dim);dojo.addClass(_350,"dijitLayoutContainer");_352=dojo.filter(_352,function(item){return item.layoutAlign!="client";}).concat(dojo.filter(_352,function(item){return item.layoutAlign=="client";}));dojo.forEach(_352,function(_355){var elm=_355.domNode,pos=_355.layoutAlign;var _358=elm.style;_358.left=dim.l+"px";_358.top=dim.t+"px";_358.bottom=_358.right="auto";dojo.addClass(elm,"dijitAlign"+_34b(pos));if(pos=="top"||pos=="bottom"){size(_355,{w:dim.w});dim.h-=_355.h;if(pos=="top"){dim.t+=_355.h;}else{_358.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){size(_355,{h:dim.h});dim.w-=_355.w;if(pos=="left"){dim.l+=_355.w;}else{_358.left=dim.l+dim.w+"px";}}else{if(pos=="client"){size(_355,dim);}}}});};})();}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},_setDisabledAttr:function(_359){this.disabled=_359;dojo.attr(this.focusNode,"disabled",_359);dijit.setWaiState(this.focusNode,"disabled",_359);if(_359){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function(_35a){dojo.deprecated("setDisabled("+_35a+") is deprecated. Use attr('disabled',"+_35a+") instead.","","2.0");this.attr("disabled",_35a);},_onFocus:function(e){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode);}this.inherited(arguments);},_onMouse:function(_35c){var _35d=_35c.currentTarget;if(_35d&&_35d.getAttribute){this.stateModifier=_35d.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_35c.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _35e=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_35e);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(){var _35f=this.baseClass.split(" ");function _360(_361){_35f=_35f.concat(dojo.map(_35f,function(c){return c+_361;}),"dijit"+_361);};if(this.checked){_360("Checked");}if(this.state){_360(this.state);}if(this.selected){_360("Selected");}if(this.disabled){_360("Disabled");}else{if(this.readOnly){_360("ReadOnly");}else{if(this._active){_360(this.stateModifier+"Active");}else{if(this._focused){_360("Focused");}if(this._hovering){_360(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_364={};dojo.forEach(tn.className.split(" "),function(c){_364[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _364[c];});}dojo.forEach(_35f,function(c){_364[c]=true;});var _368=[];for(var c in _364){_368.push(c);}tn.className=_368.join(" ");this._stateClasses=_35f;},compare:function(val1,val2){if((typeof val1=="number")&&(typeof val2=="number")){return (isNaN(val1)&&isNaN(val2))?0:(val1-val2);}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_36c){},_onChangeActive:false,_handleOnChange:function(_36d,_36e){this._lastValue=_36d;if(this._lastValueReported==undefined&&(_36e===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_36d;}if((this.intermediateChanges||_36e||_36e===undefined)&&((typeof _36d!=typeof this._lastValueReported)||this.compare(_36d,this._lastValueReported)!=0)){this._lastValueReported=_36d;if(this._onChangeActive){this.onChange(_36d);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle);}this.inherited(arguments);},setValue:function(_36f){dojo.deprecated("dijit.form._FormWidget:setValue("+_36f+") is deprecated.  Use attr('value',"+_36f+") instead.","","2.0");this.attr("value",_36f);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_layoutHack:function(){if(dojo.isFF==2&&!this._layoutHackHandle){var node=this.domNode;var old=node.style.opacity;node.style.opacity="0.999";this._layoutHackHandle=setTimeout(dojo.hitch(this,function(){this._layoutHackHandle=null;node.style.opacity=old;}),0);}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:""}),postCreate:function(){if(dojo.isIE||dojo.isWebKit){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_372,_373){this.value=_372;this._handleOnChange(_372,_373);},_getValueAttr:function(_374){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!e.ctrlKey&&!e.altKey){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}else{if(dojo.isWebKit){te=document.createEvent("Events");te.initEvent("keypress",true,true);te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.target.dispatchEvent(te);}}}}});}if(!dojo._hasResource["dijit.dijit"]){dojo._hasResource["dijit.dijit"]=true;dojo.provide("dijit.dijit");}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",[dijit._Container],{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(_377,_378){var _379=this._keyNavCodes={};var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_377,function(code){_379[code]=prev;});dojo.forEach(_378,function(code){_379[code]=next;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_37e,_37f){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_37e);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusNext:function(){if(this.focusedChild&&this.focusedChild.hasNextFocalNode&&this.focusedChild.hasNextFocalNode()){this.focusedChild.focusNext();return;}var _380=this._getNextFocusableChild(this.focusedChild,1);if(_380.getFocalNodes){this.focusChild(_380,_380.getFocalNodes()[0]);}else{this.focusChild(_380);}},focusPrev:function(){if(this.focusedChild&&this.focusedChild.hasPrevFocalNode&&this.focusedChild.hasPrevFocalNode()){this.focusedChild.focusPrev();return;}var _381=this._getNextFocusableChild(this.focusedChild,-1);if(_381.getFocalNodes){var _382=_381.getFocalNodes();this.focusChild(_381,_382[_382.length-1]);}else{this.focusChild(_381);}},focusChild:function(_383,node){if(_383){if(this.focusedChild&&_383!==this.focusedChild){this._onChildBlur(this.focusedChild);}this.focusedChild=_383;if(node&&_383.focusFocalNode){_383.focusFocalNode(node);}else{_383.focus();}}},_startupChild:function(_385){if(_385.getFocalNodes){dojo.forEach(_385.getFocalNodes(),function(node){dojo.attr(node,"tabindex",-1);this._connectNode(node);},this);}else{var node=_385.focusNode||_385.domNode;if(_385.isFocusable()){dojo.attr(node,"tabindex",-1);}this._connectNode(node);}},_connectNode:function(node){this.connect(node,"onfocus","_onNodeFocus");this.connect(node,"onblur","_onNodeBlur");},_onContainerFocus:function(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();dojo.removeAttr(this.domNode,"tabIndex");},_onBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabindex",this.tabIndex);}},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onNodeFocus:function(evt){var _38e=dijit.getEnclosingWidget(evt.target);if(_38e&&_38e.isFocusable()){this.focusedChild=_38e;}dojo.stopEvent(evt);},_onNodeBlur:function(evt){dojo.stopEvent(evt);},_onChildBlur:function(_390){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_391,dir){if(_391){_391=this._getSiblingOfChild(_391,dir);}var _393=this.getChildren();for(var i=0;i<_393.length;i++){if(!_391){_391=_393[(dir>0)?0:(_393.length-1)];}if(_391.isFocusable()){return _391;}_391=this._getSiblingOfChild(_391,dir);}return null;}});}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\">\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\">\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function(_395){if(_395&&!("label" in this.params)){this.attr("label",_395.innerHTML);}},postCreate:function(){dojo.setSelectable(this.domNode,false);dojo.attr(this.containerNode,"id",this.id+"_text");dijit.setWaiState(this.domNode,"labelledby",this.id+"_text");},_onHover:function(){dojo.addClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemHover(this);},_onUnhover:function(){dojo.removeClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemUnhover(this);},_onClick:function(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function(evt){},focus:function(){try{dijit.focus(this.focusNode);}catch(e){}},_onFocus:function(){this._setSelected(true);},_setSelected:function(_398){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",_398);},setLabel:function(_399){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_399);},setDisabled:function(_39a){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",_39a);},_setDisabledAttr:function(_39b){this.disabled=_39b;dojo[_39b?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled");dijit.setWaiState(this.focusNode,"disabled",_39b?"true":"false");},_setAccelKeyAttr:function(_39c){this.accelKey=_39c;this.accelKeyNode.style.display=_39c?"":"none";this.accelKeyNode.innerHTML=_39c;dojo.attr(this.containerNode,"colSpan",_39c?"1":"2");}});}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var _39d=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_39d[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){this.popup.destroyRecursive();delete this.popup;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\">\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\n\t</td>\n</tr>\n",checked:false,_setCheckedAttr:function(_39f){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",_39f);dijit.setWaiState(this.domNode,"checked",_39f);this.checked=_39f;},onChange:function(_3a0){},_onClick:function(e){if(!this.disabled){this.attr("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitMenuSeparator\">\n\t<td colspan=\"4\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n",postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_3a2){_3a2.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function(){},onCancel:function(_3a3){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _3a5=this._getTopMenu();if(_3a5&&_3a5._isMenuBar){_3a5.focusNext();}}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}}},_onChildBlur:function(item){item._setSelected(false);dijit.popup.close(item.popup);this._stopPopupTimer();},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(item.disabled){return false;}this.focusChild(item);if(item.popup){if(!this.is_open){this._openPopup();}}else{this.onExecute();item.onClick(evt);}},_openPopup:function(){this._stopPopupTimer();var _3ac=this.focusedChild;var _3ad=_3ac.popup;if(_3ad.isShowingNow){return;}_3ad.parentMenu=this;var self=this;dijit.popup.open({parent:this,popup:_3ad,around:_3ac.domNode,orient:this._orient||(this.isLeftToRight()?{"TR":"TL","TL":"TR"}:{"TL":"TR","TR":"TL"}),onCancel:function(){dijit.popup.close(_3ad);_3ac.focus();self.currentPopup=null;},onExecute:dojo.hitch(this,"_onDescendantExecute")});this.currentPopup=_3ad;if(_3ad.focus){setTimeout(dojo.hitch(_3ad,"focus"),0);}},onOpen:function(e){this.isShowingNow=true;},onClose:function(){this._stopPopupTimer();this.parentMenu=null;this.isShowingNow=false;this.currentPopup=null;if(this.focusedChild){this._onChildBlur(this.focusedChild);this.focusedChild=null;}},_onFocus:function(){this.isActive=true;dojo.addClass(this.domNode,"dijitMenuActive");dojo.removeClass(this.domNode,"dijitMenuPassive");this.inherited(arguments);},_onBlur:function(){this.isActive=false;dojo.removeClass(this.domNode,"dijitMenuActive");dojo.addClass(this.domNode,"dijitMenuPassive");this.onClose();this.inherited(arguments);},_onDescendantExecute:function(){this.onClose();}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function(){this._bindings=[];},templateString:"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" waiRole=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\">\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\n</table>\n",targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,_contextMenuWithMouse:false,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}var k=dojo.keys,l=this.isLeftToRight();this._openSubMenuKey=l?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=l?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);dojo.stopEvent(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{dojo.stopEvent(evt);}break;}},_iframeContentWindow:function(_3b3){var win=dijit.getDocumentWindow(dijit.Menu._iframeContentDocument(_3b3))||dijit.Menu._iframeContentDocument(_3b3)["__parent__"]||(_3b3.name&&dojo.doc.frames[_3b3.name])||null;return win;},_iframeContentDocument:function(_3b5){var doc=_3b5.contentDocument||(_3b5.contentWindow&&_3b5.contentWindow.document)||(_3b5.name&&dojo.doc.frames[_3b5.name]&&dojo.doc.frames[_3b5.name].document)||null;return doc;},bindDomNode:function(node){node=dojo.byId(node);var win=dijit.getDocumentWindow(node.ownerDocument);if(node.tagName.toLowerCase()=="iframe"){win=this._iframeContentWindow(node);node=dojo.withGlobal(win,dojo.body);}var cn=(node==dojo.body()?dojo.doc:node);node[this.id]=this._bindings.push([dojo.connect(cn,(this.leftClickToOpen)?"onclick":"oncontextmenu",this,"_openMyself"),dojo.connect(cn,"onkeydown",this,"_contextKey"),dojo.connect(cn,"onmousedown",this,"_contextMouse")]);},unBindDomNode:function(_3ba){var node=dojo.byId(_3ba);if(node){var bid=node[this.id]-1,b=this._bindings[bid];dojo.forEach(b,dojo.disconnect);delete this._bindings[bid];}},_contextKey:function(e){this._contextMenuWithMouse=false;if(e.keyCode==dojo.keys.F10){dojo.stopEvent(e);if(e.shiftKey&&e.type=="keydown"){var _e={target:e.target,pageX:e.pageX,pageY:e.pageY};_e.preventDefault=_e.stopPropagation=function(){};window.setTimeout(dojo.hitch(this,function(){this._openMyself(_e);}),1);}}},_contextMouse:function(e){this._contextMenuWithMouse=true;},_openMyself:function(e){if(this.leftClickToOpen&&e.button>0){return;}dojo.stopEvent(e);var x,y;if(dojo.isSafari||this._contextMenuWithMouse){x=e.pageX;y=e.pageY;}else{var _3c4=dojo.coords(e.target,true);x=_3c4.x+10;y=_3c4.y+10;}var self=this;var _3c6=dijit.getFocus(this);function _3c7(){dijit.focus(_3c6);dijit.popup.close(self);};dijit.popup.open({popup:this,x:x,y:y,onExecute:_3c7,onCancel:_3c7,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},uninitialize:function(){dojo.forEach(this.targetNodeIds,this.unBindDomNode,this);this.inherited(arguments);}});}if(!dojo._hasResource["dojox.html.metrics"]){dojo._hasResource["dojox.html.metrics"]=true;dojo.provide("dojox.html.metrics");(function(){var dhm=dojox.html.metrics;dhm.getFontMeasurements=function(){var _3c9={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.border="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";dojo.body().appendChild(div);for(var p in _3c9){ds.fontSize=p;_3c9[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);div=null;return _3c9;};var _3cd=null;dhm.getCachedFontMeasurements=function(_3ce){if(_3ce||!_3cd){_3cd=dhm.getFontMeasurements();}return _3cd;};var _3cf=null,_3d0={};dhm.getTextBox=function(text,_3d2,_3d3){var m;if(!_3cf){m=_3cf=dojo.doc.createElement("div");m.style.position="absolute";m.style.left="-10000px";m.style.top="0";dojo.body().appendChild(m);}else{m=_3cf;}m.className="";m.style.border="0";m.style.margin="0";m.style.padding="0";m.style.outline="0";if(arguments.length>1&&_3d2){for(var i in _3d2){if(i in _3d0){continue;}m.style[i]=_3d2[i];}}if(arguments.length>2&&_3d3){m.className=_3d3;}m.innerHTML=text;return dojo.marginBox(m);};var _3d6={w:16,h:16};dhm.getScrollbar=function(){return {w:_3d6.w,h:_3d6.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_3d7){var f=dhm._fontResizeNode=dojo.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";if(dojo.isIE){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[dojox._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[dojox._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");dojo.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};dojo.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(dojo.isIE&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});dojo.addOnLoad(function(){try{var n=dojo.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";dojo.body().appendChild(n);_3d6.w=n.offsetWidth-n.clientWidth;_3d6.h=n.offsetHeight-n.clientHeight;dojo.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in dojo.config&&!!dojo.config.fontSizeWatch){dhm.initOnFontResize();}});})();}if(!dojo._hasResource["dojox.grid.util"]){dojo._hasResource["dojox.grid.util"]=true;dojo.provide("dojox.grid.util");(function(){var dgu=dojox.grid.util;dgu.na="...";dgu.rowIndexTag="gridRowIndex";dgu.gridViewTag="gridView";dgu.fire=function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());};dgu.setStyleHeightPx=function(_3e1,_3e2){if(_3e2>=0){var s=_3e1.style;var v=_3e2+"px";if(_3e1&&s["height"]!=v){s["height"]=v;}}};dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];dgu.keyEvents=["keyup","keydown","keypress"];dgu.funnelEvents=function(_3e5,_3e6,_3e7,_3e8){var evts=(_3e8?_3e8:dgu.mouseEvents.concat(dgu.keyEvents));for(var i=0,l=evts.length;i<l;i++){_3e6.connect(_3e5,"on"+evts[i],_3e7);}},dgu.removeNode=function(_3ec){_3ec=dojo.byId(_3ec);_3ec&&_3ec.parentNode&&_3ec.parentNode.removeChild(_3ec);return _3ec;};dgu.arrayCompare=function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);};dgu.arrayInsert=function(_3f1,_3f2,_3f3){if(_3f1.length<=_3f2){_3f1[_3f2]=_3f3;}else{_3f1.splice(_3f2,0,_3f3);}};dgu.arrayRemove=function(_3f4,_3f5){_3f4.splice(_3f5,1);};dgu.arraySwap=function(_3f6,inI,inJ){var _3f9=_3f6[inI];_3f6[inI]=_3f6[inJ];_3f6[inJ]=_3f9;};})();}if(!dojo._hasResource["dojox.grid._Scroller"]){dojo._hasResource["dojox.grid._Scroller"]=true;dojo.provide("dojox.grid._Scroller");(function(){var _3fa=function(_3fb){var i=0,n,p=_3fb.parentNode;while((n=p.childNodes[i++])){if(n==_3fb){return i-1;}}return -1;};var _3ff=function(_400){if(!_400){return;}var _401=function(inW){return inW.domNode&&dojo.isDescendant(inW.domNode,_400,true);};var ws=dijit.registry.filter(_401);for(var i=0,w;(w=ws[i]);i++){w.destroy();}delete ws;};var _406=function(_407){var node=dojo.byId(_407);return (node&&node.tagName?node.tagName.toLowerCase():"");};var _409=function(_40a,_40b){var _40c=[];var i=0,n;while((n=_40a.childNodes[i++])){if(_406(n)==_40b){_40c.push(n);}}return _40c;};var _40f=function(_410){return _409(_410,"div");};dojo.declare("dojox.grid._Scroller",null,{constructor:function(_411){this.setContentNodes(_411);this.pageHeights=[];this.pageNodes=[];this.stack=[];},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_412,_413,_414){switch(arguments.length){case 3:this.rowsPerPage=_414;case 2:this.keepRows=_413;case 1:this.rowCount=_412;}this.defaultPageHeight=this.defaultRowHeight*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=dojo.hitch(this,"onscroll");}},_getPageCount:function(_415,_416){return _415?(Math.ceil(_415/_416)||1):0;},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode;},setKeepInfo:function(_417){this.keepRows=_417;this.keepPages=!this.keepRows?this.keepRows:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);},setContentNodes:function(_418){this.contentNodes=_418;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},invalidate:function(){this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();},updateRowCount:function(_41a){this.invalidateNodes();this.rowCount=_41a;var _41b=this.pageCount;if(_41b===0){this.height=1;}this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<_41b){for(var i=_41b-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>_41b){this.height+=this.defaultPageHeight*(this.pageCount-_41b-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_41d){return Boolean(this.getDefaultPageNode(_41d));},measurePage:function(_41e){var n=this.getDefaultPageNode(_41e);return (n&&n.innerHTML)?n.offsetHeight:0;},positionPage:function(_420,_421){for(var i=0;i<this.colCount;i++){this.pageNodes[i][_420].style.top=_421+"px";}},repositionPages:function(_423){var _424=this.getDefaultNodes();var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_424[_423];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_423):0);for(var p=_423+1;p<=last;p++){n=_424[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},installPage:function(_42a){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_42a]);}},preparePage:function(_42c,_42d){var p=(_42d?this.popPage():null);for(var i=0;i<this.colCount;i++){var _430=this.pageNodes[i];var _431=(p===null?this.createPageNode():this.invalidatePageNode(p,_430));_431.pageIndex=_42c;_431.id=(this._pageIdPrefix||"")+"page-"+_42c;_430[_42c]=_431;}},renderPage:function(_432){var _433=[];for(var i=0;i<this.colCount;i++){_433[i]=this.pageNodes[i][_432];}for(var i=0,j=_432*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_433);}},removePage:function(_436){for(var i=0,j=_436*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},destroyPage:function(_439){for(var i=0;i<this.colCount;i++){var n=this.invalidatePageNode(_439,this.pageNodes[i]);if(n){dojo.destroy(n);}}},pacify:function(_43c){},pacifying:false,pacifyTicks:200,setPacifying:function(_43d){if(this.pacifying!=_43d){this.pacifying=_43d;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _43e=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _43e;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){dojox.grid.util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));}this.needPage(this.page,this.pageTop);var _440=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);var _441=this.getPageHeight(this.page);this.averageRowHeight=(_441>0&&_440>0)?(_441/_440):0;},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _442=this.pageCount-1;var _443=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_442]=_443;return _443;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_445){if(this.pageExists(_445)){var oh=this.getPageHeight(_445);var h=(this.measurePage(_445))||(oh);this.pageHeights[_445]=h;if((h)&&(oh!=h)){this.updateContentHeight(h-oh);this.repositionPages(_445);}}},rowHeightChanged:function(_448){this.updatePageHeight(Math.floor(_448/this.rowsPerPage));},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");dojo.attr(p,"role","presentation");p.style.position="absolute";p.style[dojo._isBodyLtr()?"left":"right"]="0";return p;},getPageHeight:function(_44a){var ph=this.pageHeights[_44a];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_44c){return this.stack.push(_44c);},popPage:function(){return this.stack.shift();},findPage:function(_44d){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_44d){break;}}this.page=i;this.pageTop=h;},buildPage:function(_451,_452,_453){this.preparePage(_451,_452);this.positionPage(_451,_453);this.installPage(_451);this.renderPage(_451);this.pushPage(_451);},needPage:function(_454,_455){var h=this.getPageHeight(_454),oh=h;if(!this.pageExists(_454)){this.buildPage(_454,this.keepPages&&(this.stack.length>=this.keepPages),_455);h=this.measurePage(_454)||h;this.pageHeights[_454]=h;if(h&&(oh!=h)){this.updateContentHeight(h-oh);}}else{this.positionPage(_454,_455);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_458){this.grid.scrollTop=_458;if(this.colCount){this.startPacify();this.findPage(_458);var h=this.height;var b=this.getScrollBottom(_458);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_458);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();}},getScrollBottom:function(_45d){return (this.windowHeight>=0?_45d+this.windowHeight:-1);},processNodeEvent:function(e,_45f){var t=e.target;while(t&&(t!=_45f)&&t.parentNode&&(t.parentNode.parentNode!=_45f)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_45f)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+_3fa(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},renderRow:function(_463,_464){},removeRow:function(_465){},getDefaultPageNode:function(_466){return this.getDefaultNodes()[_466];},positionPageNode:function(_467,_468){},getPageNodePosition:function(_469){return _469.offsetTop;},invalidatePageNode:function(_46a,_46b){var p=_46b[_46a];if(p){delete _46b[_46a];this.removePage(_46a,p);_3ff(p);p.innerHTML="";}return p;},getPageRow:function(_46d){return _46d*this.rowsPerPage;},getLastPageRow:function(_46e){return Math.min(this.rowCount,this.getPageRow(_46e+1))-1;},getFirstVisibleRow:function(_46f,_470,_471){if(!this.pageExists(_46f)){return 0;}var row=this.getPageRow(_46f);var _473=this.getDefaultNodes();var rows=_40f(_473[_46f]);for(var i=0,l=rows.length;i<l&&_470<_471;i++,row++){_470+=rows[i].offsetHeight;}return (row?row-1:row);},getLastVisibleRow:function(_477,_478,_479){if(!this.pageExists(_477)){return 0;}var _47a=this.getDefaultNodes();var row=this.getLastPageRow(_477);var rows=_40f(_47a[_477]);for(var i=rows.length-1;i>=0&&_478>_479;i--,row--){_478-=rows[i].offsetHeight;}return row+1;},findTopRow:function(_47e){var _47f=this.getDefaultNodes();var rows=_40f(_47f[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_47e){this.offset=h-(t-_47e);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTop:function(_485){var _486=Math.floor(_485/this.rowsPerPage);var t=0;for(var i=0;i<_486;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.needPage(_486,this.pageTop);var _489=this.getDefaultNodes();var rows=_40f(_489[_486]);var r=_485-this.rowsPerPage*_486;for(var i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},dummy:0});})();}if(!dojo._hasResource["dojox.grid.cells._base"]){dojo._hasResource["dojox.grid.cells._base"]=true;dojo.provide("dojox.grid.cells._base");(function(){var _48d=function(_48e){try{dojox.grid.util.fire(_48e,"focus");dojox.grid.util.fire(_48e,"select");}catch(e){}};var _48f=function(){setTimeout(dojo.hitch.apply(dojo,arguments),0);};var dgc=dojox.grid.cells;dojo.declare("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,_valueProp:"value",_formatPending:false,constructor:function(_491){this._props=_491||{};dojo.mixin(this,_491);},format:function(_492,_493){var f,i=this.grid.edit.info,d=this.get?this.get(_492,_493):(this.value||this.defaultValue);d=(d&&d.replace)?d.replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_492&&i.cell==this))){return this.formatEditing(d,_492);}else{var v=(d!=this.defaultValue&&(f=this.formatter))?f.call(this,d,_492):d;return (typeof v=="undefined"?this.defaultValue:v);}},formatEditing:function(_498,_499){},getNode:function(_49a){return this.view.getCellNode(_49a,this.index);},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index);},getEditNode:function(_49b){return (this.getNode(_49b)||0).firstChild||0;},canResize:function(){var uw=this.unitWidth;return uw&&(uw!=="auto");},isFlex:function(){var uw=this.unitWidth;return uw&&dojo.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_49e,_49f){this.grid.edit.applyCellEdit(_49e,this,_49f);},cancelEdit:function(_4a0){this.grid.doCancelEdit(_4a0);},_onEditBlur:function(_4a1){if(this.grid.edit.isEditCell(_4a1,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_4a2,_4a3){if(this.commitOnBlur){dojo.connect(_4a2,"onblur",function(e){setTimeout(dojo.hitch(this,"_onEditBlur",_4a3),250);});}},needFormatNode:function(_4a5,_4a6){this._formatPending=true;_48f(this,"_formatNode",_4a5,_4a6);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_4a7,_4a8){if(this._formatPending){this._formatPending=false;dojo.setSelectable(this.grid.domNode,true);this.formatNode(this.getEditNode(_4a8),_4a7,_4a8);}},formatNode:function(_4a9,_4aa,_4ab){if(dojo.isIE){_48f(this,"focus",_4ab,_4a9);}else{this.focus(_4ab,_4a9);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_4ae){return this.getEditNode(_4ae)[this._valueProp];},setValue:function(_4af,_4b0){var n=this.getEditNode(_4af);if(n){n[this._valueProp]=_4b0;}},focus:function(_4b2,_4b3){_48d(_4b3||this.getEditNode(_4b2));},save:function(_4b4){this.value=this.value||this.getValue(_4b4);},restore:function(_4b5){this.setValue(_4b5,this.value);},_finish:function(_4b6){dojo.setSelectable(this.grid.domNode,false);this.cancelFormatNode();},apply:function(_4b7){this.applyEdit(this.getValue(_4b7),_4b7);this._finish(_4b7);},cancel:function(_4b8){this.cancelEdit(_4b8);this._finish(_4b8);}});dgc._Base.markupFactory=function(node,_4ba){var d=dojo;var _4bc=d.trim(d.attr(node,"formatter")||"");if(_4bc){_4ba.formatter=dojo.getObject(_4bc);}var get=d.trim(d.attr(node,"get")||"");if(get){_4ba.get=dojo.getObject(get);}var _4be=function(attr){var _4c0=d.trim(d.attr(node,attr)||"");return _4c0?!(_4c0.toLowerCase()=="false"):undefined;};_4ba.sortDesc=_4be("sortDesc");_4ba.editable=_4be("editable");_4ba.alwaysEditing=_4be("alwaysEditing");_4ba.noresize=_4be("noresize");var _4c1=d.trim(d.attr(node,"loadingText")||d.attr(node,"defaultValue")||"");if(_4c1){_4ba.defaultValue=_4c1;}var _4c2=function(attr){return d.trim(d.attr(node,attr)||"")||undefined;};_4ba.styles=_4c2("styles");_4ba.headerStyles=_4c2("headerStyles");_4ba.cellStyles=_4c2("cellStyles");_4ba.classes=_4c2("classes");_4ba.headerClasses=_4c2("headerClasses");_4ba.cellClasses=_4c2("cellClasses");};dojo.declare("dojox.grid.cells.Cell",dgc._Base,{constructor:function(){this.keyFilter=this.keyFilter;},keyFilter:null,formatEditing:function(_4c4,_4c5){this.needFormatNode(_4c4,_4c5);return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_4c4+"\">";},formatNode:function(_4c6,_4c7,_4c8){this.inherited(arguments);this.registerOnBlur(_4c6,_4c8);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){dojo.stopEvent(e);}}},_finish:function(_4cb){this.inherited(arguments);var n=this.getEditNode(_4cb);try{dojox.grid.util.fire(n,"blur");}catch(e){}}});dgc.Cell.markupFactory=function(node,_4ce){dgc._Base.markupFactory(node,_4ce);var d=dojo;var _4d0=d.trim(d.attr(node,"keyFilter")||"");if(_4d0){_4ce.keyFilter=new RegExp(_4d0);}};dojo.declare("dojox.grid.cells.RowIndex",dgc.Cell,{name:"Row",postscript:function(){this.editable=false;},get:function(_4d1){return _4d1+1;}});dgc.RowIndex.markupFactory=function(node,_4d3){dgc.Cell.markupFactory(node,_4d3);};dojo.declare("dojox.grid.cells.Select",dgc.Cell,{options:null,values:null,returnIndex:-1,constructor:function(_4d4){this.values=this.values||this.options;},formatEditing:function(_4d5,_4d6){this.needFormatNode(_4d5,_4d6);var h=["<select class=\"dojoxGridSelect\">"];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){h.push("<option",(_4d5==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");}h.push("</select>");return h.join("");},getValue:function(_4db){var n=this.getEditNode(_4db);if(n){var i=n.selectedIndex,o=n.options[i];return this.returnIndex>-1?i:o.value||o.innerHTML;}}});dgc.Select.markupFactory=function(node,cell){dgc.Cell.markupFactory(node,cell);var d=dojo;var _4e2=d.trim(d.attr(node,"options")||"");if(_4e2){var o=_4e2.split(",");if(o[0]!=_4e2){cell.options=o;}}var _4e4=d.trim(d.attr(node,"values")||"");if(_4e4){var v=_4e4.split(",");if(v[0]!=_4e4){cell.values=v;}}};dojo.declare("dojox.grid.cells.AlwaysEdit",dgc.Cell,{alwaysEditing:true,_formatNode:function(_4e6,_4e7){this.formatNode(this.getEditNode(_4e7),_4e6,_4e7);},applyStaticValue:function(_4e8){var e=this.grid.edit;e.applyCellEdit(this.getValue(_4e8),this,_4e8);e.start(this,_4e8,true);}});dgc.AlwaysEdit.markupFactory=function(node,cell){dgc.Cell.markupFactory(node,cell);};dojo.declare("dojox.grid.cells.Bool",dgc.AlwaysEdit,{_valueProp:"checked",formatEditing:function(_4ec,_4ed){return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_4ec?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});dgc.Bool.markupFactory=function(node,cell){dgc.AlwaysEdit.markupFactory(node,cell);};})();}if(!dojo._hasResource["dojox.grid.cells"]){dojo._hasResource["dojox.grid.cells"]=true;dojo.provide("dojox.grid.cells");}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function(e){return e[dojo.dnd._copyKey];};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};dojo.dnd._lmb=dojo.isIE?1:0;dojo.dnd._isLmbPressed=dojo.isIE?function(e){return e.button&1;}:function(e){return e.button===0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo._abs(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft,ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _50a=n.scrollLeft,_50b=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_50a!=n.scrollLeft||_50b!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=this.host=host,d=node.ownerDocument,_511=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent),_511];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY});dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isWebKit&&dojo.dnd._isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left));t=Math.round(parseFloat(s.top));break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this);}dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_520){this.node=dojo.byId(node);if(!_520){_520={};}this.handle=_520.handle?dojo.byId(_520.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_520.delay>0?_520.delay:0;this.skip=_520.skip;this.mover=_520.mover?_520.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_521,node){return new dojo.dnd.Moveable(node,_521);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_529){dojo.publish("/dnd/move/start",[_529]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_52a){dojo.publish("/dnd/move/stop",[_52a]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_52b){},onMove:function(_52c,_52d){this.onMoving(_52c,_52d);var s=_52c.node.style;s.left=_52d.l+"px";s.top=_52d.t+"px";this.onMoved(_52c,_52d);},onMoving:function(_52f,_530){},onMoved:function(_531,_532){}});}if(!dojo._hasResource["dojox.grid._Builder"]){dojo._hasResource["dojox.grid._Builder"]=true;dojo.provide("dojox.grid._Builder");(function(){var dg=dojox.grid;var _534=function(td){return td.cellIndex>=0?td.cellIndex:dojo.indexOf(td.parentNode.cells,td);};var _536=function(tr){return tr.rowIndex>=0?tr.rowIndex:dojo.indexOf(tr.parentNode.childNodes,tr);};var _538=function(_539,_53a){return _539&&((_539.rows||0)[_53a]||_539.childNodes[_53a]);};var _53b=function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;};var _53e=function(_53f,_540){for(var n=_53f;n&&_540(n);n=n.parentNode){}return n;};var _542=function(_543){var name=_543.toUpperCase();return function(node){return node.tagName!=name;};};var _546=dojox.grid.util.rowIndexTag;var _547=dojox.grid.util.gridViewTag;dg._Builder=dojo.extend(function(view){if(view){this.view=view;this.grid=view.grid;}},{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\""+(dojo.isFF<3?"wairole:":"")+"presentation\"",getTableArray:function(){var html=[this._table];if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");return html;},generateCellMarkup:function(_54a,_54b,_54c,_54d){var _54e=[],html;var _550=dojo.isFF<3?"wairole:":"";if(_54d){var _551=_54a.index!=_54a.grid.getSortIndex()?"":_54a.grid.sortInfo>0?"aria-sort=\"ascending\"":"aria-sort=\"descending\"";html=["<th tabIndex=\"-1\" role=\"",_550,"columnheader\"",_551];}else{html=["<td tabIndex=\"-1\" role=\"",_550,"gridcell\""];}_54a.colSpan&&html.push(" colspan=\"",_54a.colSpan,"\"");_54a.rowSpan&&html.push(" rowspan=\"",_54a.rowSpan,"\"");html.push(" class=\"dojoxGridCell ");_54a.classes&&html.push(_54a.classes," ");_54c&&html.push(_54c," ");_54e.push(html.join(""));_54e.push("");html=["\" idx=\"",_54a.index,"\" style=\""];if(_54b&&_54b[_54b.length-1]!=";"){_54b+=";";}html.push(_54a.styles,_54b||"",_54a.hidden?"display:none;":"");_54a.unitWidth&&html.push("width:",_54a.unitWidth,";");_54e.push(html.join(""));_54e.push("");html=["\""];_54a.attrs&&html.push(" ",_54a.attrs);html.push(">");_54e.push(html.join(""));_54e.push("");_54e.push(_54d?"</th>":"</td>");return _54e;},isCellNode:function(_552){return Boolean(_552&&_552!=dojo.doc&&dojo.attr(_552,"idx"));},getCellNodeIndex:function(_553){return _553?Number(dojo.attr(_553,"idx")):-1;},getCellNode:function(_554,_555){for(var i=0,row;row=_538(_554.firstChild,i);i++){for(var j=0,cell;cell=row.cells[j];j++){if(this.getCellNodeIndex(cell)==_555){return cell;}}}},findCellTarget:function(_55a,_55b){var n=_55a;while(n&&(!this.isCellNode(n)||(n.offsetParent&&_547 in n.offsetParent.parentNode&&n.offsetParent.parentNode[_547]!=this.view.id))&&(n!=_55b)){n=n.parentNode;}return n!=_55b?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_55e,_55f){var n=_55e;while(n&&(n!=this.domNode)&&(!(_55f in n)||(_547 in n&&n[_547]!=this.view.id))){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_561){return this.findTarget(_561,_546);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&dojo.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}},domousedown:function(e){if(e.cellNode){this.grid.onMouseDown(e);}this.grid.onMouseDownRow(e);}});dg._ContentBuilder=dojo.extend(function(view){dg._Builder.call(this,view);},dg._Builder.prototype,{update:function(){this.prepareHtml();},prepareHtml:function(){var _56a=this.grid.get,_56b=this.view.structure.cells;for(var j=0,row;(row=_56b[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_56a;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);}}},generateHtml:function(_570,_571){var html=this.getTableArray(),v=this.view,_574=v.structure.cells,item=this.grid.getItem(_571);dojox.grid.util.fire(this.view,"onBeforeRow",[_571,_574]);for(var j=0,row;(row=_574[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup,cc=cell.customClasses=[],cs=cell.customStyles=[];m[5]=cell.format(_571,item);m[1]=cc.join(" ");m[3]=cs.join(";");html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[_546];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});dg._HeaderBuilder=dojo.extend(function(view){this.moveable=null;dg._Builder.call(this,view);},dg._Builder.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){if(this.tableMap){this.tableMap.mapRows(this.view.structure.cells);}else{this.tableMap=new dg._TableMap(this.view.structure.cells);}},generateHtml:function(_57f,_580){var html=this.getTableArray(),_582=this.view.structure.cells;dojox.grid.util.fire(this.view,"onBeforeRow",[-1,_582]);for(var j=0,row;(row=_582[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,_587;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];if(this.view.simpleStructure){if(cell.headerClasses){if(cell.headerClasses.indexOf("dojoDndItem")==-1){cell.headerClasses+=" dojoDndItem";}}else{cell.headerClasses="dojoDndItem";}if(cell.attrs){if(cell.attrs.indexOf("dndType='gridColumn_")==-1){cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";}}else{cell.attrs="dndType='gridColumn_"+this.grid.id+"'";}}_587=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_587[5]=(_580!=undefined?_580:_57f(cell));_587[3]=cell.customStyles.join(";");_587[1]=cell.customClasses.join(" ");html.push(_587.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var x=e.layerX;if(dojo.isMoz){var n=_53e(e.target,_542("th"));x-=(n&&n.offsetLeft)||0;var t=e.sourceView.getScrollbarWidth();if(!dojo._isBodyLtr()&&e.sourceView.headerNode.scrollLeft<t){x-=t;}}var n=_53e(e.target,function(){if(!n||n==e.cellNode){return false;}x+=(n.offsetLeft<0?0:n.offsetLeft);return true;});return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareResize:function(e,mod){do{var i=_534(e.cellNode);e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);}while(e.cellNode&&e.cellNode.style.display=="none");return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&cell.canResize();},overLeftResizeArea:function(e){if(dojo.isIE){var tN=e.target;if(dojo.hasClass(tN,"dojoxGridArrowButtonNode")||dojo.hasClass(tN,"dojoxGridArrowButtonChar")){return false;}}if(dojo._isBodyLtr()){return (e.cellIndex>0)&&(e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);}var t=e.cellNode&&(e.cellX<this.overResizeWidth);return t;},overRightResizeArea:function(e){if(dojo.isIE){var tN=e.target;if(dojo.hasClass(tN,"dojoxGridArrowButtonNode")||dojo.hasClass(tN,"dojoxGridArrowButtonChar")){return false;}}if(dojo._isBodyLtr()){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);}return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);},domousemove:function(e){if(!this.moveable){var c=(this.overRightResizeArea(e)?"e-resize":(this.overLeftResizeArea(e)?"w-resize":""));if(c&&!this.canResize(e)){c="not-allowed";}if(dojo.isIE){var t=e.sourceView.headerNode.scrollLeft;e.sourceView.headerNode.style.cursor=c||"";e.sourceView.headerNode.scrollLeft=t;}else{e.sourceView.headerNode.style.cursor=c||"";}if(c){dojo.stopEvent(e);}}},domousedown:function(e){if(!this.moveable){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}else{this.grid.onMouseDown(e);this.grid.onMouseOverRow(e);}}},doclick:function(e){if(this._skipBogusClicks){dojo.stopEvent(e);return true;}},beginColumnResize:function(e){this.moverDiv=document.createElement("div");dojo.style(this.moverDiv,{position:"absolute",left:0});dojo.body().appendChild(this.moverDiv);var m=this.moveable=new dojo.dnd.Moveable(this.moverDiv);var _59e=[],_59f=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_59f[i]);i++){_59e.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var view=e.sourceView;var adj=dojo._isBodyLtr()?1:-1;var _5a4=e.grid.views.views;var _5a5=[];for(var i=view.idx+adj,_5a6;(_5a6=_5a4[i]);i=i+adj){_5a5.push({node:_5a6.headerNode,left:window.parseInt(_5a6.headerNode.style.left)});}var _5a7=view.headerContentNode.firstChild;var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:dojo.contentBox(e.cellNode).w,vw:dojo.contentBox(view.headerNode).w,table:_5a7,tw:dojo.contentBox(_5a7).w,spanners:_59e,followers:_5a5};m.onMove=dojo.hitch(this,"doResizeColumn",drag);dojo.connect(m,"onMoveStop",dojo.hitch(this,function(){this.endResizeColumn(drag);if(drag.node.releaseCapture){drag.node.releaseCapture();}this.moveable.destroy();delete this.moveable;this.moveable=null;}));view.convertColPctToFixed();if(e.cellNode.setCapture){e.cellNode.setCapture();}m.onMouseDown(e);},doResizeColumn:function(_5a9,_5aa,_5ab){var _5ac=dojo._isBodyLtr();var _5ad=_5ac?_5ab.l:-_5ab.l;var w=_5a9.w+_5ad;var vw=_5a9.vw+_5ad;var tw=_5a9.tw+_5ad;if(w>=this.minColWidth){for(var i=0,s,sw;(s=_5a9.spanners[i]);i++){sw=s.width+_5ad;s.node.style.width=sw+"px";_5a9.view.setColWidth(s.index,sw);}for(var i=0,f,fl;(f=_5a9.followers[i]);i++){fl=f.left+_5ad;f.node.style.left=fl+"px";}_5a9.node.style.width=w+"px";_5a9.view.setColWidth(_5a9.index,w);_5a9.view.headerNode.style.width=vw+"px";_5a9.view.setColumnsWidth(tw);if(!_5ac){_5a9.view.headerNode.scrollLeft=_5a9.scrollLeft+_5ad;}}if(_5a9.view.flexCells&&!_5a9.view.testFlexCells()){var t=_53b(_5a9.node);t&&(t.style.width="");}},endResizeColumn:function(_5b7){dojo.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=true;var conn=dojo.connect(_5b7.view,"update",this,function(){dojo.disconnect(conn);this._skipBogusClicks=false;});setTimeout(dojo.hitch(_5b7.view,"update"),50);}});dg._TableMap=dojo.extend(function(rows){this.mapRows(rows);},{map:null,mapRows:function(_5ba){var _5bb=_5ba.length;if(!_5bb){return;}this.map=[];for(var j=0,row;(row=_5ba[j]);j++){this.map[j]=[];}for(var j=0,row;(row=_5ba[j]);j++){for(var i=0,x=0,cell,_5c1,_5c2;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_5c2=cell.rowSpan||1;_5c1=cell.colSpan||1;for(var y=0;y<_5c2;y++){for(var s=0;s<_5c1;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_5c1;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}}},getMapCoords:function(_5ca,_5cb){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_5cb&&cell.r==_5ca){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_5d0,_5d1,_5d2){var row=_5d0&&_5d0.rows[_5d1];return row&&row.cells[_5d2];},_findOverlappingNodes:function(_5d4,_5d5,_5d6){var _5d7=[];var m=this.getMapCoords(_5d5,_5d6);var row=this.map[m.j];for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}var rw=row[m.i];var n=(rw?this.getNode(_5d4,rw.r,rw.c):null);if(n){_5d7.push(n);}}return _5d7;},findOverlappingNodes:function(_5dd){return this._findOverlappingNodes(_53b(_5dd),_536(_5dd.parentNode),_534(_5dd));}});})();}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function(node,_5df){this.node=dojo.byId(node);if(!_5df){_5df={};}this.creator=_5df.creator||null;this.skipForm=_5df.skipForm;this.parent=_5df.dropParent&&dojo.byId(_5df.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_5df&&_5df._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return dojo.query("> .dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dojo.dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_5ef,_5f0){if(!this.parent.firstChild){_5f0=null;}else{if(_5ef){if(!_5f0){_5f0=this.parent.firstChild;}}else{if(_5f0){_5f0=_5f0.nextSibling;}}}if(_5f0){for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_5f0);}}else{for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_5f3,node){_5f3._skipStartup=true;return new dojo.dnd.Container(node,_5f3);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_5fc){var _5fd="dojoDnd"+type;var _5fe=type.toLowerCase()+"State";dojo.removeClass(this.node,_5fd+this[_5fe]);dojo.addClass(this.node,_5fd+_5fc);this[_5fe]=_5fc;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _605=node.parentNode;_605;node=_605,_605=node.parentNode){if(_605==this.parent&&dojo.hasClass(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function(tag){if(!tag){return dojo.dnd._createSpan;}return function(text){return dojo.create(tag,{innerHTML:text});};};dojo.dnd._createTrTd=function(text){var tr=dojo.create("tr");dojo.create("td",{innerHTML:text},tr);return tr;};dojo.dnd._createSpan=function(text){return dojo.create("span",{innerHTML:text});};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(item,hint){var _613=item&&dojo.isObject(item),data,type,n;if(_613&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_613&&item.data)?item.data:item;type=(_613&&item.type)?item.type:["text"];n=(hint=="avatar"?dojo.dnd._createSpan:c)(String(data));}n.id=dojo.dnd.getUniqueId();return {node:n,data:data,type:type};};};}if(!dojo._hasResource["dojo.dnd.Selector"]){dojo._hasResource["dojo.dnd.Selector"]=true;dojo.provide("dojo.dnd.Selector");dojo.declare("dojo.dnd.Selector",dojo.dnd.Container,{constructor:function(node,_618){if(!_618){_618={};}this.singular=_618.singular;this.autoSync=_618.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(dojo.connect(this.node,"onmousedown",this,"onMouseDown"),dojo.connect(this.node,"onmouseup",this,"onMouseUp"));},singular:false,getSelectedNodes:function(){var t=new dojo.NodeList();var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dojo.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dojo.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dojo.byId(i);this.delItem(i);dojo.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||dojo.global;var s=this.selection,e=dojo.dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){dojo.dnd.Selector.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}dojo.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_62a,data,_62c,_62d){var _62e=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_62e.call(this,item,hint);if(_62a){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};dojo.dnd.Selector.superclass.insertNodes.call(this,data,_62c,_62d);this._normalizedCreator=_62e;return this;},destroy:function(){dojo.dnd.Selector.superclass.destroy.call(this);this.selection=this.anchor=null;},markupFactory:function(_632,node){_632._skipStartup=true;return new dojo.dnd.Selector(node,_632);},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dojo.dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(e.button===dojo.dnd._lmb){dojo.stopEvent(e);}return;}if(!this.singular&&e.shiftKey){if(!dojo.dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0;for(;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dojo.dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dojo.dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}dojo.stopEvent(e);},onMouseUp:function(e){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(e){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");},onOutEvent:function(){dojo.disconnect(this.onmousemoveEvent);delete this.onmousemoveEvent;},_removeSelection:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dojo.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});}if(!dojo._hasResource["dojo.dnd.Avatar"]){dojo._hasResource["dojo.dnd.Avatar"]=true;dojo.provide("dojo.dnd.Avatar");dojo.declare("dojo.dnd.Avatar",null,{constructor:function(_63d){this.manager=_63d;this.construct();},construct:function(){var a=dojo.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),b=dojo.create("tbody",null,a),tr=dojo.create("tr",null,b),td=dojo.create("td",{innerHTML:this._generateText()},tr),k=Math.min(5,this.manager.nodes.length),i=0,_644=this.manager.source,node;dojo.attr(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_644.creator){node=_644._normalizedCreator(_644.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _646=dojo.create("table"),_647=dojo.create("tbody",null,_646);_647.appendChild(node);node=_646;}}node.id="";tr=dojo.create("tr",null,b);td=dojo.create("td",null,tr);td.appendChild(node);dojo.attr(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){dojo.destroy(this.node);this.node=false;},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");dojo.query("tr.dojoDndAvatarHeader td",this.node).forEach(function(node){node.innerHTML=this._generateText();},this);},_generateText:function(){return this.manager.nodes.length.toString();}});}if(!dojo._hasResource["dojo.dnd.Manager"]){dojo._hasResource["dojo.dnd.Manager"]=true;dojo.provide("dojo.dnd.Manager");dojo.declare("dojo.dnd.Manager",null,{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:16,OFFSET_Y:16,overSource:function(_649){if(this.avatar){this.target=(_649&&_649.targetState!="Disabled")?_649:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}dojo.publish("/dnd/source/over",[_649]);},outSource:function(_64a){if(this.avatar){if(this.target==_64a){this.target=null;this.canDropFlag=false;this.avatar.update();dojo.publish("/dnd/source/over",[null]);}}else{dojo.publish("/dnd/source/over",[null]);}},startDrag:function(_64b,_64c,copy){this.source=_64b;this.nodes=_64c;this.copy=Boolean(copy);this.avatar=this.makeAvatar();dojo.body().appendChild(this.avatar.node);dojo.publish("/dnd/start",[_64b,_64c,this.copy]);this.events=[dojo.connect(dojo.doc,"onmousemove",this,"onMouseMove"),dojo.connect(dojo.doc,"onmouseup",this,"onMouseUp"),dojo.connect(dojo.doc,"onkeydown",this,"onKeyDown"),dojo.connect(dojo.doc,"onkeyup",this,"onKeyUp"),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent)];var c="dojoDnd"+(copy?"Copy":"Move");dojo.addClass(dojo.body(),c);},canDrop:function(flag){var _650=Boolean(this.target&&flag);if(this.canDropFlag!=_650){this.canDropFlag=_650;this.avatar.update();}},stopDrag:function(){dojo.removeClass(dojo.body(),"dojoDndCopy");dojo.removeClass(dojo.body(),"dojoDndMove");dojo.forEach(this.events,dojo.disconnect);this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new dojo.dnd.Avatar(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){dojo.dnd.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e))),_657=[this.source,this.nodes,copy,this.target];dojo.publish("/dnd/drop/before",_657);dojo.publish("/dnd/drop",_657);}else{dojo.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case dojo.keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case dojo.keys.ESCAPE:dojo.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==dojo.keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();dojo.removeClass(dojo.body(),"dojoDnd"+(this.copy?"Move":"Copy"));dojo.addClass(dojo.body(),"dojoDnd"+(this.copy?"Copy":"Move"));}});dojo.dnd._manager=null;dojo.dnd.manager=function(){if(!dojo.dnd._manager){dojo.dnd._manager=new dojo.dnd.Manager();}return dojo.dnd._manager;};}if(!dojo._hasResource["dojo.dnd.Source"]){dojo._hasResource["dojo.dnd.Source"]=true;dojo.provide("dojo.dnd.Source");dojo.declare("dojo.dnd.Source",dojo.dnd.Selector,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],constructor:function(node,_65e){dojo.mixin(this,dojo.mixin({},_65e));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}if(this.horizontal){dojo.addClass(this.node,"dojoDndHorizontal");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},checkAcceptance:function(_661,_662){if(this==_661){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_662.length;++i){var type=_661.getItem(_662[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_667,self){if(_667){return true;}if(arguments.length<2){self=this==dojo.dnd.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){dojo.dnd.Source.superclass.destroy.call(this);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},markupFactory:function(_669,node){_669._skipStartup=true;return new dojo.dnd.Source(node,_669);},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}dojo.dnd.Source.superclass.onMouseMove.call(this,e);var m=dojo.dnd.manager();if(this.isDragging){var _66d=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox={xy:dojo.coords(this.current,true),w:this.current.offsetWidth,h:this.current.offsetHeight};}if(this.horizontal){_66d=(e.pageX-this.targetBox.xy.x)<(this.targetBox.w/2);}else{_66d=(e.pageY-this.targetBox.xy.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_66d!=this.before){this._markTargetAnchor(_66d);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _66e=this.getSelectedNodes();if(_66e.length){m.startDrag(this,_66e,this.copyState(dojo.dnd.getCopyKeyState(e),true));}}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dojo.dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;dojo.dnd.Source.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;dojo.dnd.Source.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_671){if(this!=_671){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_673,_674,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_673?(copy?"Copied":"Moved"):"");}var _676=this.accept&&this.checkAcceptance(_673,_674);this._changeState("Target",_676?"":"Disabled");if(this==_673){dojo.dnd.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_677,_678,copy,_67a){if(this==_67a){this.onDrop(_677,_678,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_67b,_67c,copy){if(this!=_67b){this.onDropExternal(_67b,_67c,copy);}else{this.onDropInternal(_67c,copy);}},onDropExternal:function(_67e,_67f,copy){var _681=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _681.call(this,_67e.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node,hint){var t=_67e.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node,hint){var t=_67e.getItem(node.id);_67e.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_67e.selectNone();}this.insertNodes(true,_67f,this.before,this.current);if(!copy&&this.creator){_67e.deleteSelectedNodes();}this._normalizedCreator=_681;},onDropInternal:function(_68b,copy){var _68d=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _68d.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_68b,this.before,this.current);this._normalizedCreator=_68d;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){dojo.dnd.Source.superclass.onOverEvent.call(this);dojo.dnd.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){dojo.dnd.Source.superclass.onOutEvent.call(this);dojo.dnd.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_697){if(this.current==this.targetAnchor&&this.before==_697){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_697;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(!dojo.dnd._isLmbPressed(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(dojo.hasClass(node,"dojoDndHandle")){return true;}if(dojo.hasClass(node,"dojoDndItem")){break;}}return false;}});dojo.declare("dojo.dnd.Target",dojo.dnd.Source,{constructor:function(node,_69c){this.isSource=false;dojo.removeClass(this.node,"dojoDndSource");},markupFactory:function(_69d,node){_69d._skipStartup=true;return new dojo.dnd.Target(node,_69d);}});dojo.declare("dojo.dnd.AutoSource",dojo.dnd.Source,{constructor:function(node,_6a0){this.autoSync=true;},markupFactory:function(_6a1,node){_6a1._skipStartup=true;return new dojo.dnd.AutoSource(node,_6a1);}});}if(!dojo._hasResource["dojox.grid._View"]){dojo._hasResource["dojox.grid._View"]=true;dojo.provide("dojox.grid._View");(function(){var _6a3=function(_6a4,_6a5){return _6a4.style.cssText==undefined?_6a4.getAttribute("style"):_6a4.style.cssText;};dojo.declare("dojox.grid._View",[dijit._Widget,dijit._Templated],{defaultWidth:"18em",viewWidth:"",templateString:"<div class=\"dojoxGridView\" wairole=\"presentation\">\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\" wairole=\"presentation\">\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\" wairole=\"presentation\">\n\t\t\t<div dojoAttachPoint=\"headerContentNode\" wairole=\"row\"></div>\n\t\t</div>\n\t</div>\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" wairole=\"presentation\" />\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" wairole=\"presentation\" />\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\" wairole=\"presentation\">\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\" wairole=\"presentation\"></div>\n\t</div>\n</div>\n",themeable:false,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,postMixInProperties:function(){this.rowNodes=[];},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");dojox.grid.util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);dojox.grid.util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new dojox.grid._ContentBuilder(this);this.header=new dojox.grid._HeaderBuilder(this);if(!dojo._isBodyLtr()){this.headerNodeContainer.style.width="";}},destroy:function(){dojo.destroy(this.headerNode);delete this.headerNode;dojo.forEach(this.rowNodes,dojo.destroy);this.rowNodes=[];if(this.source){this.source.destroy();}this.inherited(arguments);},focus:function(){if(dojo.isWebKit||dojo.isOpera){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_6a6){var vs=(this.structure=_6a6);if(vs.width&&!isNaN(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);}this.onBeforeRow=vs.onBeforeRow;this.onAfterRow=vs.onAfterRow;this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.simpleStructure=Boolean(vs.cells.length==1);this.testFlexCells();this.updateStructure();},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.cells[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){var _6ac=this.hasVScrollbar();var _6ad=dojo.style(this.scrollboxNode,"overflow");if(this.noscroll||!_6ad||_6ad=="hidden"){_6ac=false;}else{if(_6ad=="scroll"){_6ac=true;}}return (_6ac?dojox.html.metrics.getScrollbar().w:0);},getColumnsWidth:function(){return this.headerContentNode.firstChild.offsetWidth;},setColumnsWidth:function(_6ae){this.headerContentNode.firstChild.style.width=_6ae+"px";if(this.viewWidth){this.viewWidth=_6ae+"px";}},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,dojo._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(this._togglingColumn>=0){this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);this._togglingColumn=-1;}var _6af=this.grid.layout.cells;var _6b0=dojo.hitch(this,function(node,_6b2){var inc=_6b2?-1:1;var idx=this.header.getCellNodeIndex(node)+inc;var cell=_6af[idx];while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){idx+=inc;cell=_6af[idx];}if(cell){return cell.getHeaderNode();}return null;});if(this.grid.columnReordering&&this.simpleStructure){if(this.source){this.source.destroy();}this.source=new dojo.dnd.Source(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,onMouseDown:dojo.hitch(this,function(e){this.header.decorateEvent(e);if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){this.header.beginColumnResize(e);}else{if(this.grid.headerMenu){this.grid.headerMenu.onCancel(true);}if(e.button===(dojo.isIE?1:0)){dojo.dnd.Source.prototype.onMouseDown.call(this.source,e);}}}),_markTargetAnchor:dojo.hitch(this,function(_6b7){var src=this.source;if(src.current==src.targetAnchor&&src.before==_6b7){return;}if(src.targetAnchor&&_6b0(src.targetAnchor,src.before)){src._removeItemClass(_6b0(src.targetAnchor,src.before),src.before?"After":"Before");}dojo.dnd.Source.prototype._markTargetAnchor.call(src,_6b7);if(src.targetAnchor&&_6b0(src.targetAnchor,src.before)){src._addItemClass(_6b0(src.targetAnchor,src.before),src.before?"After":"Before");}}),_unmarkTargetAnchor:dojo.hitch(this,function(){var src=this.source;if(!src.targetAnchor){return;}if(src.targetAnchor&&_6b0(src.targetAnchor,src.before)){src._removeItemClass(_6b0(src.targetAnchor,src.before),src.before?"After":"Before");}dojo.dnd.Source.prototype._unmarkTargetAnchor.call(src);}),destroy:dojo.hitch(this,function(){dojo.disconnect(this._source_conn);dojo.unsubscribe(this._source_sub);dojo.dnd.Source.prototype.destroy.call(this.source);})});this._source_conn=dojo.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=dojo.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup();}},_onDndDropBefore:function(_6ba,_6bb,copy){if(dojo.dnd.manager().target!==this.source){return;}this.source._targetNode=this.source.targetAnchor;this.source._beforeTarget=this.source.before;var _6bd=this.grid.views.views;var _6be=_6bd[_6ba.viewIndex];var _6bf=_6bd[this.index];if(_6bf!=_6be){var s=_6be.convertColPctToFixed();var t=_6bf.convertColPctToFixed();if(s||t){setTimeout(function(){_6be.update();_6bf.update();},50);}}},_onDndDrop:function(_6c2,_6c3,copy){if(dojo.dnd.manager().target!==this.source){if(dojo.dnd.manager().source===this.source){this._removingColumn=true;}return;}var _6c5=function(n){return n?dojo.attr(n,"idx"):null;};var w=dojo.marginBox(_6c3[0]).w;if(_6c2.viewIndex!==this.index){var _6c8=this.grid.views.views;var _6c9=_6c8[_6c2.viewIndex];var _6ca=_6c8[this.index];if(_6c9.viewWidth&&_6c9.viewWidth!="auto"){_6c9.setColumnsWidth(_6c9.getColumnsWidth()-w);}if(_6ca.viewWidth&&_6ca.viewWidth!="auto"){_6ca.setColumnsWidth(_6ca.getColumnsWidth());}}var stn=this.source._targetNode;var stb=this.source._beforeTarget;var _6cd=this.grid.layout;var idx=this.index;delete this.source._targetNode;delete this.source._beforeTarget;window.setTimeout(function(){_6cd.moveColumn(_6c2.viewIndex,idx,_6c5(_6c3[0]),_6c5(stn),stb);},1);},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}dojox.grid.util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);},_getHeaderContent:function(_6cf){var n=_6cf.name||_6cf.grid.getCellName(_6cf);var ret=["<div class=\"dojoxGridSortNode"];if(_6cf.index!=_6cf.grid.getSortIndex()){ret.push("\">");}else{ret=ret.concat([" ",_6cf.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_6cf.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\" role=\""+(dojo.isFF<3?"wairole:":"")+"presentation\"></div>"]);}ret=ret.concat([n,"</div>"]);return ret.join("");},resize:function(){this.adaptHeight();this.adaptWidth();},hasHScrollbar:function(_6d2){if(this._hasHScroll==undefined||_6d2){if(this.noscroll){this._hasHScroll=false;}else{var _6d3=dojo.style(this.scrollboxNode,"overflow");if(_6d3=="hidden"){this._hasHScroll=false;}else{if(_6d3=="scroll"){this._hasHScroll=true;}else{this._hasHScroll=(this.scrollboxNode.offsetWidth<this.contentNode.offsetWidth);}}}}return this._hasHScroll;},hasVScrollbar:function(_6d4){if(this._hasVScroll==undefined||_6d4){if(this.noscroll){this._hasVScroll=false;}else{var _6d5=dojo.style(this.scrollboxNode,"overflow");if(_6d5=="hidden"){this._hasVScroll=false;}else{if(_6d5=="scroll"){this._hasVScroll=true;}else{this._hasVScroll=(this.scrollboxNode.offsetHeight<this.contentNode.offsetHeight);}}}}return this._hasVScroll;},convertColPctToFixed:function(){var _6d6=false;var _6d7=dojo.query("th",this.headerContentNode);var _6d8=dojo.map(_6d7,function(c,vIdx){var w=c.style.width;dojo.attr(c,"vIdx",vIdx);if(w&&w.slice(-1)=="%"){_6d6=true;}else{if(w&&w.slice(-2)=="px"){return window.parseInt(w,10);}}return dojo.contentBox(c).w;});if(_6d6){dojo.forEach(this.grid.layout.cells,function(cell,idx){if(cell.view==this){var _6de=cell.view.getHeaderCellNode(cell.index);if(_6de&&dojo.hasAttr(_6de,"vIdx")){var vIdx=window.parseInt(dojo.attr(_6de,"vIdx"));this.setColWidth(idx,_6d8[vIdx]);_6d7[vIdx].style.width=cell.unitWidth;dojo.removeAttr(_6de,"vIdx");}}},this);return true;}return false;},adaptHeight:function(_6e0){if(!this.grid._autoHeight){var h=this.domNode.clientHeight;if(_6e0){h-=dojox.html.metrics.getScrollbar().h;}dojox.grid.util.setStyleHeightPx(this.scrollboxNode,h);}this.hasVScrollbar(true);},adaptWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();if(!this._removingColumn){w=Math.max(w,this.getColumnsWidth())+"px";}else{w=Math.min(w,this.getColumnsWidth())+"px";this._removingColumn=false;}var cn=this.contentNode;cn.style.width=w;this.hasHScrollbar(true);},setSize:function(w,h){var ds=this.domNode.style;var hs=this.headerNode.style;if(w){ds.width=w;hs.width=w;}ds.height=(h>=0?h+"px":"");},renderRow:function(_6e8){var _6e9=this.createRowNode(_6e8);this.buildRow(_6e8,_6e9);this.grid.edit.restore(this,_6e8);if(this._pendingUpdate){window.clearTimeout(this._pendingUpdate);}this._pendingUpdate=window.setTimeout(dojo.hitch(this,function(){window.clearTimeout(this._pendingUpdate);delete this._pendingUpdate;this.grid._resize();}),50);return _6e9;},createRowNode:function(_6ea){var node=document.createElement("div");node.className=this.classTag+"Row";dojo.attr(node,"role","row");node[dojox.grid.util.gridViewTag]=this.id;node[dojox.grid.util.rowIndexTag]=_6ea;this.rowNodes[_6ea]=node;return node;},buildRow:function(_6ec,_6ed){this.buildRowContent(_6ec,_6ed);this.styleRow(_6ec,_6ed);},buildRowContent:function(_6ee,_6ef){_6ef.innerHTML=this.content.generateHtml(_6ee,_6ee);if(this.flexCells&&this.contentWidth){_6ef.firstChild.style.width=this.contentWidth;}dojox.grid.util.fire(this,"onAfterRow",[_6ee,this.structure.cells,_6ef]);},rowRemoved:function(_6f0){this.grid.edit.save(this,_6f0);delete this.rowNodes[_6f0];},getRowNode:function(_6f1){return this.rowNodes[_6f1];},getCellNode:function(_6f2,_6f3){var row=this.getRowNode(_6f2);if(row){return this.content.getCellNode(row,_6f3);}},getHeaderCellNode:function(_6f5){if(this.headerContentNode){return this.header.getCellNode(this.headerContentNode,_6f5);}},styleRow:function(_6f6,_6f7){_6f7._style=_6a3(_6f7);this.styleRowNode(_6f6,_6f7);},styleRowNode:function(_6f8,_6f9){if(_6f9){this.doStyleRowNode(_6f8,_6f9);}},doStyleRowNode:function(_6fa,_6fb){this.grid.styleRowNode(_6fa,_6fb);},updateRow:function(_6fc){var _6fd=this.getRowNode(_6fc);if(_6fd){_6fd.style.height="";this.buildRow(_6fc,_6fd);}return _6fd;},updateRowStyles:function(_6fe){this.styleRowNode(_6fe,this.getRowNode(_6fe));},lastTop:0,firstScroll:0,doscroll:function(_6ff){var _700=dojo._isBodyLtr();if(this.firstScroll<2){if((!_700&&this.firstScroll==1)||(_700&&this.firstScroll==0)){var s=dojo.marginBox(this.headerNodeContainer);if(dojo.isIE){this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";}else{if(dojo.isMoz){this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";this.scrollboxNode.scrollLeft=_700?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;}}}this.firstScroll++;}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!=this.lastTop){this.grid.scrollTo(top);}},setScrollTop:function(_703){this.lastTop=_703;this.scrollboxNode.scrollTop=_703;return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_708,_709){this.grid.setCellWidth(_708,_709+"px");},update:function(){this.content.update();this.grid.update();var left=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=left;this.headerNode.scrollLeft=left;}});dojo.declare("dojox.grid._GridAvatar",dojo.dnd.Avatar,{construct:function(){var dd=dojo.doc;var a=dd.createElement("table");a.cellPadding=a.cellSpacing="0";a.className="dojoxGridDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dd.createElement("tbody");var tr=dd.createElement("tr");var td=dd.createElement("td");var img=dd.createElement("td");tr.className="dojoxGridDndAvatarItem";img.className="dojoxGridDndAvatarItemImage";img.style.width="16px";var _711=this.manager.source,node;if(_711.creator){node=_711._normailzedCreator(_711.getItem(this.manager.nodes[0].id).data,"avatar").node;}else{node=this.manager.nodes[0].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _713=dd.createElement("table"),_714=dd.createElement("tbody");_714.appendChild(node);_713.appendChild(_714);node=_713;}else{if(node.tagName.toLowerCase()=="th"){var _713=dd.createElement("table"),_714=dd.createElement("tbody"),r=dd.createElement("tr");_713.cellPadding=_713.cellSpacing="0";r.appendChild(node);_714.appendChild(r);_713.appendChild(_714);node=_713;}}}node.id="";td.appendChild(node);tr.appendChild(img);tr.appendChild(td);dojo.style(tr,"opacity",0.9);b.appendChild(tr);a.appendChild(b);this.node=a;var m=dojo.dnd.manager();this.oldOffsetY=m.OFFSET_Y;m.OFFSET_Y=1;},destroy:function(){dojo.dnd.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments);}});var _717=dojo.dnd.manager().makeAvatar;dojo.dnd.manager().makeAvatar=function(){var src=this.source;if(src.viewIndex!==undefined){return new dojox.grid._GridAvatar(this);}return _717.call(dojo.dnd.manager());};})();}if(!dojo._hasResource["dojox.grid._RowSelector"]){dojo._hasResource["dojox.grid._RowSelector"]=true;dojo.provide("dojox.grid._RowSelector");dojo.declare("dojox.grid._RowSelector",dojox.grid._View,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_719,_71a){var w=this.contentNode.offsetWidth-this.padBorderWidth;_71a.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\""+(dojo.isFF<3?"wairole:":"")+"presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";},renderHeader:function(){},resize:function(){this.adaptHeight();},adaptWidth:function(){},doStyleRowNode:function(_71c,_71d){var n=["dojoxGridRowbar"];if(this.grid.rows.isOver(_71c)){n.push("dojoxGridRowbarOver");}if(this.grid.selection.isSelected(_71c)){n.push("dojoxGridRowbarSelected");}_71d.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});}if(!dojo._hasResource["dojox.grid._Layout"]){dojo._hasResource["dojox.grid._Layout"]=true;dojo.provide("dojox.grid._Layout");dojo.declare("dojox.grid._Layout",null,{constructor:function(_721){this.grid=_721;},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_722,_723,_724,_725,_726){var _727=this.structure[_722].cells[0];var _728=this.structure[_723].cells[0];var cell=null;var _72a=0;var _72b=0;for(var i=0,c;c=_727[i];i++){if(c.index==_724){_72a=i;break;}}cell=_727.splice(_72a,1)[0];cell.view=this.grid.views.views[_723];for(i=0,c=null;c=_728[i];i++){if(c.index==_725){_72b=i;break;}}if(!_726){_72b+=1;}_728.splice(_72b,0,cell);var _72e=this.grid.getCell(this.grid.getSortIndex());if(_72e){_72e._currentlySorted=this.grid.getSortAsc();}this.cells=[];var _724=0;for(var i=0,v;v=this.structure[i];i++){for(var j=0,cs;cs=v.cells[j];j++){for(var k=0,c;c=cs[k];k++){c.index=_724;this.cells.push(c);if("_currentlySorted" in c){var si=_724+1;si*=c._currentlySorted?1:-1;this.grid.sortInfo=si;delete c._currentlySorted;}_724++;}}}this.grid.setupHeaderMenu();},setColumnVisibility:function(_734,_735){var cell=this.cells[_734];if(cell.hidden==_735){cell.hidden=!_735;var v=cell.view,w=v.viewWidth;if(w&&w!="auto"){v._togglingColumn=dojo.marginBox(cell.getHeaderNode()).w||0;}v.update();return true;}else{return false;}},addCellDef:function(_739,_73a,_73b){var self=this;var _73d=function(_73e){var w=0;if(_73e.colSpan>1){w=0;}else{w=_73e.width||self._defaultCellProps.width||self.defaultWidth;if(!isNaN(w)){w=w+"em";}}return w;};var _740={grid:this.grid,subrow:_739,layoutIndex:_73a,index:this.cells.length};if(_73b&&_73b instanceof dojox.grid.cells._Base){var _741=dojo.clone(_73b);_740.unitWidth=_73d(_741._props);_741=dojo.mixin(_741,this._defaultCellProps,_73b._props,_740);return _741;}var _742=_73b.type||this._defaultCellProps.type||dojox.grid.cells.Cell;_740.unitWidth=_73d(_73b);return new _742(dojo.mixin({},this._defaultCellProps,_73b,_740));},addRowDef:function(_743,_744){var _745=[];var _746=0,_747=0,_748=true;for(var i=0,def,cell;(def=_744[i]);i++){cell=this.addCellDef(_743,i,def);_745.push(cell);this.cells.push(cell);if(_748&&cell.relWidth){_746+=cell.relWidth;}else{if(cell.width){var w=cell.width;if(typeof w=="string"&&w.slice(-1)=="%"){_747+=window.parseInt(w,10);}else{if(w=="auto"){_748=false;}}}}}if(_746&&_748){dojo.forEach(_745,function(cell){if(cell.relWidth){cell.width=cell.unitWidth=((cell.relWidth/_746)*(100-_747))+"%";}});}return _745;},addRowsDef:function(_74e){var _74f=[];if(dojo.isArray(_74e)){if(dojo.isArray(_74e[0])){for(var i=0,row;_74e&&(row=_74e[i]);i++){_74f.push(this.addRowDef(i,row));}}else{_74f.push(this.addRowDef(0,_74e));}}return _74f;},addViewDef:function(_752){this._defaultCellProps=_752.defaultCell||{};if(_752.width&&_752.width=="auto"){delete _752.width;}return dojo.mixin({},_752,{cells:this.addRowsDef(_752.rows||_752.cells)});},setStructure:function(_753){this.fieldIndex=0;this.cells=[];var s=this.structure=[];if(this.grid.rowSelector){var sel={type:dojox._scopeName+".grid._RowSelector"};if(dojo.isString(this.grid.rowSelector)){var _756=this.grid.rowSelector;if(_756=="false"){sel=null;}else{if(_756!="true"){sel["width"]=_756;}}}else{if(!this.grid.rowSelector){sel=null;}}if(sel){s.push(this.addViewDef(sel));}}var _757=function(def){return ("name" in def||"field" in def||"get" in def);};var _759=function(def){if(dojo.isArray(def)){if(dojo.isArray(def[0])||_757(def[0])){return true;}}return false;};var _75b=function(def){return (def!=null&&dojo.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_757(def))));};if(dojo.isArray(_753)){var _75d=false;for(var i=0,st;(st=_753[i]);i++){if(_75b(st)){_75d=true;break;}}if(!_75d){s.push(this.addViewDef({cells:_753}));}else{for(var i=0,st;(st=_753[i]);i++){if(_759(st)){s.push(this.addViewDef({cells:st}));}else{if(_75b(st)){s.push(this.addViewDef(st));}}}}}else{if(_75b(_753)){s.push(this.addViewDef(_753));}}this.cellCount=this.cells.length;this.grid.setupHeaderMenu();}});}if(!dojo._hasResource["dojox.grid._ViewManager"]){dojo._hasResource["dojox.grid._ViewManager"]=true;dojo.provide("dojox.grid._ViewManager");dojo.declare("dojox.grid._ViewManager",null,{constructor:function(_760){this.grid=_760;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_761){_761.idx=this.views.length;this.views.push(_761);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _764=[];for(var i=0,v;v=this.views[i];i++){_764.push(v.contentNode);}return _764;},forEach:function(_767){for(var i=0,v;v=this.views[i];i++){_767(v,i);}},onEach:function(_76a,_76b){_76b=_76b||[];for(var i=0,v;v=this.views[i];i++){if(_76a in v){v[_76a].apply(v,_76b);}}},normalizeHeaderNodeHeight:function(){var _76e=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_76e.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_76e);},normalizeRowNodeHeights:function(_771){var h=0;for(var i=0,n,o;(n=_771[i]);i++){h=Math.max(h,dojo.marginBox(n.firstChild).h);}h=(h>=0?h:0);for(var i=0,n;(n=_771[i]);i++){dojo.marginBox(n.firstChild,{h:h});}if(_771&&_771[0]&&_771[0].parentNode){_771[0].parentNode.offsetHeight;}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_779){var _77a=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_779));i++){n.firstChild.style.height="";_77a.push(n);}this.normalizeRowNodeHeights(_77a);},getViewWidth:function(_77e){return this.views[_77e].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_77f){_77f.headerContentNode.style.height="";});var h=0;this.forEach(function(_781){h=Math.max(_781.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_783){h=Math.max(_783.domNode.offsetHeight,h);});return h;},findClient:function(_784){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length;var c=(w<=0?len:this.findClient());var _78f=function(v,l){var ds=v.domNode.style;var hs=v.headerNode.style;if(!dojo._isBodyLtr()){ds.right=l+"px";hs.right=l+"px";}else{ds.left=l+"px";hs.left=l+"px";}ds.top=0+"px";hs.top=0;};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_78f(v,l);if(v.headerContentNode&&v.headerContentNode.firstChild){vw=v.getColumnsWidth()+v.getScrollbarWidth();}else{vw=v.domNode.offsetWidth;}l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_78f(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_78f(v,l);}return l;},renderRow:function(_796,_797){var _798=[];for(var i=0,v,n,_79c;(v=this.views[i])&&(n=_797[i]);i++){_79c=v.renderRow(_796);n.appendChild(_79c);_798.push(_79c);}this.normalizeRowNodeHeights(_798);},rowRemoved:function(_79d){this.onEach("rowRemoved",[_79d]);},updateRow:function(_79e){for(var i=0,v;v=this.views[i];i++){v.updateRow(_79e);}this.renormalizeRow(_79e);},updateRowStyles:function(_7a1){this.onEach("updateRowStyles",[_7a1]);},setScrollTop:function(_7a2){var top=_7a2;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_7a2);if(dojo.isIE&&v.headerNode&&v.scrollboxNode){v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;}}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasHScrollbar()||v.hasVScrollbar()){return v;}}}});}if(!dojo._hasResource["dojox.grid._RowManager"]){dojo._hasResource["dojox.grid._RowManager"]=true;dojo.provide("dojox.grid._RowManager");(function(){var _7a8=function(_7a9,_7aa){if(_7a9.style.cssText==undefined){_7a9.setAttribute("style",_7aa);}else{_7a9.style.cssText=_7aa;}};dojo.declare("dojox.grid._RowManager",null,{constructor:function(_7ab){this.grid=_7ab;},linesToEms:2,overRow:-2,prepareStylingRow:function(_7ac,_7ad){return {index:_7ac,node:_7ad,odd:Boolean(_7ac&1),selected:this.grid.selection.isSelected(_7ac),over:this.isOver(_7ac),customStyles:"",customClasses:"dojoxGridRow"};},styleRowNode:function(_7ae,_7af){var row=this.prepareStylingRow(_7ae,_7af);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_7b1){var i=_7b1;i.node.className=i.customClasses;var h=i.node.style.height;_7a8(i.node,i.customStyles+";"+(i.node._style||""));i.node.style.height=h;},updateStyles:function(_7b4){this.grid.updateRowStyles(_7b4);},setOverRow:function(_7b5){var last=this.overRow;this.overRow=_7b5;if((last!=this.overRow)&&(last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_7b7){return (this.overRow==_7b7);}});})();}if(!dojo._hasResource["dojox.grid._FocusManager"]){dojo._hasResource["dojox.grid._FocusManager"]=true;dojo.provide("dojox.grid._FocusManager");dojo.declare("dojox.grid._FocusManager",null,{constructor:function(_7b8){this.grid=_7b8;this.cell=null;this.rowIndex=-1;this._connects=[];this._connects.push(dojo.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(dojo.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(dojo.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(dojo.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(dojo.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(dojo.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);delete this.grid;delete this.cell;},_colHeadNode:null,_colHeadFocusIdx:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView;this._initColumnHeaders();},isFocusCell:function(_7b9,_7ba){return (this.cell==_7b9)&&(this.rowIndex==_7ba);},isLastFocusCell:function(){if(this.cell){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);}return false;},isFirstFocusCell:function(){if(this.cell){return (this.rowIndex==0)&&(this.cell.index==0);}return false;},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},isNavHeader:function(){return (!!this._colHeadNode);},getHeaderIndex:function(){if(this._colHeadNode){return dojo.indexOf(this._findHeaderCells(),this._colHeadNode);}else{return -1;}},_focusifyCellNode:function(_7bb){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){dojo.toggleClass(n,this.focusClass,_7bb);if(_7bb){var sl=this.scrollIntoView();try{if(!this.grid.edit.isEditing()){dojox.grid.util.fire(n,"focus");if(sl){this.cell.view.scrollboxNode.scrollLeft=sl;}}}catch(e){}}}},_delayedCellFocus:function(){if(this.isNavHeader()){return;}var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){try{if(!this.grid.edit.isEditing()){dojo.toggleClass(n,this.focusClass,true);dojox.grid.util.fire(n,"focus");}}catch(e){}}},_delayedHeaderFocus:function(){if(this.isNavHeader()){this.focusHeader();}},_initColumnHeaders:function(){this._connects.push(dojo.connect(this.grid.viewsHeaderNode,"onblur",this,"doBlurHeader"));var _7bf=this._findHeaderCells();for(var i=0;i<_7bf.length;i++){this._connects.push(dojo.connect(_7bf[i],"onfocus",this,"doColHeaderFocus"));this._connects.push(dojo.connect(_7bf[i],"onblur",this,"doColHeaderBlur"));}},_findHeaderCells:function(){var _7c1=dojo.query("th",this.grid.viewsHeaderNode);var _7c2=[];for(var i=0;i<_7c1.length;i++){var _7c4=_7c1[i];var _7c5=dojo.hasAttr(_7c4,"tabindex");var _7c6=dojo.attr(_7c4,"tabindex");if(_7c5&&_7c6<0){_7c2.push(_7c4);}}return _7c2;},scrollIntoView:function(){var info=(this.cell?this._scrollInfo(this.cell):null);if(!info||!info.s){return null;}var rt=this.grid.scroller.findScrollTop(this.rowIndex);if(info.n&&info.sr){if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}}if(info.r&&info.sr){if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);}else{if(rt<info.sr.t){this.grid.setScrollTop(rt);}}}return info.s.scrollLeft;},_scrollInfo:function(cell,_7ca){if(cell){var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);return {c:cl,s:sbn,sr:sbnr,n:(_7ca?_7ca:cell.getNode(this.rowIndex)),r:rn};}return null;},_scrollHeader:function(_7cf){var info=null;if(this._colHeadNode){var cell=this.grid.getCell(_7cf);info=this._scrollInfo(cell,cell.getNode(0));}if(info&&info.s&&info.sr&&info.n){var _7d2=info.sr.l+info.sr.w;if(info.n.offsetLeft+info.n.offsetWidth>_7d2){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}else{if(dojo.isIE<=7&&cell&&cell.view.headerNode){cell.view.headerNode.scrollLeft=info.s.scrollLeft;}}}}},styleRow:function(_7d3){return;},setFocusIndex:function(_7d4,_7d5){this.setFocusCell(this.grid.getCell(_7d5),_7d4);},setFocusCell:function(_7d6,_7d7){if(_7d6&&!this.isFocusCell(_7d6,_7d7)){this.tabbingOut=false;this._colHeadNode=this._colHeadFocusIdx=null;this.focusGridView();this._focusifyCellNode(false);this.cell=_7d6;this.rowIndex=_7d7;this._focusifyCellNode(true);}if(dojo.isOpera){setTimeout(dojo.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){if(this.cell){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}if(this.grid.edit.isEditing()){var _7dc=this.grid.getCell(col);if(!this.isLastFocusCell()&&!_7dc.editable){this.cell=_7dc;this.rowIndex=row;this.next();return;}}this.setFocusIndex(row,col);}},previous:function(){if(this.cell){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}if(this.grid.edit.isEditing()){var _7df=this.grid.getCell(col);if(!this.isFirstFocusCell()&&!_7df.editable){this.cell=_7df;this.rowIndex=row;this.previous();return;}}this.setFocusIndex(row,col);}},move:function(_7e0,_7e1){if(this.isNavHeader()){var _7e2=this._findHeaderCells();var _7e3=dojo.indexOf(_7e2,this._colHeadNode);_7e3+=_7e1;if((_7e3>=0)&&(_7e3<_7e2.length)){this._colHeadNode=_7e2[_7e3];this._colHeadFocusIdx=_7e3;this._scrollHeader(_7e3);this._colHeadNode.focus();}}else{if(this.cell){var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_7e0));if(_7e0){if(_7e0>0){if(row>sc.getLastPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));}}else{if(_7e0<0){if(row<=sc.getPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));}}}}var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_7e1));this.setFocusIndex(row,col);if(_7e0){this.grid.updateRow(r);}}}},previousKey:function(e){if(this.grid.edit.isEditing()){dojo.stopEvent(e);this.previous();}else{if(!this.isNavHeader()){this.focusHeader();dojo.stopEvent(e);}else{this.tabOut(this.grid.domNode);}}},nextKey:function(e){var _7ed=this.grid.rowCount==0;if(e.target===this.grid.domNode){this.focusHeader();dojo.stopEvent(e);}else{if(this.isNavHeader()){this._colHeadNode=this._colHeadFocusIdx=null;if(this.isNoFocusCell()&&!_7ed){this.setFocusIndex(0,0);}else{if(this.cell&&!_7ed){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);}this.focusGrid();}else{this.tabOut(this.grid.lastFocusNode);}}}else{if(this.grid.edit.isEditing()){dojo.stopEvent(e);this.next();}else{this.tabOut(this.grid.lastFocusNode);}}}},tabOut:function(_7ee){this.tabbingOut=true;_7ee.focus();},focusGridView:function(){dojox.grid.util.fire(this.focusView,"focus");},focusGrid:function(_7ef){this.focusGridView();this._focusifyCellNode(true);},focusHeader:function(){var _7f0=this._findHeaderCells();if(!this._colHeadFocusIdx){if(this.isNoFocusCell()){this._colHeadFocusIdx=0;}else{this._colHeadFocusIdx=this.cell.index;}}this._colHeadNode=_7f0[this._colHeadFocusIdx];if(this._colHeadNode){dojox.grid.util.fire(this._colHeadNode,"focus");this._focusifyCellNode(false);}},doFocus:function(e){if(e&&e.target!=e.currentTarget){dojo.stopEvent(e);return;}if(!this.tabbingOut){this.focusHeader();}this.tabbingOut=false;dojo.stopEvent(e);},doBlur:function(e){dojo.stopEvent(e);},doBlurHeader:function(e){dojo.stopEvent(e);},doLastNodeFocus:function(e){if(this.tabbingOut){this._focusifyCellNode(false);}else{if(this.grid.rowCount>0){if(this.isNoFocusCell()){this.setFocusIndex(0,0);}this._focusifyCellNode(true);}else{this.focusHeader();}}this.tabbingOut=false;dojo.stopEvent(e);},doLastNodeBlur:function(e){dojo.stopEvent(e);},doColHeaderFocus:function(e){dojo.toggleClass(e.target,this.focusClass,true);this._scrollHeader(this.getHeaderIndex());},doColHeaderBlur:function(e){dojo.toggleClass(e.target,this.focusClass,false);}});}if(!dojo._hasResource["dojox.grid._EditManager"]){dojo._hasResource["dojox.grid._EditManager"]=true;dojo.provide("dojox.grid._EditManager");dojo.declare("dojox.grid._EditManager",null,{constructor:function(_7f8){this.grid=_7f8;this.connections=[];if(dojo.isIE){this.connections.push(dojo.connect(document.body,"onfocus",dojo.hitch(this,"_boomerangFocus")));}},info:{},destroy:function(){dojo.forEach(this.connections,dojo.disconnect);},cellFocus:function(_7f9,_7fa){if(this.grid.singleClickEdit||this.isEditRow(_7fa)){this.setEditCell(_7f9,_7fa);}else{this.apply();}if(this.isEditing()||(_7f9&&_7f9.editable&&_7f9.alwaysEditing)){this._focusEditor(_7f9,_7fa);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_7fc){if(_7fc.index==this.info.rowIndex){_7fc.customClasses+=" dojoxGridRowEditing";}},dispatchEvent:function(e){var c=e.cell,ed=(c&&c["editable"])?c:0;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_800,_801){return (this.info.rowIndex===_800)&&(this.info.cell.index==_801);},isEditRow:function(_802){return this.info.rowIndex===_802;},setEditCell:function(_803,_804){if(!this.isEditCell(_804,_803.index)&&this.grid.canEdit&&this.grid.canEdit(_803,_804)){this.start(_803,_804,this.isEditRow(_804)||_803.editable);}},_focusEditor:function(_805,_806){dojox.grid.util.fire(_805,"focus",[_806]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(dojo.isIE){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_807,_808,_809){this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_808)){this.applyRowEdit();this.grid.updateRow(_808);}if(_809){this.info={cell:_807,rowIndex:_808};this.grid.doStartEdit(_807,_808);this.grid.updateRow(_808);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_807,_808);this._doCatchBoomerang();},_editorDo:function(_80a){var c=this.info.cell;c&&c.editable&&c[_80a](this.info.rowIndex);},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_80c,_80d,_80e){if(this.grid.canEdit(_80d,_80e)){this.grid.doApplyCellEdit(_80c,_80e,_80d.field);}},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);},apply:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_80f,_810){var c=this.info.cell;if(this.isEditRow(_80f)&&(!_810||c.view==_810)&&c.editable){c.save(c,this.info.rowIndex);}},restore:function(_812,_813){var c=this.info.cell;if(this.isEditRow(_813)&&c.view==_812&&c.editable){c.restore(c,this.info.rowIndex);}}});}if(!dojo._hasResource["dojox.grid.Selection"]){dojo._hasResource["dojox.grid.Selection"]=true;dojo.provide("dojox.grid.Selection");dojo.declare("dojox.grid.Selection",null,{constructor:function(_815){this.grid=_815;this.selected=[];this.setMode(_815.selectionMode);},mode:"extended",selected:null,updating:0,selectedIndex:-1,setMode:function(mode){if(this.selected.length){this.deselectAll();}if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){this.mode="extended";}else{this.mode=mode;}},onCanSelect:function(_817){return this.grid.onCanSelect(_817);},onCanDeselect:function(_818){return this.grid.onCanDeselect(_818);},onSelected:function(_819){},onDeselected:function(_81a){},onChanging:function(){},onChanged:function(){},isSelected:function(_81b){if(this.mode=="none"){return false;}return this.selected[_81b];},getFirstSelected:function(){if(!this.selected.length||this.mode=="none"){return -1;}for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_81e){if(this.mode=="none"){return -1;}for(var i=_81e+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _821=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_821.push(i);}}return _821;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},_beginUpdate:function(){if(this.updating==0){this.onChanging();}this.updating++;},_endUpdate:function(){this.updating--;if(this.updating==0){this.onChanged();}},select:function(_826){if(this.mode=="none"){return;}if(this.mode!="multiple"){this.deselectAll(_826);this.addToSelection(_826);}else{this.toggleSelect(_826);}},addToSelection:function(_827){if(this.mode=="none"){return;}_827=Number(_827);if(this.selected[_827]){this.selectedIndex=_827;}else{if(this.onCanSelect(_827)!==false){this.selectedIndex=_827;this._beginUpdate();this.selected[_827]=true;this.onSelected(_827);this._endUpdate();}}},deselect:function(_828){if(this.mode=="none"){return;}_828=Number(_828);if(this.selectedIndex==_828){this.selectedIndex=-1;}if(this.selected[_828]){if(this.onCanDeselect(_828)===false){return;}this._beginUpdate();delete this.selected[_828];this.onDeselected(_828);this._endUpdate();}},setSelected:function(_829,_82a){this[(_82a?"addToSelection":"deselect")](_829);},toggleSelect:function(_82b){this.setSelected(_82b,!this.selected[_82b]);},_range:function(_82c,inTo,func){var s=(_82c>=0?_82c:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){func(i);}},selectRange:function(_832,inTo){this._range(_832,inTo,dojo.hitch(this,"addToSelection"));},deselectRange:function(_834,inTo){this._range(_834,inTo,dojo.hitch(this,"deselect"));},insert:function(_836){this.selected.splice(_836,0,false);if(this.selectedIndex>=_836){this.selectedIndex++;}},remove:function(_837){this.selected.splice(_837,1);if(this.selectedIndex>=_837){this.selectedIndex--;}},deselectAll:function(_838){for(var i in this.selected){if((i!=_838)&&(this.selected[i]===true)){this.deselect(i);}}},clickSelect:function(_83a,_83b,_83c){if(this.mode=="none"){return;}this._beginUpdate();if(this.mode!="extended"){this.select(_83a);}else{var _83d=this.selectedIndex;if(!_83b){this.deselectAll(_83a);}if(_83c){this.selectRange(_83d,_83a);}else{if(_83b){this.toggleSelect(_83a);}else{this.addToSelection(_83a);}}}this._endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,dojo.dnd.getCopyKeyState(e),e.shiftKey);},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate();}});}if(!dojo._hasResource["dojox.grid._Events"]){dojo._hasResource["dojox.grid._Events"]=true;dojo.provide("dojox.grid._Events");dojo.declare("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_842){var i=_842;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(_842);this.edit.styleRow(_842);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var dk=dojo.keys;switch(e.keyCode){case dk.ESCAPE:this.edit.cancel();break;case dk.ENTER:if(!this.edit.isEditing()){var _846=this.focus.getHeaderIndex();if(_846>=0){this.setSortIndex(_846);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.dnd.getCopyKeyState(e),e.shiftKey);}dojo.stopEvent(e);}if(!e.shiftKey){var _847=this.edit.isEditing();this.edit.apply();if(!_847){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}if(!this.edit.isEditing()){var _848=this.focus.focusView||this.views.views[0];_848.content.decorateEvent(e);this.onRowClick(e);}break;case dk.SPACE:if(!this.edit.isEditing()){var _846=this.focus.getHeaderIndex();if(_846>=0){this.setSortIndex(_846);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.dnd.getCopyKeyState(e),e.shiftKey);}dojo.stopEvent(e);}break;case dk.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case dk.LEFT_ARROW:case dk.RIGHT_ARROW:if(!this.edit.isEditing()){dojo.stopEvent(e);var _849=(e.keyCode==dk.LEFT_ARROW)?1:-1;if(dojo._isBodyLtr()){_849*=-1;}this.focus.move(0,_849);}break;case dk.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!=0){dojo.stopEvent(e);this.focus.move(-1,0);}break;case dk.DOWN_ARROW:if(!this.edit.isEditing()&&this.store&&this.focus.rowIndex+1!=this.rowCount){dojo.stopEvent(e);this.focus.move(1,0);}break;case dk.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!=0){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case dk.PAGE_DOWN:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onCellMouseOut:function(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onCellMouseDown:function(e){},onCellClick:function(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}this.onRowClick(e);},onCellDblClick:function(e){if(dojo.isIE){this.edit.setEditCell(this._click[1].cell,this._click[1].rowIndex);}else{if(this._click[0].rowIndex!=this._click[1].rowIndex){this.edit.setEditCell(this._click[0].cell,this._click[0].rowIndex);}else{this.edit.setEditCell(e.cell,e.rowIndex);}}this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_856,_857){this.edit.cellFocus(_856,_857);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowMouseDown:function(e){},onRowContextMenu:function(e){dojo.stopEvent(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function(e){},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){if(!this.headerMenu){dojo.stopEvent(e);}},onStartEdit:function(_869,_86a){},onApplyCellEdit:function(_86b,_86c,_86d){},onCancelEdit:function(_86e){},onApplyEdit:function(_86f){},onCanSelect:function(_870){return true;},onCanDeselect:function(_871){return true;},onSelected:function(_872){this.updateRowStyles(_872);},onDeselected:function(_873){this.updateRowStyles(_873);},onSelectionChanged:function(){}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_874,_875,_876){_876=dojo.i18n.normalizeLocale(_876);var _877=_876.split("-");var _878=[_874,"nls",_875].join(".");var _879=dojo._loadedModules[_878];if(_879){var _87a;for(var i=_877.length;i>0;i--){var loc=_877.slice(0,i).join("_");if(_879[loc]){_87a=_879[loc];break;}}if(!_87a){_87a=_879.ROOT;}if(_87a){var _87d=function(){};_87d.prototype=_87a;return new _87d();}}throw new Error("Bundle not found: "+_875+" in "+_874+" , locale="+_876);};dojo.i18n.normalizeLocale=function(_87e){var _87f=_87e?_87e.toLowerCase():dojo.locale;if(_87f=="root"){_87f="ROOT";}return _87f;};dojo.i18n._requireLocalization=function(_880,_881,_882,_883){var _884=dojo.i18n.normalizeLocale(_882);var _885=[_880,"nls",_881].join(".");var _886="";if(_883){var _887=_883.split(",");for(var i=0;i<_887.length;i++){if(_884["indexOf"](_887[i])==0){if(_887[i].length>_886.length){_886=_887[i];}}}if(!_886){_886="ROOT";}}var _889=_883?_886:_884;var _88a=dojo._loadedModules[_885];var _88b=null;if(_88a){if(dojo.config.localizationComplete&&_88a._built){return;}var _88c=_889.replace(/-/g,"_");var _88d=_885+"."+_88c;_88b=dojo._loadedModules[_88d];}if(!_88b){_88a=dojo["provide"](_885);var syms=dojo._getModuleSymbols(_880);var _88f=syms.concat("nls").join("/");var _890;dojo.i18n._searchLocalePath(_889,_883,function(loc){var _892=loc.replace(/-/g,"_");var _893=_885+"."+_892;var _894=false;if(!dojo._loadedModules[_893]){dojo["provide"](_893);var _895=[_88f];if(loc!="ROOT"){_895.push(loc);}_895.push(_881);var _896=_895.join("/")+".js";_894=dojo._loadPath(_896,null,function(hash){var _898=function(){};_898.prototype=_890;_88a[_892]=new _898();for(var j in hash){_88a[_892][j]=hash[j];}});}else{_894=true;}if(_894&&_88a[_892]){_890=_88a[_892];}else{_88a[_892]=_890;}if(_883){return true;}});}if(_883&&_884!=_886){_88a[_884.replace(/-/g,"_")]=_88a[_886.replace(/-/g,"_")];}};(function(){var _89a=dojo.config.extraLocale;if(_89a){if(!_89a instanceof Array){_89a=[_89a];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_89e,_89f){req(m,b,_89e,_89f);if(_89e){return;}for(var i=0;i<_89a.length;i++){req(m,b,_89a[i],_89f);}};}})();dojo.i18n._searchLocalePath=function(_8a1,down,_8a3){_8a1=dojo.i18n.normalizeLocale(_8a1);var _8a4=_8a1.split("-");var _8a5=[];for(var i=_8a4.length;i>0;i--){_8a5.push(_8a4.slice(0,i).join("-"));}_8a5.push(false);if(down){_8a5.reverse();}for(var j=_8a5.length-1;j>=0;j--){var loc=_8a5[j]||"ROOT";var stop=_8a3(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_8aa,_8ab){function _8ac(_8ad){_8ad=dojo.i18n.normalizeLocale(_8ad);dojo.i18n._searchLocalePath(_8ad,true,function(loc){for(var i=0;i<_8ab.length;i++){if(_8ab[i]==loc){dojo["require"](_8aa+"_"+loc);return true;}}return false;});};_8ac();var _8b0=dojo.config.extraLocale||[];for(var i=0;i<_8b0.length;i++){_8ac(_8b0[i]);}};}if(!dojo._hasResource["dojox.grid._Grid"]){dojo._hasResource["dojox.grid._Grid"]=true;dojo.provide("dojox.grid._Grid");(function(){var jobs={cancel:function(_8b3){if(_8b3){clearTimeout(_8b3);}},jobs:[],job:function(_8b4,_8b5,_8b6){jobs.cancelJob(_8b4);var job=function(){delete jobs.jobs[_8b4];_8b6();};jobs.jobs[_8b4]=setTimeout(job,_8b5);},cancelJob:function(_8b8){jobs.cancel(jobs.jobs[_8b8]);}};dojo.declare("dojox.grid._Grid",[dijit._Widget,dijit._Templated,dojox.grid._Events],{templateString:"<div class=\"dojoxGrid\" hidefocus=\"hidefocus\" wairole=\"grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" tabindex=\"-1\" wairole=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\" wairole=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\n</div>\n",classTag:"dojoxGrid",get:function(_8b9){},rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,autoHeight:"",autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",sortInfo:0,themeable:true,_placeholders:null,buildRendering:function(){this.inherited(arguments);if(this.get==dojox.grid._Grid.prototype.get){this.get=null;}if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");dojox.html.metrics.initOnFontResize();this.connect(dojox.html.metrics,"onFontResize","textSizeChanged");dojox.grid.util.funnelEvents(this.domNode,this,"doKeyEvent",dojox.grid.util.keyEvents);this.connect(this,"onShow","renderOnIdle");},postMixInProperties:function(){this.inherited(arguments);var _8ba=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_8ba);this.errorMessage=dojo.string.substitute(this.errorMessage,_8ba);if(this.srcNodeRef&&this.srcNodeRef.style.height){this.height=this.srcNodeRef.style.height;}this._setAutoHeightAttr(this.autoHeight,true);},postCreate:function(){this.styleChanged=this._styleChanged;this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;this.edit.destroy();delete this.edit;this.views.destroyViews();if(this.scroller){this.scroller.destroy();delete this.scroller;}if(this.focus){this.focus.destroy();delete this.focus;}if(this.headerMenu&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){p.unReplace(true);});this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.inherited(arguments);},_setAutoHeightAttr:function(ah,_8bd){if(typeof ah=="string"){if(!ah||ah=="false"){ah=false;}else{if(ah=="true"){ah=true;}else{ah=window.parseInt(ah,10);}}}if(typeof ah=="number"){if(isNaN(ah)){ah=false;}if(ah<0){ah=true;}else{if(ah===0){ah=false;}}}this.autoHeight=ah;if(typeof ah=="boolean"){this._autoHeight=ah;}else{if(typeof ah=="number"){this._autoHeight=(ah>=this.attr("rowCount"));}else{this._autoHeight=false;}}if(this._started&&!_8bd){this.render();}},_getRowCountAttr:function(){return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;},styleChanged:function(){this.setStyledClass(this.domNode,"");},_styleChanged:function(){this.styleChanged();this.update();},textSizeChanged:function(){setTimeout(dojo.hitch(this,"_textSizeChanged"),1);},_textSizeChanged:function(){if(this.domNode){this.views.forEach(function(v){v.content.update();});this.render();}},sizeChange:function(){jobs.job(this.id+"SizeChange",50,dojo.hitch(this,"update"));},renderOnIdle:function(){setTimeout(dojo.hitch(this,"render"),1);},createManagers:function(){this.rows=new dojox.grid._RowManager(this);this.focus=new dojox.grid._FocusManager(this);this.edit=new dojox.grid._EditManager(this);},createSelection:function(){this.selection=new dojox.grid.Selection(this);},createScroller:function(){this.scroller=new dojox.grid._Scroller();this.scroller.grid=this;this.scroller._pageIdPrefix=this.id+"-";this.scroller.renderRow=dojo.hitch(this,"renderRow");this.scroller.removeRow=dojo.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new dojox.grid._Layout(this);this.connect(this.layout,"moveColumn","onMoveColumn");},onMoveColumn:function(){this.render();this._resize();},createViews:function(){this.views=new dojox.grid._ViewManager(this);this.views.createView=dojo.hitch(this,"createView");},createView:function(_8bf,idx){var c=dojo.getObject(_8bf);var view=new c({grid:this,index:idx});this.viewsNode.appendChild(view.domNode);this.viewsHeaderNode.appendChild(view.headerNode);this.views.addView(view);return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||dojox._scopeName+".grid._View",i).setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},_setStructureAttr:function(_8c5){var s=_8c5;if(s&&dojo.isString(s)){dojo.deprecated("dojox.grid._Grid.attr('structure', 'objVar')","use dojox.grid._Grid.attr('structure', objVar) instead","2.0");s=dojo.getObject(s);}this.structure=s;if(!s){if(this.layout.structure){s=this.layout.structure;}else{return;}}this.views.destroyViews();if(s!==this.layout.structure){this.layout.setStructure(s);}this._structureChanged();},setStructure:function(_8c7){dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.attr('structure', obj) instead.","2.0");this._setStructureAttr(_8c7);},getColumnTogglingItems:function(){return dojo.map(this.layout.cells,function(cell){if(!cell.menuItems){cell.menuItems=[];}var self=this;var item=new dijit.CheckedMenuItem({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_8cb){if(self.layout.setColumnVisibility(this._gridCell.index,_8cb)){var _8cc=this._gridCell.menuItems;if(_8cc.length>1){dojo.forEach(_8cc,function(item){if(item!==this){item.setAttribute("checked",_8cb);}},this);}var _8cb=dojo.filter(self.layout.cells,function(c){if(c.menuItems.length>1){dojo.forEach(c.menuItems,"item.attr('disabled', false);");}else{c.menuItems[0].attr("disabled",false);}return !c.hidden;});if(_8cb.length==1){dojo.forEach(_8cb[0].menuItems,"item.attr('disabled', true);");}}},destroy:function(){var _8cf=dojo.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(_8cf,1);delete this._gridCell;dijit.CheckedMenuItem.prototype.destroy.apply(this,arguments);}});cell.menuItems.push(item);return item;},this);},_setHeaderMenuAttr:function(menu){if(this._placeholders&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){p.unReplace(true);});this._placeholders=[];}if(this.headerMenu){this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.headerMenu=menu;if(!menu){return;}this.headerMenu.bindDomNode(this.viewsHeaderNode);if(this.headerMenu.getPlaceholders){this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);}},setHeaderMenu:function(menu){dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.attr('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(menu);},setupHeaderMenu:function(){if(this._placeholders&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){if(p._replaced){p.unReplace(true);}p.replace(this.getColumnTogglingItems());},this);}},_fetch:function(_8d4){this.setScrollTop(0);},getItem:function(_8d5){return null;},showMessage:function(_8d6){if(_8d6){this.messagesNode.innerHTML=_8d6;this.messagesNode.style.display="";}else{this.messagesNode.innerHTML="";this.messagesNode.style.display="none";}},_structureChanged:function(){this.buildViews();if(this.autoRender&&this._started){this.render();}},hasLayout:function(){return this.layout.cells.length;},resize:function(_8d7,_8d8){this._resize(_8d7,_8d8);this.sizeChange();},_getPadBorder:function(){this._padBorder=this._padBorder||dojo._getPadBorderExtents(this.domNode);return this._padBorder;},_getHeaderHeight:function(){var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();vns.height=t+"px";this.views.normalizeHeaderNodeHeight();return t;},_resize:function(_8db,_8dc){var pn=this.domNode.parentNode;if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){return;}var _8de=this._getPadBorder();var hh=0;if(this._autoHeight){this.domNode.style.height="auto";this.viewsNode.style.height="";}else{if(typeof this.autoHeight=="number"){var h=hh=this._getHeaderHeight();h+=(this.scroller.averageRowHeight*this.autoHeight);this.domNode.style.height=h+"px";}else{if(this.flex>0){}else{if(this.domNode.clientHeight<=_8de.h){if(pn==document.body){this.domNode.style.height=this.defaultHeight;}else{if(this.height){this.domNode.style.height=this.height;}else{this.fitTo="parent";}}}}}}if(_8dc){_8db=_8dc;}if(_8db){dojo.marginBox(this.domNode,_8db);this.height=this.domNode.style.height;delete this.fitTo;}else{if(this.fitTo=="parent"){var h=dojo._getContentBox(pn).h;dojo.marginBox(this.domNode,{h:Math.max(0,h)});}}var h=dojo._getContentBox(this.domNode).h;if(h==0&&!this._autoHeight){this.viewsHeaderNode.style.display="none";}else{this.viewsHeaderNode.style.display="block";hh=this._getHeaderHeight();}this.adaptWidth();this.adaptHeight(hh);this.postresize();},adaptWidth:function(){var w=this.autoWidth?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);this.views.onEach("adaptWidth");if(this.autoWidth){this.domNode.style.width=vw+"px";}},adaptHeight:function(_8e3){var t=_8e3||this._getHeaderHeight();var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("adaptHeight");if(!this._autoHeight){var _8e6=0,_8e7=0;var _8e8=dojo.filter(this.views.views,function(v){var has=v.hasHScrollbar();if(has){_8e6++;}else{_8e7++;}return (!has);});if(_8e6>0&&_8e7>0){dojo.forEach(_8e8,function(v){v.adaptHeight(true);});}}if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.attr("rowCount"))){this.scroller.windowHeight=h;}else{this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);}},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.autoRender){this.render();}},render:function(){if(!this.domNode){return;}if(!this._started){return;}if(!this.hasLayout()){this.scroller.init(0,this.keepRows,this.rowsPerPage);return;}this.update=this.defaultUpdate;this._render();},_render:function(){this.scroller.init(this.attr("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize();},postrender:function(){this.postresize();this.focus.initFocusView();dojo.setSelectable(this.domNode,this.selectable);},postresize:function(){if(this._autoHeight){var size=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=size;}},renderRow:function(_8ed,_8ee){this.views.renderRow(_8ed,_8ee);},rowRemoved:function(_8ef){this.views.rowRemoved(_8ef);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated,r;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=null;},defaultUpdate:function(){if(!this.domNode){return;}if(this.updating){this.invalidated.all=true;return;}var _8f2=this.scrollTop;this.prerender();this.scroller.invalidateNodes();this.setScrollTop(_8f2);this.postrender();},update:function(){this.render();},updateRow:function(_8f3){_8f3=Number(_8f3);if(this.updating){this.invalidated[_8f3]=true;}else{this.views.updateRow(_8f3);this.scroller.rowHeightChanged(_8f3);}},updateRows:function(_8f4,_8f5){_8f4=Number(_8f4);_8f5=Number(_8f5);if(this.updating){for(var i=0;i<_8f5;i++){this.invalidated[i+_8f4]=true;}}else{for(var i=0;i<_8f5;i++){this.views.updateRow(i+_8f4);}this.scroller.rowHeightChanged(_8f4);}},updateRowCount:function(_8f7){if(this.updating){this.invalidated.rowCount=_8f7;}else{this.rowCount=_8f7;this._setAutoHeightAttr(this.autoHeight,true);if(this.layout.cells.length){this.scroller.updateRowCount(_8f7);}this._resize();if(this.layout.cells.length){this.setScrollTop(this.scrollTop);}}},updateRowStyles:function(_8f8){this.views.updateRowStyles(_8f8);},rowHeightChanged:function(_8f9){this.views.renormalizeRow(_8f9);this.scroller.rowHeightChanged(_8f9);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(dojo.isIE?100:50),scrollTo:function(_8fa){if(!this.fastScroll){this.setScrollTop(_8fa);return;}var _8fb=Math.abs(this.lastScrollTop-_8fa);this.lastScrollTop=_8fa;if(_8fb>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_8fa;this.views.setScrollTop(_8fa);jobs.job("dojoxGridScroll",200,dojo.hitch(this,"finishScrollJob"));}else{this.setScrollTop(_8fa);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_8fc){this.scroller.scroll(this.views.setScrollTop(_8fc));},scrollToRow:function(_8fd){this.setScrollTop(this.scroller.findScrollTop(_8fd)+1);},styleRowNode:function(_8fe,_8ff){if(_8ff){this.rows.styleRowNode(_8fe,_8ff);}},_mouseOut:function(e){this.rows.setOverRow(-2);},getCell:function(_901){return this.layout.cells[_901];},setCellWidth:function(_902,_903){this.getCell(_902).unitWidth=_903;},getCellName:function(_904){return "Cell "+_904.index;},canSort:function(_905){},sort:function(){},getSortAsc:function(_906){_906=_906==undefined?this.sortInfo:_906;return Boolean(_906>0);},getSortIndex:function(_907){_907=_907==undefined?this.sortInfo:_907;return Math.abs(_907)-1;},setSortIndex:function(_908,_909){var si=_908+1;if(_909!=undefined){si*=(_909?1:-1);}else{if(this.getSortIndex()==_908){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_90b){if(this.canSort(_90b)){this.sortInfo=_90b;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_919,_91a){this.onStartEdit(_919,_91a);},doApplyCellEdit:function(_91b,_91c,_91d){this.onApplyCellEdit(_91b,_91c,_91d);},doCancelEdit:function(_91e){this.onCancelEdit(_91e);},doApplyEdit:function(_91f){this.onApplyEdit(_91f);},addRow:function(){this.updateRowCount(this.attr("rowCount")+1);},removeSelectedRows:function(){this.updateRowCount(Math.max(0,this.attr("rowCount")-this.selection.getSelected().length));this.selection.clear();}});dojox.grid._Grid.markupFactory=function(_920,node,ctor,_923){var d=dojo;var _925=function(n){var w=d.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w)+"px";}return w;};if(!_920.structure&&node.nodeName.toLowerCase()=="table"){_920.structure=d.query("> colgroup",node).map(function(cg){var sv=d.attr(cg,"span");var v={noscroll:(d.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv):1),cells:[]};if(d.hasAttr(cg,"width")){v.width=_925(cg);}return v;});if(!_920.structure.length){_920.structure.push({__span:Infinity,cells:[]});}d.query("thead > tr",node).forEach(function(tr,_92c){var _92d=0;var _92e=0;var _92f;var _930=null;d.query("> th",tr).map(function(th){if(!_930){_92f=0;_930=_920.structure[0];}else{if(_92d>=(_92f+_930.__span)){_92e++;_92f+=_930.__span;var _932=_930;_930=_920.structure[_92e];}}var cell={name:d.trim(d.attr(th,"name")||th.innerHTML),colSpan:parseInt(d.attr(th,"colspan")||1,10),type:d.trim(d.attr(th,"cellType")||"")};_92d+=cell.colSpan;var _934=d.attr(th,"rowspan");if(_934){cell.rowSpan=_934;}if(d.hasAttr(th,"width")){cell.width=_925(th);}if(d.hasAttr(th,"relWidth")){cell.relWidth=window.parseInt(dojo.attr(th,"relWidth"),10);}if(d.hasAttr(th,"hidden")){cell.hidden=d.attr(th,"hidden")=="true";}if(_923){_923(th,cell);}cell.type=cell.type?dojo.getObject(cell.type):dojox.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(th,cell);}if(!_930.cells[_92c]){_930.cells[_92c]=[];}_930.cells[_92c].push(cell);});});}return new ctor(_920,node);};})();}if(!dojo._hasResource["dojox.grid.DataSelection"]){dojo._hasResource["dojox.grid.DataSelection"]=true;dojo.provide("dojox.grid.DataSelection");dojo.declare("dojox.grid.DataSelection",dojox.grid.Selection,{getFirstSelected:function(){var idx=dojox.grid.Selection.prototype.getFirstSelected.call(this);if(idx==-1){return null;}return this.grid.getItem(idx);},getNextSelected:function(_936){var _937=this.grid.getItemIndex(_936);var idx=dojox.grid.Selection.prototype.getNextSelected.call(this,_937);if(idx==-1){return null;}return this.grid.getItem(idx);},getSelected:function(){var _939=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_939.push(this.grid.getItem(i));}}return _939;},addToSelection:function(_93c){if(this.mode=="none"){return;}var idx=null;if(typeof _93c=="number"||typeof _93c=="string"){idx=_93c;}else{idx=this.grid.getItemIndex(_93c);}dojox.grid.Selection.prototype.addToSelection.call(this,idx);},deselect:function(_93e){if(this.mode=="none"){return;}var idx=null;if(typeof _93e=="number"||typeof _93e=="string"){idx=_93e;}else{idx=this.grid.getItemIndex(_93e);}dojox.grid.Selection.prototype.deselect.call(this,idx);},deselectAll:function(_940){var idx=null;if(_940||typeof _940=="number"){if(typeof _940=="number"||typeof _940=="string"){idx=_940;}else{idx=this.grid.getItemIndex(_940);}dojox.grid.Selection.prototype.deselectAll.call(this,idx);}else{this.inherited(arguments);}}});}if(!dojo._hasResource["dojox.grid.DataGrid"]){dojo._hasResource["dojox.grid.DataGrid"]=true;dojo.provide("dojox.grid.DataGrid");dojo.declare("dojox.grid.DataGrid",dojox.grid._Grid,{store:null,query:null,queryOptions:null,fetchText:"...",items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments);},createSelection:function(){this.selection=new dojox.grid.DataSelection(this);},get:function(_942,_943){return (!_943?this.defaultValue:(!this.field?this.value:this.grid.store.getValue(_943,this.field)));},_onSet:function(item,_945,_946,_947){var idx=this.getItemIndex(item);if(idx>-1){this.updateRow(idx);}},_addItem:function(item,_94a,_94b){var idty=this._hasIdentity?this.store.getIdentity(item):dojo.toJson(this.query)+":idx:"+_94a+":sort:"+dojo.toJson(this.getSortProps());var o={idty:idty,item:item};this._by_idty[idty]=this._by_idx[_94a]=o;if(!_94b){this.updateRow(_94a);}},_onNew:function(item,_94f){var _950=this.attr("rowCount");this._addingItem=true;this.updateRowCount(_950+1);this._addingItem=false;this._addItem(item,_950);this.showMessage();},_onDelete:function(item){var idx=this._getItemIndex(item,true);if(idx>=0){var o=this._by_idx[idx];this._by_idx.splice(idx,1);delete this._by_idty[o.idty];this.updateRowCount(this.attr("rowCount")-1);if(this.attr("rowCount")===0){this.showMessage(this.noDataMessage);}}},_onRevert:function(){this._refresh();},setStore:function(_954,_955,_956){this._setQuery(_955,_956);this._setStore(_954);this._refresh(true);},setQuery:function(_957,_958){this._setQuery(_957,_958);this._refresh(true);},setItems:function(_959){this.items=_959;this._setStore(this.store);this._refresh(true);},_setQuery:function(_95a,_95b){this.query=_95a;this.queryOptions=_95b||this.queryOptions;},_setStore:function(_95c){if(this.store&&this._store_connects){dojo.forEach(this._store_connects,function(arr){dojo.forEach(arr,dojo.disconnect);});}this.store=_95c;if(this.store){var f=this.store.getFeatures();var h=[];this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];this._hasIdentity=!!f["dojo.data.api.Identity"];if(!!f["dojo.data.api.Notification"]&&!this.items){h.push(this.connect(this.store,"onSet","_onSet"));h.push(this.connect(this.store,"onNew","_onNew"));h.push(this.connect(this.store,"onDelete","_onDelete"));}if(this._canEdit){h.push(this.connect(this.store,"revert","_onRevert"));}this._store_connects=h;}},_onFetchBegin:function(size,req){if(this.rowCount!=size){if(req.isRender){this.scroller.init(size,this.keepRows,this.rowsPerPage);this.rowCount=size;this._setAutoHeightAttr(this.autoHeight,true);this.prerender();}else{this.updateRowCount(size);}}},_onFetchComplete:function(_962,req){if(_962&&_962.length>0){dojo.forEach(_962,function(item,idx){this._addItem(item,req.start+idx,true);},this);this.updateRows(req.start,_962.length);if(req.isRender){this.setScrollTop(0);this.postrender();}else{if(this._lastScrollTop){this.setScrollTop(this._lastScrollTop);}}}delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;if(!_962||!_962.length){this.showMessage(this.noDataMessage);this.focus.initFocusView();}else{this.showMessage();}}this._pending_requests[req.start]=false;},_onFetchError:function(err,req){console.log(err);delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;this.showMessage(this.errorMessage);}this.onFetchError(err,req);},onFetchError:function(err,req){},_fetch:function(_96a,_96b){var _96a=_96a||0;if(this.store&&!this._pending_requests[_96a]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_96a]=true;try{if(this.items){var _96c=this.items;var _96d=this.store;this.rowsPerPage=_96c.length;var req={start:_96a,count:this.rowsPerPage,isRender:_96b};this._onFetchBegin(_96c.length,req);var _96f=0;dojo.forEach(_96c,function(i){if(!_96d.isItemLoaded(i)){_96f++;}});if(_96f===0){this._onFetchComplete(_96c,req);}else{var _971=function(item){_96f--;if(_96f===0){this._onFetchComplete(_96c,req);}};dojo.forEach(_96c,function(i){if(!_96d.isItemLoaded(i)){_96d.loadItem({item:i,onItem:_971,scope:this});}},this);}}else{this.store.fetch({start:_96a,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_96b,onBegin:dojo.hitch(this,"_onFetchBegin"),onComplete:dojo.hitch(this,"_onFetchComplete"),onError:dojo.hitch(this,"_onFetchError")});}}catch(e){this._onFetchError(e);}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoaded=false;this._isLoading=false;},getItem:function(idx){var data=this._by_idx[idx];if(!data||(data&&!data.item)){this._preparePage(idx);return null;}return data.item;},getItemIndex:function(item){return this._getItemIndex(item,false);},_getItemIndex:function(item,_978){if(!_978&&!this.store.isItem(item)){return -1;}var idty=this._hasIdentity?this.store.getIdentity(item):null;for(var i=0,l=this._by_idx.length;i<l;i++){var d=this._by_idx[i];if(d&&((idty&&d.idty==idty)||(d.item===item))){return i;}}return -1;},filter:function(_97d,_97e){this.query=_97d;if(_97e){this._clearData();}this._fetch();},_getItemAttr:function(idx,attr){var item=this.getItem(idx);return (!item?this.fetchText:this.store.getValue(item,attr));},_render:function(){if(this.domNode.parentNode){this.scroller.init(this.attr("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this._fetch(0,true);}},_requestsPending:function(_982){return this._pending_requests[_982];},_rowToPage:function(_983){return (this.rowsPerPage?Math.floor(_983/this.rowsPerPage):_983);},_pageToRow:function(_984){return (this.rowsPerPage?this.rowsPerPage*_984:_984);},_preparePage:function(_985){if((_985<this._bop||_985>=this._eop)&&!this._addingItem){var _986=this._rowToPage(_985);this._needPage(_986);this._bop=_986*this.rowsPerPage;this._eop=this._bop+(this.rowsPerPage||this.attr("rowCount"));}},_needPage:function(_987){if(!this._pages[_987]){this._pages[_987]=true;this._requestPage(_987);}},_requestPage:function(_988){var row=this._pageToRow(_988);var _98a=Math.min(this.rowsPerPage,this.attr("rowCount")-row);if(_98a>0){this._requests++;if(!this._requestsPending(row)){setTimeout(dojo.hitch(this,"_fetch",row,false),1);}}},getCellName:function(_98b){return _98b.field;},_refresh:function(_98c){this._clearData();this._fetch(0,_98c);},sort:function(){this._lastScrollTop=this.scrollTop;this._refresh();},canSort:function(){return (!this._isLoading);},getSortProps:function(){var c=this.getCell(this.getSortIndex());if(!c){return null;}else{var desc=c["sortDesc"];var si=!(this.sortInfo>0);if(typeof desc=="undefined"){desc=si;}else{desc=si?!desc:desc;}return [{attribute:c.field,descending:desc}];}},styleRowState:function(_990){if(this.store&&this.store.getState){var _991=this.store.getState(_990.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_991[s]){c=" dojoxGridRow-"+s;break;}}_990.customClasses+=c;}},onStyleRow:function(_996){this.styleRowState(_996);this.inherited(arguments);},canEdit:function(_997,_998){return this._canEdit;},_copyAttr:function(idx,attr){var row={};var _99c={};var src=this.getItem(idx);return this.store.getValue(src,attr);},doStartEdit:function(_99e,_99f){if(!this._cache[_99f]){this._cache[_99f]=this._copyAttr(_99f,_99e.field);}this.onStartEdit(_99e,_99f);},doApplyCellEdit:function(_9a0,_9a1,_9a2){this.store.fetchItemByIdentity({identity:this._by_idx[_9a1].idty,onItem:dojo.hitch(this,function(item){var _9a4=this.store.getValue(item,_9a2);if(typeof _9a4=="number"){_9a0=isNaN(_9a0)?_9a0:parseFloat(_9a0);}else{if(typeof _9a4=="boolean"){_9a0=_9a0=="true"?true:_9a0=="false"?false:_9a0;}else{if(_9a4 instanceof Date){var _9a5=new Date(_9a0);_9a0=isNaN(_9a5.getTime())?_9a0:_9a5;}}}this.store.setValue(item,_9a2,_9a0);this.onApplyCellEdit(_9a0,_9a1,_9a2);})});},doCancelEdit:function(_9a6){var _9a7=this._cache[_9a6];if(_9a7){this.updateRow(_9a6);delete this._cache[_9a6];}this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_9a8,_9a9){var _9aa=this._cache[_9a8];this.onApplyEdit(_9a8);},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var _9ab=this.selection.getSelected();if(_9ab.length){dojo.forEach(_9ab,this.store.deleteItem,this.store);this.selection.clear();}}}});dojox.grid.DataGrid.markupFactory=function(_9ac,node,ctor,_9af){return dojox.grid._Grid.markupFactory(_9ac,node,ctor,function(node,_9b1){var _9b2=dojo.trim(dojo.attr(node,"field")||"");if(_9b2){_9b1.field=_9b2;}_9b1.field=_9b1.field||_9b1.name;if(_9af){_9af(node,_9b1);}});};}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");(function(){var _9b3=0;dojo.html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function(node,cont,_9b7){if(_9b7){dojo.html._emptyNode(node);}if(typeof cont=="string"){var pre="",post="",walk=0,name=node.nodeName.toLowerCase();switch(name){case "tr":pre="<tr>";post="</tr>";walk+=1;case "tbody":case "thead":pre="<tbody>"+pre;post+="</tbody>";walk+=1;case "table":pre="<table>"+pre;post+="</table>";walk+=1;break;}if(walk){var n=node.ownerDocument.createElement("div");n.innerHTML=pre+cont+post;do{n=n.firstChild;}while(--walk);dojo.forEach(n.childNodes,function(n){node.appendChild(n.cloneNode(true));});}else{node.innerHTML=cont;}}else{if(cont.nodeType){node.appendChild(cont);}else{dojo.forEach(cont,function(n){node.appendChild(n.cloneNode(true));});}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,constructor:function(_9bf,node){dojo.mixin(this,_9bf||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_9b3++].join("_");}if(!(this.node||node)){new Error(this.declaredClass+": no node provided to "+this.id);}},set:function(cont,_9c2){if(undefined!==cont){this.content=cont;}if(_9c2){this._mixin(_9c2);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var node=this.node;if(!node){console.error("setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _9c4=this.onContentError(e);try{node.innerHTML=_9c4;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _9c7=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_9c7){cont=_9c7[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(err){return "Error occured setting content: "+err;},_mixin:function(_9c9){var _9ca={},key;for(key in _9c9){if(key in _9ca){continue;}this[key]=_9c9[key];}},_parse:function(){var _9cc=this.node;try{this.parseResults=dojo.parser.parse(_9cc,true);}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_9cf){var _9d0=this["on"+type+"Error"].call(this,err);if(_9cf){console.error(_9cf,err);}else{if(_9d0){dojo.html._setNodeContent(this.node,_9d0,true);}}}});dojo.html.set=function(node,cont,_9d3){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_9d3){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_9d3,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",doLayout:true,ioArgs:{},isContainer:true,postMixInProperties:function(){this.inherited(arguments);var _9d5=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_9d5);this.errorMessage=dojo.string.substitute(this.errorMessage,_9d5);if(!this.href&&this.srcNodeRef&&this.srcNodeRef.innerHTML){this.isLoaded=true;}},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},postCreate:function(){this.domNode.title="";if(!dojo.attr(this.domNode,"role")){dijit.setWaiRole(this.domNode,"group");}dojo.addClass(this.domNode,this.baseClass);},startup:function(){if(this._started){return;}if(this.isLoaded){dojo.forEach(this.getChildren(),function(_9d6){_9d6.startup();});if(this.doLayout){this._checkIfSingleChild();}if(!this._singleChild||!dijit._Contained.prototype.getParent.call(this)){this._scheduleLayout();}}this._loadCheck();this.inherited(arguments);},_checkIfSingleChild:function(){var _9d7=dojo.query(">",this.containerNode),_9d8=_9d7.filter(function(node){return dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_9da=dojo.filter(_9d8.map(dijit.byNode),function(_9db){return _9db&&_9db.domNode&&_9db.resize;});if(_9d7.length==_9d8.length&&_9da.length==1){this._singleChild=_9da[0];}else{delete this._singleChild;}},setHref:function(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use attr('href', ...) instead.","","2.0");return this.attr("href",href);},_setHrefAttr:function(href){this.cancel();this.href=href;if(this._created&&(this.preload||this._isShown())){return this.refresh();}else{this._hrefChanged=true;}},setContent:function(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use attr('content', ...) instead.","","2.0");this.attr("content",data);},_setContentAttr:function(data){this.href="";this.cancel();this._setContent(data||"");this._isDownloaded=false;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;},uninitialize:function(){if(this._beingDestroyed){this.cancel();}},destroyRecursive:function(_9e0){if(this._beingDestroyed){return;}this._beingDestroyed=true;this.inherited(arguments);},resize:function(size){dojo.marginBox(this.domNode,size);var node=this.containerNode,mb=dojo.mixin(dojo.marginBox(node),size||{});var cb=(this._contentBox=dijit.layout.marginBox2contentBox(node,mb));if(this._singleChild&&this._singleChild.resize){this._singleChild.resize({w:cb.w,h:cb.h});}},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden");}},_onShow:function(){if(this._needLayout){this._layoutChildren();}this._loadCheck();if(this.onShow){this.onShow();}},_loadCheck:function(){if((this.href&&!this._xhrDfd)&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)&&(this.preload||this._isShown())){delete this._hrefChanged;this.refresh();}},refresh:function(){this.cancel();this._setContent(this.onDownloadStart(),true);var self=this;var _9e7={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_9e7,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_9e7));hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;});},_onLoadHandler:function(data){this.isLoaded=true;try{this.onLoad(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this.isLoaded=false;try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler();}var _9ec=this._contentSetter;dojo.forEach(this.getChildren(),function(_9ed){if(_9ed.destroyRecursive){_9ed.destroyRecursive();}});if(_9ec){dojo.forEach(_9ec.parseResults,function(_9ee){if(_9ee.destroyRecursive&&_9ee.domNode&&_9ee.domNode.parentNode==dojo.body()){_9ee.destroyRecursive();}});delete _9ec.parseResults;}dojo.html._emptyNode(this.containerNode);},_setContent:function(cont,_9f0){this.destroyDescendants();delete this._singleChild;var _9f1=this._contentSetter;if(!(_9f1&&_9f1 instanceof dojo.html._ContentSetter)){_9f1=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _9f3=this.onContentError(e);try{this.containerNode.innerHTML=_9f3;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _9f4=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad},this._contentSetterParams||{});dojo.mixin(_9f1,_9f4);_9f1.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont);delete this._contentSetterParams;if(!_9f0){dojo.forEach(this.getChildren(),function(_9f5){_9f5.startup();});if(this.doLayout){this._checkIfSingleChild();}this._scheduleLayout();this._onLoadHandler(cont);}},_onError:function(type,err,_9f8){var _9f9=this["on"+type+"Error"].call(this,err);if(_9f8){console.error(_9f8,err);}else{if(_9f9){this._setContent(_9f9,true);}}},_scheduleLayout:function(){if(this._isShown()){this._layoutChildren();}else{this._needLayout=true;}},_layoutChildren:function(){if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{dojo.forEach(this.getChildren(),function(_9fb){if(_9fb.resize){_9fb.resize();}});}delete this._needLayout;},onLoad:function(data){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_9fd){},onDownloadError:function(_9fe){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_a00){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_a00&&_a00.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_a04){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_a04);};dojo.regexp.group=function(_a07,_a08){return "("+(_a08?"?:":"")+_a07+")";};}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_a0a,_a0b){var c=document.cookie;if(arguments.length==1){var _a0d=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _a0d?decodeURIComponent(_a0d[1]):undefined;}else{_a0b=_a0b||{};var exp=_a0b.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_a0b.expires=d;}if(exp&&exp.toUTCString){_a0b.expires=exp.toUTCString();}_a0a=encodeURIComponent(_a0a);var _a10=name+"="+_a0a,_a11;for(_a11 in _a0b){_a10+="; "+_a11;var _a12=_a0b[_a11];if(_a12!==true){_a10+="="+_a12;}}document.cookie=_a10;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dijit.layout.BorderContainer"]){dojo._hasResource["dijit.layout.BorderContainer"]=true;dojo.provide("dijit.layout.BorderContainer");dojo.declare("dijit.layout.BorderContainer",dijit.layout._LayoutWidget,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._splitters={};this._splitterThickness={};},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_a13){var _a14=_a13.region;if(_a14){this.inherited(arguments);dojo.addClass(_a13.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_a14=="leading"){_a14=ltr?"left":"right";}if(_a14=="trailing"){_a14=ltr?"right":"left";}this["_"+_a14]=_a13.domNode;this["_"+_a14+"Widget"]=_a13;if((_a13.splitter||this.gutters)&&!this._splitters[_a14]){var _a16=dojo.getObject(_a13.splitter?this._splitterClass:"dijit.layout._Gutter");var flip={left:"right",right:"left",top:"bottom",bottom:"top",leading:"trailing",trailing:"leading"};var _a18=new _a16({container:this,child:_a13,region:_a14,oppNode:this["_"+flip[_a13.region]],live:this.liveSplitters});_a18.isSplitter=true;this._splitters[_a14]=_a18.domNode;dojo.place(this._splitters[_a14],_a13.domNode,"after");_a18.startup();}_a13.region=_a14;}},_computeSplitterThickness:function(_a19){this._splitterThickness[_a19]=this._splitterThickness[_a19]||dojo.marginBox(this._splitters[_a19])[(/top|bottom/.test(_a19)?"h":"w")];},layout:function(){for(var _a1a in this._splitters){this._computeSplitterThickness(_a1a);}this._layoutChildren();},addChild:function(_a1b,_a1c){this.inherited(arguments);if(this._started){this._layoutChildren();}},removeChild:function(_a1d){var _a1e=_a1d.region;var _a1f=this._splitters[_a1e];if(_a1f){dijit.byNode(_a1f).destroy();delete this._splitters[_a1e];delete this._splitterThickness[_a1e];}this.inherited(arguments);delete this["_"+_a1e];delete this["_"+_a1e+"Widget"];if(this._started){this._layoutChildren(_a1d.region);}dojo.removeClass(_a1d.domNode,this.baseClass+"Pane");},getChildren:function(){return dojo.filter(this.inherited(arguments),function(_a20){return !_a20.isSplitter;});},getSplitter:function(_a21){var _a22=this._splitters[_a21];return _a22?dijit.byNode(_a22):null;},resize:function(_a23,_a24){if(!this.cs||!this.pe){var node=this.domNode;this.cs=dojo.getComputedStyle(node);this.pe=dojo._getPadExtents(node,this.cs);this.pe.r=dojo._toPixelValue(node,this.cs.paddingRight);this.pe.b=dojo._toPixelValue(node,this.cs.paddingBottom);dojo.style(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_a26){if(!this._borderBox||!this._borderBox.h){return;}var _a27=(this.design=="sidebar");var _a28=0,_a29=0,_a2a=0,_a2b=0;var _a2c={},_a2d={},_a2e={},_a2f={},_a30=(this._center&&this._center.style)||{};var _a31=/left|right/.test(_a26);var _a32=!_a26||(!_a31&&!_a27);var _a33=!_a26||(_a31&&_a27);if(this._top){_a2c=_a33&&this._top.style;_a28=dojo.marginBox(this._top).h;}if(this._left){_a2d=_a32&&this._left.style;_a2a=dojo.marginBox(this._left).w;}if(this._right){_a2e=_a32&&this._right.style;_a2b=dojo.marginBox(this._right).w;}if(this._bottom){_a2f=_a33&&this._bottom.style;_a29=dojo.marginBox(this._bottom).h;}var _a34=this._splitters;var _a35=_a34.top,_a36=_a34.bottom,_a37=_a34.left,_a38=_a34.right;var _a39=this._splitterThickness;var _a3a=_a39.top||0,_a3b=_a39.left||0,_a3c=_a39.right||0,_a3d=_a39.bottom||0;if(_a3b>50||_a3c>50){setTimeout(dojo.hitch(this,function(){this._splitterThickness={};for(var _a3e in this._splitters){this._computeSplitterThickness(_a3e);}this._layoutChildren();}),50);return false;}var pe=this.pe;var _a40={left:(_a27?_a2a+_a3b:0)+pe.l+"px",right:(_a27?_a2b+_a3c:0)+pe.r+"px"};if(_a35){dojo.mixin(_a35.style,_a40);_a35.style.top=_a28+pe.t+"px";}if(_a36){dojo.mixin(_a36.style,_a40);_a36.style.bottom=_a29+pe.b+"px";}_a40={top:(_a27?0:_a28+_a3a)+pe.t+"px",bottom:(_a27?0:_a29+_a3d)+pe.b+"px"};if(_a37){dojo.mixin(_a37.style,_a40);_a37.style.left=_a2a+pe.l+"px";}if(_a38){dojo.mixin(_a38.style,_a40);_a38.style.right=_a2b+pe.r+"px";}dojo.mixin(_a30,{top:pe.t+_a28+_a3a+"px",left:pe.l+_a2a+_a3b+"px",right:pe.r+_a2b+_a3c+"px",bottom:pe.b+_a29+_a3d+"px"});var _a41={top:_a27?pe.t+"px":_a30.top,bottom:_a27?pe.b+"px":_a30.bottom};dojo.mixin(_a2d,_a41);dojo.mixin(_a2e,_a41);_a2d.left=pe.l+"px";_a2e.right=pe.r+"px";_a2c.top=pe.t+"px";_a2f.bottom=pe.b+"px";if(_a27){_a2c.left=_a2f.left=_a2a+_a3b+pe.l+"px";_a2c.right=_a2f.right=_a2b+_a3c+pe.r+"px";}else{_a2c.left=_a2f.left=pe.l+"px";_a2c.right=_a2f.right=pe.r+"px";}var _a42=this._borderBox.h-pe.t-pe.b,_a43=_a42-(_a28+_a3a+_a29+_a3d),_a44=_a27?_a42:_a43;var _a45=this._borderBox.w-pe.l-pe.r,_a46=_a45-(_a2a+_a3b+_a2b+_a3c),_a47=_a27?_a46:_a45;var dim={top:{w:_a47,h:_a28},bottom:{w:_a47,h:_a29},left:{w:_a2a,h:_a44},right:{w:_a2b,h:_a44},center:{h:_a43,w:_a46}};var _a49=dojo.isIE<8||(dojo.isIE&&dojo.isQuirks)||dojo.some(this.getChildren(),function(_a4a){return _a4a.domNode.tagName=="TEXTAREA"||_a4a.domNode.tagName=="INPUT";});if(_a49){var _a4b=function(_a4c,_a4d,_a4e){if(_a4c){(_a4c.resize?_a4c.resize(_a4d,_a4e):dojo.marginBox(_a4c.domNode,_a4d));}};if(_a37){_a37.style.height=_a44;}if(_a38){_a38.style.height=_a44;}_a4b(this._leftWidget,{h:_a44},dim.left);_a4b(this._rightWidget,{h:_a44},dim.right);if(_a35){_a35.style.width=_a47;}if(_a36){_a36.style.width=_a47;}_a4b(this._topWidget,{w:_a47},dim.top);_a4b(this._bottomWidget,{w:_a47},dim.bottom);_a4b(this._centerWidget,dim.center);}else{var _a4f={};if(_a26){_a4f[_a26]=_a4f.center=true;if(/top|bottom/.test(_a26)&&this.design!="sidebar"){_a4f.left=_a4f.right=true;}else{if(/left|right/.test(_a26)&&this.design=="sidebar"){_a4f.top=_a4f.bottom=true;}}}dojo.forEach(this.getChildren(),function(_a50){if(_a50.resize&&(!_a26||_a50.region in _a4f)){_a50.resize(null,dim[_a50.region]);}},this);}},destroy:function(){for(var _a51 in this._splitters){var _a52=this._splitters[_a51];dijit.byNode(_a52).destroy();dojo.destroy(_a52);}delete this._splitters;delete this._splitterThickness;this.inherited(arguments);}});dojo.extend(dijit._Widget,{region:"",splitter:false,minSize:0,maxSize:Infinity});dojo.declare("dijit.layout._Splitter",[dijit._Widget,dijit._Templated],{live:true,templateString:"<div class=\"dijitSplitter\" dojoAttachEvent=\"onkeypress:_onKeyPress,onmousedown:_startDrag\" tabIndex=\"0\" waiRole=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",postCreate:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);dojo.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));this._factor=/top|left/.test(this.region)?1:-1;this._minSize=this.child.minSize;this.child.domNode._recalc=true;this.connect(this.container,"resize",function(){this.child.domNode._recalc=true;});this._cookieName=this.container.id+"_"+this.region;if(this.container.persist){var _a53=dojo.cookie(this._cookieName);if(_a53){this.child.domNode.style[this.horizontal?"height":"width"]=_a53;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_a55=this.container._splitterThickness[this.region];var _a56=dojo.contentBox(this.container.domNode)[dim]-(this.oppNode?dojo.marginBox(this.oppNode)[dim]:0)-20-_a55*2;this._maxSize=Math.min(this.child.maxSize,_a56);},_startDrag:function(e){if(this.child.domNode._recalc){this._computeMaxSize();this.child.domNode._recalc=false;}if(!this.cover){this.cover=dojo.doc.createElement("div");dojo.addClass(this.cover,"dijitSplitterCover");dojo.place(this.cover,this.child.domNode,"after");}dojo.addClass(this.cover,"dijitSplitterCoverActive");if(this.fake){dojo.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");dojo.addClass(this.domNode,"dijitSplitterShadow");dojo.place(this.fake,this.domNode,"after");}dojo.addClass(this.domNode,"dijitSplitterActive");var _a58=this._factor,max=this._maxSize,min=this._minSize||20,_a5b=this.horizontal,axis=_a5b?"pageY":"pageX",_a5d=e[axis],_a5e=this.domNode.style,dim=_a5b?"h":"w",_a60=dojo.marginBox(this.child.domNode)[dim],_a61=this.region,_a62=parseInt(this.domNode.style[_a61],10),_a63=this._resize,mb={},_a65=this.child.domNode,_a66=dojo.hitch(this.container,this.container._layoutChildren),de=dojo.doc.body;this._handlers=(this._handlers||[]).concat([dojo.connect(de,"onmousemove",this._drag=function(e,_a69){var _a6a=e[axis]-_a5d,_a6b=_a58*_a6a+_a60,_a6c=Math.max(Math.min(_a6b,max),min);if(_a63||_a69){mb[dim]=_a6c;dojo.marginBox(_a65,mb);_a66(_a61);}_a5e[_a61]=_a58*_a6a+_a62+(_a6c-_a6b)+"px";}),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent),dojo.connect(de,"onmouseup",this,"_stopDrag")]);dojo.stopEvent(e);},_stopDrag:function(e){try{if(this.cover){dojo.removeClass(this.cover,"dijitSplitterCoverActive");}if(this.fake){dojo.destroy(this.fake);}dojo.removeClass(this.domNode,"dijitSplitterActive");dojo.removeClass(this.domNode,"dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();if(this.oppNode){this.oppNode._recalc=true;}delete this._drag;}if(this.container.persist){dojo.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){dojo.forEach(this._handlers,dojo.disconnect);delete this._handlers;},_onKeyPress:function(e){if(this.child.domNode._recalc){this._computeMaxSize();this.child.domNode._recalc=false;}this._resize=true;var _a6f=this.horizontal;var tick=1;var dk=dojo.keys;switch(e.charOrCode){case _a6f?dk.UP_ARROW:dk.LEFT_ARROW:tick*=-1;case _a6f?dk.DOWN_ARROW:dk.RIGHT_ARROW:break;default:return;}var _a72=dojo.marginBox(this.child.domNode)[_a6f?"h":"w"]+this._factor*tick;var mb={};mb[this.horizontal?"h":"w"]=Math.max(Math.min(_a72,this._maxSize),this._minSize);dojo.marginBox(this.child.domNode,mb);if(this.oppNode){this.oppNode._recalc=true;}this.container._layoutChildren(this.region);dojo.stopEvent(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});dojo.declare("dijit.layout._Gutter",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitGutter\" waiRole=\"presentation\"></div>",postCreate:function(){this.horizontal=/top|bottom/.test(this.region);dojo.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{reset:function(){dojo.forEach(this.getDescendants(),function(_a74){if(_a74.reset){_a74.reset();}});},validate:function(){var _a75=false;return dojo.every(dojo.map(this.getDescendants(),function(_a76){_a76._hasBeenBlurred=true;var _a77=_a76.disabled||!_a76.validate||_a76.validate();if(!_a77&&!_a75){dijit.scrollIntoView(_a76.containerNode||_a76.domNode);_a76.focus();_a75=true;}return _a77;}),function(item){return item;});},setValues:function(val){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use attr('value', val) instead.","","2.0");return this.attr("value",val);},_setValueAttr:function(obj){var map={};dojo.forEach(this.getDescendants(),function(_a7c){if(!_a7c.name){return;}var _a7d=map[_a7c.name]||(map[_a7c.name]=[]);_a7d.push(_a7c);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _a7f=map[name],_a80=dojo.getObject(name,false,obj);if(_a80===undefined){continue;}if(!dojo.isArray(_a80)){_a80=[_a80];}if(typeof _a7f[0].checked=="boolean"){dojo.forEach(_a7f,function(w,i){w.attr("value",dojo.indexOf(_a80,w.value)!=-1);});}else{if(_a7f[0]._multiValue){_a7f[0].attr("value",_a80);}else{dojo.forEach(_a7f,function(w,i){w.attr("value",_a80[i]);});}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_getValueAttr:function(){var obj={};dojo.forEach(this.getDescendants(),function(_a86){var name=_a86.name;if(!name||_a86.disabled){return;}var _a88=_a86.attr("value");if(typeof _a86.checked=="boolean"){if(/Radio/.test(_a86.declaredClass)){if(_a88!==false){dojo.setObject(name,_a88,obj);}else{_a88=dojo.getObject(name,false,obj);if(_a88===undefined){dojo.setObject(name,null,obj);}}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_a88!==false){ary.push(_a88);}}}else{dojo.setObject(name,_a88,obj);}});return obj;},isValid:function(){this._invalidWidgets=dojo.filter(this.getDescendants(),function(_a8a){return !_a8a.disabled&&_a8a.isValid&&!_a8a.isValid();});return !this._invalidWidgets.length;},onValidStateChange:function(_a8b){},_widgetChange:function(_a8c){var _a8d=this._lastValidState;if(!_a8c||this._lastValidState===undefined){_a8d=this.isValid();if(this._lastValidState===undefined){this._lastValidState=_a8d;}}else{if(_a8c.isValid){this._invalidWidgets=dojo.filter(this._invalidWidgets||[],function(w){return (w!=_a8c);},this);if(!_a8c.isValid()&&!_a8c.attr("disabled")){this._invalidWidgets.push(_a8c);}_a8d=(this._invalidWidgets.length===0);}}if(_a8d!==this._lastValidState){this._lastValidState=_a8d;this.onValidStateChange(_a8d);}},connectChildren:function(){dojo.forEach(this._changeConnections,dojo.hitch(this,"disconnect"));var _a8f=this;var _a90=this._changeConnections=[];dojo.forEach(dojo.filter(this.getDescendants(),function(item){return item.validate;}),function(_a92){_a90.push(_a8f.connect(_a92,"validate",dojo.hitch(_a8f,"_widgetChange",_a92)));_a90.push(_a8f.connect(_a92,"_setDisabledAttr",dojo.hitch(_a8f,"_widgetChange",_a92)));});this._widgetChange(null);},startup:function(){this.inherited(arguments);this._changeConnections=[];this.connectChildren();}});}if(!dojo._hasResource["dijit.form.Form"]){dojo._hasResource["dijit.form.Form"]=true;dojo.provide("dijit.form.Form");dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onreset:_onReset,onsubmit:_onSubmit' ${nameAttrSetting}></form>",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{action:"",method:"",encType:"","accept-charset":"",accept:"",target:""}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(_a93){},onExecute:function(){},_setEncTypeAttr:function(_a94){this.encType=_a94;dojo.attr(this.domNode,"encType",_a94);if(dojo.isIE){this.domNode.encoding=_a94;}},postCreate:function(){if(dojo.isIE&&this.srcNodeRef&&this.srcNodeRef.attributes){var item=this.srcNodeRef.attributes.getNamedItem("encType");if(item&&!item.specified&&(typeof item.value=="string")){this.attr("encType",item.value);}}this.inherited(arguments);},onReset:function(e){return true;},_onReset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e.currentTarget,target:e.target};if(!(this.onReset(faux)===false)&&faux.returnValue){this.reset();}dojo.stopEvent(e);return false;},_onSubmit:function(e){var fp=dijit.form.Form.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){dojo.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){dojo.stopEvent(e);}},onSubmit:function(e){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",templateString:"<input class=\"dijit dijitReset dijitLeft\" dojoAttachPoint='textbox,focusNode'\n\tdojoAttachEvent='onmouseenter:_onMouse,onmouseleave:_onMouse'\n\tautocomplete=\"off\" type=\"${type}\" ${nameAttrSetting}\n\t/>\n",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),_getValueAttr:function(){return this.parse(this.attr("displayedValue"),this.constraints);},_setValueAttr:function(_a9c,_a9d,_a9e){var _a9f;if(_a9c!==undefined){_a9f=this.filter(_a9c);if(typeof _a9e!="string"){if(_a9f!==null&&((typeof _a9f!="number")||!isNaN(_a9f))){_a9e=this.filter(this.format(_a9f,this.constraints));}else{_a9e="";}}}if(_a9e!=null&&_a9e!=undefined&&((typeof _a9e)!="number"||!isNaN(_a9e))&&this.textbox.value!=_a9e){this.textbox.value=_a9e;}this.inherited(arguments,[_a9f,_a9d]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_aa0){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",_aa0);},_setDisplayedValueAttr:function(_aa1){if(_aa1===null||_aa1===undefined){_aa1="";}else{if(typeof _aa1!="string"){_aa1=String(_aa1);}}this.textbox.value=_aa1;this._setValueAttr(this.attr("value"),undefined,_aa1);},format:function(_aa2,_aa3){return ((_aa2==null||_aa2==undefined)?"":(_aa2.toString?_aa2.toString():_aa2));},parse:function(_aa4,_aa5){return _aa4;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _aa7=this;setTimeout(function(){_aa7._handleOnChange(_aa7.attr("value"),false);},0);}this._refreshState();},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}this._layoutHack();},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.attr("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_onFocus:function(e){if(this.disabled){return;}this._refreshState();this.inherited(arguments);},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_aac,_aad,stop){var _aaf=dojo.global;var _ab0=dojo.doc;_aac=dojo.byId(_aac);if(isNaN(_aad)){_aad=0;}if(isNaN(stop)){stop=_aac.value?_aac.value.length:0;}_aac.focus();if(_ab0["selection"]&&dojo.body()["createTextRange"]){if(_aac.createTextRange){var _ab1=_aac.createTextRange();with(_ab1){collapse(true);moveStart("character",_aad);moveEnd("character",stop);select();}}}else{if(_aaf["getSelection"]){var _ab2=_aaf.getSelection();if(_aac.setSelectionRange){_aac.setSelectionRange(_aad,stop);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n\t<div class=\"dijitTooltipConnector\"></div>\n</div>\n",postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_ab3,_ab4,_ab5){if(this.aroundNode&&this.aroundNode===_ab4){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_ab3;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var _ab6={};var ltr=this.isLeftToRight();dojo.forEach((_ab5&&_ab5.length)?_ab5:dijit.Tooltip.defaultPosition,function(pos){switch(pos){case "after":_ab6[ltr?"BR":"BL"]=ltr?"BL":"BR";break;case "before":_ab6[ltr?"BL":"BR"]=ltr?"BR":"BL";break;case "below":_ab6[ltr?"BL":"BR"]=ltr?"TL":"TR";_ab6[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above":default:_ab6[ltr?"TL":"TR"]=ltr?"BL":"BR";_ab6[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});var pos=dijit.placeOnScreenAroundElement(this.domNode,_ab4,_ab6,dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_ab4;},orient:function(node,_abb,_abc){node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_abb+"-"+_abc];},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_abd){if(this._onDeck&&this._onDeck[1]==_abd){this._onDeck=null;}else{if(this.aroundNode===_abd){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_abe,_abf,_ac0){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_abe,_abf,_ac0);};dijit.hideTooltip=function(_ac1){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_ac1);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(ids){this._connectNodes=[];this.connectId=dojo.isArrayLike(ids)?ids:[ids];dojo.forEach(this.connectId,function(id){var node=dojo.byId(id);if(node){this._connectNodes.push(node);dojo.forEach(["onMouseEnter","onMouseLeave","onFocus","onBlur"],function(_ac5){this.connect(node,_ac5.toLowerCase(),"_"+_ac5);},this);if(dojo.isIE){node.style.zoom=1;}}},this);},postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData");},_onMouseEnter:function(e){this._onHover(e);},_onMouseLeave:function(e){this._onUnHover(e);},_onFocus:function(e){this._focus=true;this._onHover(e);this.inherited(arguments);},_onBlur:function(e){this._focus=false;this._onUnHover(e);this.inherited(arguments);},_onHover:function(e){if(!this._showTimer){var _acb=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_acb);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_acd){_acd=_acd||this._connectNodes[0];if(!_acd){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_acd,this.position);this._connectNode=_acd;},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},uninitialize:function(){this.close();}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" waiRole=\"presentation\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input class=\"dijitReset\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${nameAttrSetting} type='${type}'\n\t\t/></div\n\t></div\n></div>\n",baseClass:"dijitTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(_ace){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_acf,_ad0){return (new RegExp("^(?:"+this.regExpGen(_ad0)+")"+(this.required?"":"?")+"$")).test(_acf)&&(!this.required||!this._isEmpty(_acf))&&(this._isEmpty(_acf)||this.parse(_acf,_ad0)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_ad1){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_ad2){return /^\s*$/.test(_ad2);},getErrorMessage:function(_ad3){return this.invalidMessage;},getPromptMessage:function(_ad4){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_ad5){var _ad6="";var _ad7=this.disabled||this.isValid(_ad5);if(_ad7){this._maskValidSubsetError=true;}var _ad8=!_ad7&&_ad5&&this._isValidSubset();var _ad9=this._isEmpty(this.textbox.value);this.state=(_ad7||(!this._hasBeenBlurred&&_ad9)||_ad8)?"":"Error";if(this.state=="Error"){this._maskValidSubsetError=false;}this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_ad7?"false":"true");if(_ad5){if(_ad9){_ad6=this.getPromptMessage(true);}if(!_ad6&&(this.state=="Error"||(_ad8&&!this._maskValidSubsetError))){_ad6=this.getErrorMessage(true);}}this.displayMessage(_ad6);return _ad7;},_message:"",displayMessage:function(_ada){if(this._message==_ada){return;}this._message=_ada;dijit.hideTooltip(this.domNode);if(_ada){dijit.showTooltip(_ada,this.domNode,this.tooltipPosition);}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},postMixInProperties:function(){this.inherited(arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}var p=this.regExpGen(this.constraints);this.regExp=p;var _adc="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_adc+=re;break;case ")":_adc+="|$)";break;default:_adc+="(?:"+re+"|$)";break;}});}try{"".search(_adc);}catch(e){_adc=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_adc+")$";},_setDisabledAttr:function(_ade){this.inherited(arguments);if(this.valueNode){this.valueNode.disabled=_ade;}this._refreshState();},_setRequiredAttr:function(_adf){this.required=_adf;dijit.setWaiState(this.focusNode,"required",_adf);this._refreshState();},postCreate:function(){if(dojo.isIE){var s=dojo.getComputedStyle(this.focusNode);if(s){var ff=s.fontFamily;if(ff){this.focusNode.style.fontFamily=ff;}}}this.inherited(arguments);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_ae3){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.attr("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name},this.textbox,"after");},_setDisabledAttr:function(_ae5){this.inherited(arguments);dojo.attr(this.valueNode,"disabled",_ae5);},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_ae6,_ae7){var _ae8="min" in _ae7;var _ae9="max" in _ae7;if(_ae8||_ae9){return (!_ae8||this.compare(_ae6,_ae7.min)>=0)&&(!_ae9||this.compare(_ae6,_ae7.max)<=0);}return true;},isInRange:function(_aea){return this.rangeCheck(this.attr("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.attr("value");var _aec=false;var _aed=false;if("min" in this.constraints){var min=this.constraints.min;val=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_aec=(typeof val=="number")&&val<0;}if("max" in this.constraints){var max=this.constraints.max;val=this.compare(val,((typeof max!="number")||max>0)?max:0);_aed=(typeof val=="number")&&val>0;}return _aec||_aed;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_af0){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_af0));},getErrorMessage:function(_af1){if(dijit.form.RangeBoundTextBox.superclass.isValid.call(this,false)&&!this.isInRange(_af1)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},postCreate:function(){this.inherited(arguments);if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}},_setValueAttr:function(_af2,_af3){dijit.setWaiState(this.focusNode,"valuenow",_af2);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" dojoAttachPoint=\"comboNode\" waiRole=\"combobox\" tabIndex=\"-1\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"downArrowNode\" waiRole=\"presentation\"\n\t\t\tdojoAttachEvent=\"onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse\"\n\t\t\t><div class=\"dijitArrowButtonInner\">&thinsp;</div\n\t\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div\n\t\t></div\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input ${nameAttrSetting} type=\"text\" autocomplete=\"off\" class='dijitReset'\n\t\t\tdojoAttachEvent=\"onkeypress:_onKeyPress,compositionend\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"textbox\" waiState=\"haspopup-true,autocomplete-list\"\n\t\t/></div\n\t></div\n></div>\n",baseClass:"dijitComboBox",_getCaretPos:function(_af4){var pos=0;if(typeof (_af4.selectionStart)=="number"){pos=_af4.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_af4.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_af8,_af9){_af9=parseInt(_af9);dijit.selectInputText(_af8,_af9,_af9);},_setDisabledAttr:function(_afa){this.inherited(arguments);dijit.setWaiState(this.comboNode,"disabled",_afa);},_onKeyPress:function(evt){var key=evt.charOrCode;if(evt.altKey||(evt.ctrlKey&&(key!="x"&&key!="v"))||evt.key==dojo.keys.SHIFT){return;}var _afd=false;var pw=this._popupWidget;var dk=dojo.keys;var _b00=null;if(this._isShowingNow){pw.handleKey(key);_b00=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:if(!this._isShowingNow||this._prev_key_esc){this._arrowPressed();_afd=true;}else{if(_b00){this._announceOption(_b00);}}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.PAGE_UP:case dk.UP_ARROW:if(this._isShowingNow){this._announceOption(_b00);}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.ENTER:if(_b00){if(_b00==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_b00==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setDisplayedValueAttr(this.attr("displayedValue"),true);}evt.preventDefault();case dk.TAB:var _b01=this.attr("displayedValue");if(pw&&(_b01==pw._messages["previousMessage"]||_b01==pw._messages["nextMessage"])){break;}if(this._isShowingNow){this._prev_key_backspace=false;this._prev_key_esc=false;if(_b00){pw.attr("value",{target:_b00});}this._lastQuery=null;this._hideResultList();}break;case " ":this._prev_key_backspace=false;this._prev_key_esc=false;if(_b00){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_afd=true;}break;case dk.ESCAPE:this._prev_key_backspace=false;this._prev_key_esc=true;if(this._isShowingNow){dojo.stopEvent(evt);this._hideResultList();}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_esc=false;this._prev_key_backspace=true;_afd=true;break;case dk.RIGHT_ARROW:case dk.LEFT_ARROW:this._prev_key_backspace=false;this._prev_key_esc=false;break;default:this._prev_key_backspace=false;this._prev_key_esc=false;_afd=typeof key=="string";}if(this.searchTimer){clearTimeout(this.searchTimer);}if(_afd){setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _b04=this.ignoreCase?"toLowerCase":"substr";if(text[_b04](0).indexOf(this.focusNode.value[_b04](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_b06,_b07){if(this.disabled||this.readOnly||(_b07.query[this.searchAttr]!=this._lastQuery)){return;}this._popupWidget.clearResultList();if(!_b06.length){this._hideResultList();return;}this.item=null;var _b08=new String(this.store.getValue(_b06[0],this.searchAttr));if(_b08&&this.autoComplete&&!this._prev_key_backspace&&(_b07.query[this.searchAttr]!="*")){this.item=_b06[0];this._autoCompleteText(_b08);}_b07._maxOptions=this._maxOptions;this._popupWidget.createOptions(_b06,_b07,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_b07.direction){if(1==_b07.direction){this._popupWidget.highlightFirstOption();}else{if(-1==_b07.direction){this._popupWidget.highlightLastOption();}}this._announceOption(this._popupWidget.getHighlightedOption());}},_showResultList:function(){this._hideResultList();var _b09=this._popupWidget.getItems(),_b0a=Math.min(_b09.length,this.maxListLength);this._arrowPressed();this.displayMessage("");dojo.style(this._popupWidget.domNode,{width:"",height:""});var best=this.open();var _b0c=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((best.h==_b0c.h)&&(best.w==_b0c.w))?"hidden":"auto";var _b0d=best.w;if(best.h<this._popupWidget.domNode.scrollHeight){_b0d+=16;}dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(_b0d,this.domNode.offsetWidth)});dijit.setWaiState(this.comboNode,"expanded","true");},_hideResultList:function(){if(this._isShowingNow){dijit.popup.close(this._popupWidget);this._arrowIdle();this._isShowingNow=false;dijit.setWaiState(this.comboNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _b0e=this.attr("displayedValue");var pw=this._popupWidget;if(pw&&(_b0e==pw._messages["previousMessage"]||_b0e==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{this.attr("displayedValue",_b0e);}},_onBlur:function(){this._hideResultList();this._arrowIdle();this.inherited(arguments);},_announceOption:function(node){if(node==null){return;}var _b11;if(node==this._popupWidget.nextButton||node==this._popupWidget.previousButton){_b11=node.innerHTML;}else{_b11=this.store.getValue(node.item,this.searchAttr);}this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode));dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_b11);},_selectOption:function(evt){var tgt=null;if(!evt){evt={target:this._popupWidget.getHighlightedOption()};}if(!evt.target){this.attr("displayedValue",this.attr("displayedValue"));return;}else{tgt=evt.target;}if(!evt.noHide){this._hideResultList();this._setCaretPos(this.focusNode,this.store.getValue(tgt.item,this.searchAttr).length);}this._doSelect(tgt);},_doSelect:function(tgt){this.item=tgt.item;this.attr("value",this.store.getValue(tgt.item,this.searchAttr));},_onArrowMouseDown:function(evt){if(this.disabled||this.readOnly){return;}dojo.stopEvent(evt);this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearch("");}},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this._popupWidget){var _b18=this.id+"_popup";this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:_b18});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_b18);}this.item=null;var _b19=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_b19[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_b1a,_b1b){var _b1c={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_b1a,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_b1d){console.error("dijit.form.ComboBox: "+_b1d);dojo.hitch(_b1b,"_hideResultList")();},start:0,count:this.pageSize};dojo.mixin(_b1c,_b1b.fetchProperties);var _b1e=_b1b.store.fetch(_b1c);var _b1f=function(_b20,_b21){_b20.start+=_b20.count*_b21;_b20.direction=_b21;this.store.fetch(_b20);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_b1f,_b1e);},_b19,this),this.searchDelay);},_setMaxOptions:function(size,_b23){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},_arrowPressed:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");}},_arrowIdle:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");}},compositionend:function(evt){this._onKeyPress({charCode:-1});},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.hasDownArrow){this.baseClass="dijitTextBox";}if(!this.store){var _b25=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_b25);if(!this.value||((typeof _b25.selectedIndex=="number")&&_b25.selectedIndex.toString()===this.value)){var item=this.store.fetchSelectedItem();if(item){this.value=this.store.getValue(item,this._getValueField());}}}this.inherited(arguments);},postCreate:function(){var _b27=dojo.query("label[for=\""+this.id+"\"]");if(_b27.length){_b27[0].id=(this.id+"_label");var cn=this.comboNode;dijit.setWaiState(cn,"labelledby",_b27[0].id);}this.inherited(arguments);},uninitialize:function(){if(this._popupWidget){this._hideResultList();this._popupWidget.destroy();}},_getMenuLabelFromItem:function(item){var _b2a=this.store.getValue(item,this.labelAttr||this.searchAttr);var _b2b=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_b2a=this.doHighlight(_b2a,this._escapeHtml(this._lastInput));_b2b="html";}return {html:_b2b=="html",label:_b2a};},doHighlight:function(_b2c,find){var _b2e="i"+(this.highlightMatch=="all"?"g":"");var _b2f=this._escapeHtml(_b2c);find=dojo.regexp.escapeString(find);var ret=_b2f.replace(new RegExp("(^|\\s)("+find+")",_b2e),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");return ret;},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},open:function(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});},reset:function(){this.item=null;this.inherited(arguments);}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' tabIndex='-1' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' waiRole='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' waiRole='option'></li>"+"</ul>",_messages:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited(arguments);},_setValueAttr:function(_b32){this.value=_b32;this.onChange(_b32);},onChange:function(_b33){},onPage:function(_b34){},postCreate:function(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited(arguments);},onClose:function(){this._blurOptionNode();},_createOption:function(item,_b36){var _b37=_b36(item);var _b38=dojo.doc.createElement("li");dijit.setWaiRole(_b38,"option");if(_b37.html){_b38.innerHTML=_b37.label;}else{_b38.appendChild(dojo.doc.createTextNode(_b37.label));}if(_b38.innerHTML==""){_b38.innerHTML="&nbsp;";}_b38.item=item;return _b38;},createOptions:function(_b39,_b3a,_b3b){this.previousButton.style.display=(_b3a.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_b39,function(item,i){var _b3e=this._createOption(item,_b3b);_b3e.className="dijitReset dijitMenuItem";dojo.attr(_b3e,"id",this.id+i);this.domNode.insertBefore(_b3e,this.nextButton);},this);var _b3f=false;if(_b3a._maxOptions&&_b3a._maxOptions!=-1){if((_b3a.start+_b3a.count)<_b3a._maxOptions){_b3f=true;}else{if((_b3a.start+_b3a.count)>(_b3a._maxOptions-1)){if(_b3a.count==_b39.length){_b3f=true;}}}}else{if(_b3a.count==_b39.length){_b3f=true;}}this.nextButton.style.display=_b3f?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},getItems:function(){return this.domNode.childNodes;},getListLength:function(){return this.domNode.childNodes.length-2;},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){var fc=this.domNode.firstChild;if(!this.getHighlightedOption()){this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}}dijit.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){this._focusOptionNode(this.domNode.firstChild.nextSibling);dijit.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dijit.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){var lc=this.domNode.lastChild;if(!this.getHighlightedOption()){this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}}dijit.scrollIntoView(this._highlighted_option);},_page:function(up){var _b4c=0;var _b4d=this.domNode.scrollTop;var _b4e=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_b4c<_b4e){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _b4f=this.domNode.scrollTop;_b4c+=(_b4f-_b4d)*(up?-1:1);_b4d=_b4f;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(key){switch(key){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_b52,_b53){if(!_b52){_b52="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_b52,_b53);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_b57,_b58){return (_b57=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_b59){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_b5b,_b5c){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _b5d=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_b5e=dojo.query("> option",this.root).filter(function(_b5f){return (_b5f.innerText||_b5f.textContent||"").match(_b5d);});if(args.sort){_b5e.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_b5b(_b5e,args);},close:function(_b60){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0];}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\n\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\n\t><span class=\"dijitReset dijitRight dijitInline\"\n\t\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\t\tdojoAttachPoint=\"titleNode,focusNode\" \n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t\t><span class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" \n\t\t\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#10003;</span \n\t\t\t\t></span \n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\" \n\t\t\t\t\tid=\"${id}_label\"  \n\t\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t\t></span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n",attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function(e){if(this.disabled||this.readOnly){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(e.type!="click"&&!(this.type=="submit"||this.type=="reset")){dojo.stopEvent(e);}if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!this.focusNode.form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _b6a=dijit.byNode(node);if(_b6a&&typeof _b6a._onSubmit=="function"){_b6a._onSubmit(e);break;}}}}},_setValueAttr:function(_b6b){var attr=this.attributeMap.value||"";if(this[attr.node||attr||"domNode"].tagName=="BUTTON"){if(_b6b!=this.value){console.debug("Cannot change the value attribute on a Button widget.");}}},_fillContent:function(_b6d){if(_b6d&&!("label" in this.params)){this.attr("label",_b6d.innerHTML);}},postCreate:function(){if(this.showLabel==false){dojo.addClass(this.containerNode,"dijitDisplayNone");}dojo.setSelectable(this.focusNode,false);this.inherited(arguments);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_b70){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_b70);},_setLabelAttr:function(_b71){this.containerNode.innerHTML=this.label=_b71;this._layoutHack();if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey\"\n\t><span class='dijitReset dijitRight dijitInline'\n\t\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\" \n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\"\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode\" \n\t\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\n\t\t\t\t><span class=\"dijitReset dijitInline\" \n\t\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t\t></span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  \n\t\t\t\t\tdojoAttachPoint=\"containerNode,popupStateNode\" \n\t\t\t\t\tid=\"${id}_label\"\n\t\t\t\t></span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\">&thinsp;</span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n",_fillContent:function(){if(this.srcNodeRef){var _b72=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_b72[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown){var _b73=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_b73);delete this.dropDownContainer;}dijit.popup.prepare(this.dropDown.domNode);this.inherited(arguments);},destroyDescendants:function(){if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}this.inherited(arguments);},_onArrowClick:function(e){if(this.disabled||this.readOnly){return;}this._toggleDropDown();},_onDropDownClick:function(e){var _b76=dojo.isFF&&dojo.isFF<3&&navigator.appVersion.indexOf("Macintosh")!=-1;if(!_b76||e.detail!=0||this._seenKeydown){this._onArrowClick(e);}this._seenKeydown=false;},_onDropDownKeydown:function(e){this._seenKeydown=true;},_onDropDownBlur:function(e){this._seenKeydown=false;},_onKey:function(e){if(this.disabled||this.readOnly){return;}if(e.charOrCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.visibility=="hidden"){dojo.stopEvent(e);this._toggleDropDown();}}},_onBlur:function(){this._closeDropDown();this.inherited(arguments);},_toggleDropDown:function(){if(this.disabled||this.readOnly){return;}dijit.focus(this.popupStateNode);var _b7a=this.dropDown;if(!_b7a){return;}if(!this._opened){if(_b7a.href&&!_b7a.isLoaded){var self=this;var _b7c=dojo.connect(_b7a,"onLoad",function(){dojo.disconnect(_b7c);self._openDropDown();});_b7a.refresh();return;}else{this._openDropDown();}}else{this._closeDropDown();}},_openDropDown:function(){var _b7d=this.dropDown;var _b7e=_b7d.domNode.style.width;var self=this;dijit.popup.open({parent:this,popup:_b7d,around:this.domNode,orient:this.isLeftToRight()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},onExecute:function(){self._closeDropDown(true);},onCancel:function(){self._closeDropDown(true);},onClose:function(){_b7d.domNode.style.width=_b7e;self.popupStateNode.removeAttribute("popupActive");self._opened=false;}});if(this.domNode.offsetWidth>_b7d.domNode.offsetWidth){var _b80=null;if(!this.isLeftToRight()){_b80=_b7d.domNode.parentNode;var _b81=_b80.offsetLeft+_b80.offsetWidth;}dojo.marginBox(_b7d.domNode,{w:this.domNode.offsetWidth});if(_b80){_b80.style.left=_b81-this.domNode.offsetWidth+"px";}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(_b7d.focus){_b7d.focus();}},_closeDropDown:function(_b82){if(this._opened){dijit.popup.close(this.dropDown);if(_b82){this.focus();}this._opened=false;}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:"<table class='dijit dijitReset dijitInline dijitLeft'\n\tcellspacing='0' cellpadding='0' waiRole=\"presentation\"\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"  dojoAttachPoint=\"titleNode\"\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" waiRole=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" waiRole=\"presentation\"></div\n\t\t></td\n\t\t><td class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"popupStateNode,focusNode\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onArrowClick, onkeypress:_onKey,onmouseenter:_onMouse,onmouseleave:_onMouse\"\n\t\t\tstateModifier=\"DownArrow\"\n\t\t\ttitle=\"${optionsTitle}\" ${nameAttrSetting}\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\">&thinsp;</div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n",attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"]}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments);this._focalNodes=[this.titleNode,this.popupStateNode];dojo.forEach(this._focalNodes,dojo.hitch(this,function(node){if(dojo.isIE){this.connect(node,"onactivate",this._onNodeFocus);this.connect(node,"ondeactivate",this._onNodeBlur);}else{this.connect(node,"onfocus",this._onNodeFocus);this.connect(node,"onblur",this._onNodeBlur);}}));},focusFocalNode:function(node){this._focusedNode=node;dijit.focus(node);},hasNextFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[1];},focusNext:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?1:0];dijit.focus(this._focusedNode);},hasPrevFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[0];},focusPrev:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?0:1];dijit.focus(this._focusedNode);},getFocalNodes:function(){return this._focalNodes;},_onNodeFocus:function(evt){this._focusedNode=evt.currentTarget;var fnc=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,fnc);},_onNodeBlur:function(evt){var fnc=evt.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(evt.currentTarget,fnc);},_onBlur:function(){this.inherited(arguments);this._focusedNode=null;}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.attr("checked",!this.checked);},_setCheckedAttr:function(_b8a){this.checked=_b8a;dojo.attr(this.focusNode||this.domNode,"checked",_b8a);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_b8a);this._setStateClass();this._handleOnChange(_b8a,true);},setChecked:function(_b8b){dojo.deprecated("setChecked("+_b8b+") is deprecated. Use attr('checked',"+_b8b+") instead.","","2.0");this.attr("checked",_b8b);},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_b8c,node){return new dojo.dnd.move.constrainedMoveable(node,_b8c);},constructor:function(node,_b8f){if(!_b8f){_b8f={};}this.constraints=_b8f.constraints;this.within=_b8f.within;},onFirstMove:function(_b90){var c=this.constraintBox=this.constraints.call(this,_b90);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo.marginBox(_b90.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_b93,_b94){var c=this.constraintBox,s=_b93.node.style;s.left=(_b94.l<c.l?c.l:c.r<_b94.l?c.r:_b94.l)+"px";s.top=(_b94.t<c.t?c.t:c.b<_b94.t?c.b:_b94.t)+"px";}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_b97,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_b97);},constructor:function(node,_b9a){var box=_b9a&&_b9a.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_b9c,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_b9c);},constructor:function(node,_b9f){var area=_b9f&&_b9f.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.move.constrainedMover=function(fun,_ba6){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var _ba7=function(node,e,_baa){dojo.dnd.Mover.call(this,node,e,_baa);};dojo.extend(_ba7,dojo.dnd.Mover.prototype);dojo.extend(_ba7,{onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;this.host.onMove(this,{l:l,t:t});},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this);c.r=c.l+c.w;c.b=c.t+c.h;if(_ba6){var mb=dojo.marginBox(this.node);c.r-=mb.w;c.b-=mb.h;}}});return _ba7;};dojo.dnd.move.boxConstrainedMover=function(box,_bb3){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return box;},_bb3);};dojo.dnd.move.parentConstrainedMover=function(area,_bb5){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.move.constrainedMover(fun,_bb5);};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var _bbb=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(node,_bbd){if(!_bbd){_bbd={};}if(_bbd.timeout&&typeof _bbd.timeout=="number"&&_bbd.timeout>=0){this.timeout=_bbd.timeout;}},markupFactory:function(_bbe,node){return new dojo.dnd.TimedMoveable(node,_bbe);},onMoveStop:function(_bc0){if(_bc0._timer){clearTimeout(_bc0._timer);_bbb.call(this,_bc0,_bc0._leftTop);}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);},onMove:function(_bc1,_bc2){_bc1._leftTop=_bc2;if(!_bc1._timer){var _t=this;_bc1._timer=setTimeout(function(){_bc1._timer=null;_bbb.call(_t,_bc1,_bc1._leftTop);},this.timeout);}}});})();}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{constructor:function(args){var _t=this;dojo.mixin(_t,args);_t.node=args.node;_t._showArgs=dojo.mixin({},args);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},args);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(_bc6){return this.showAnim.play(_bc6||0);},hide:function(_bc7){return this.hideAnim.play(_bc7||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_bc9={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _bcc=function(_bcd){this._index=-1;this._animations=_bcd||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_bcc,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_bcf,_bd0){if(!this._current){this._current=this._animations[this._index=0];}if(!_bd0&&this._current.status()=="playing"){return this;}var _bd1=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_bd2=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_bd4=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_bd1);d.disconnect(_bd2);d.disconnect(_bd4);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_bd8,_bd9){this.pause();var _bda=this.duration*_bd8;this._current=null;d.some(this._animations,function(a){if(a.duration<=_bda){this._current=a;return true;}_bda-=a.duration;return false;});if(this._current){this._current.gotoPercent(_bda/this._current.duration,_bd9);}return this;},stop:function(_bdc){if(this._current){if(_bdc){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_bcc,_bc9);dojo.fx.chain=function(_bdf){return new _bcc(_bdf);};var _be0=function(_be1){this._animations=_be1||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_be1,function(a){var _be3=a.duration;if(a.delay){_be3+=a.delay;}if(this.duration<_be3){this.duration=_be3;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d._Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_be0,{_doAction:function(_be6,args){d.forEach(this._animations,function(a){a[_be6].apply(a,args);});return this;},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd");}},_call:function(_be9,args){var t=this._pseudoAnimation;t[_be9].apply(t,args);},play:function(_bec,_bed){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_bee,_bef){var ms=this.duration*_bee;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_bef);});this._call("gotoPercent",arguments);return this;},stop:function(_bf2){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_be0,_bc9);dojo.fx.combine=function(_bf3){return new _be0(_bf3);};dojo.fx.wipeIn=function(args){args.node=d.byId(args.node);var node=args.node,s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _bf9=d.style(node,"height");return Math.max(_bf9,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(_c09){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.attr("value"));},_getFocusItems:function(_c0a){var _c0b=dijit._getTabNavigable(dojo.byId(_c0a));this._firstFocusItem=_c0b.lowest||_c0b.first||_c0a;this._lastFocusItem=_c0b.last||_c0b.highest||this._firstFocusItem;if(dojo.isMoz&&this._firstFocusItem.tagName.toLowerCase()=="input"&&dojo.attr(this._firstFocusItem,"type").toLowerCase()=="file"){dojo.attr(_c0a,"tabindex","0");this._firstFocusItem=_c0a;}}});}if(!dojo._hasResource["dijit.DialogUnderlay"]){dojo._hasResource["dijit.DialogUnderlay"]=true;dojo.provide("dijit.DialogUnderlay");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function(id){dojo.attr(this.node,"id",id+"_underlay");},_setClassAttr:function(_c0d){this.node.className="dijitDialogUnderlay "+_c0d;},postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _c10=dijit.getViewport();os.top=_c10.t+"px";os.left=_c10.l+"px";is.width=_c10.w+"px";is.height=_c10.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="block";}},hide:function(){this.domNode.style.display="none";if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}},uninitialize:function(){if(this.bgIframe){this.bgIframe.destroy();}}});}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:null,templateString:"<div waiRole=\"presentation\">\n\t<div class=\"dijitTooltipContainer\" waiRole=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"-1\" waiRole=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" waiRole=\"presentation\"></div>\n</div>\n",postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");this.containerNode.title=this.title;},orient:function(node,_c12,_c13){var c=this._currentOrientClass;if(c){dojo.removeClass(this.domNode,c);}c="dijitTooltipAB"+(_c13.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_c13.charAt(0)=="T"?"Below":"Above");dojo.addClass(this.domNode,c);this._currentOrientClass=c;},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();if(this.autofocus){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);}},_onKey:function(evt){var node=evt.target;var dk=dojo.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _c19=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){this.onCancel();dojo.stopEvent(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_c19){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_c19){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{templateString:null,templateString:"<div class=\"dijitDialog\" tabindex=\"-1\" waiRole=\"dialog\" waiState=\"labelledby-${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel, onmouseenter: _onCloseEnter, onmouseleave: _onCloseLeave\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}]}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_fixSizes:true,postMixInProperties:function(){var _c1a=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,_c1a);this.inherited(arguments);},postCreate:function(){dojo.style(this.domNode,{visibility:"hidden",position:"absolute",display:"",top:"-9999px"});dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();this.inherited(arguments);},_endDrag:function(e){if(e&&e.node&&e.node===this.domNode){var vp=dijit.getViewport();var p=e._leftTop||dojo.coords(e.node,true);this._relativePosition={t:p.t-vp.t,l:p.l-vp.l};}},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(node,{handle:this.titleBar}):new dojo.dnd.Moveable(node,{handle:this.titleBar,timeout:0});dojo.subscribe("/dnd/move/stop",this,"_endDrag");}else{dojo.addClass(node,"dijitDialogFixed");}var _c1f={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")};var _c21=dijit._underlay;if(!_c21){_c21=dijit._underlay=new dijit.DialogUnderlay(_c1f);}this._fadeIn=dojo.fadeIn({node:node,duration:this.duration,beforeBegin:function(){_c21.attr(_c1f);_c21.show();},onEnd:dojo.hitch(this,function(){if(this.autofocus){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem);}})});this._fadeOut=dojo.fadeOut({node:node,duration:this.duration,onEnd:function(){node.style.visibility="hidden";node.style.top="-9999px";dijit._underlay.hide();}});},uninitialize:function(){var _c22=false;if(this._fadeIn&&this._fadeIn.status()=="playing"){_c22=true;this._fadeIn.stop();}if(this._fadeOut&&this._fadeOut.status()=="playing"){_c22=true;this._fadeOut.stop();}if(this.open||_c22){dijit._underlay.hide();}if(this._moveable){this._moveable.destroy();}},_size:function(){var mb=dojo.marginBox(this.domNode);var _c24=dijit.getViewport();if(mb.w>=_c24.w||mb.h>=_c24.h){dojo.style(this.containerNode,{width:Math.min(mb.w,Math.floor(_c24.w*0.75))+"px",height:Math.min(mb.h,Math.floor(_c24.h*0.75))+"px",overflow:"auto",position:"relative"});}},_position:function(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var node=this.domNode;var _c26=dijit.getViewport();var p=this._relativePosition;var mb=p?null:dojo.marginBox(node);dojo.style(node,{left:Math.floor(_c26.l+(p?p.l:(_c26.w-mb.w)/2))+"px",top:Math.floor(_c26.t+(p?p.t:(_c26.h-mb.h)/2))+"px"});}},_onKey:function(evt){if(evt.charOrCode){var dk=dojo.keys;var node=evt.target;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.domNode);}var _c2c=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_c2c){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_c2c){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode){if(evt.charOrCode==dk.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==dk.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOut.status()=="playing"){this._fadeOut.stop();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,function(){var _c2d=dijit.getViewport();if(!this._oldViewport||_c2d.h!=this._oldViewport.h||_c2d.w!=this._oldViewport.w){this.layout();this._oldViewport=_c2d;}}));this._modalconnects.push(dojo.connect(dojo.doc.documentElement,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,visibility:""});if(this._fixSizes){dojo.style(this.containerNode,{width:"auto",height:"auto"});}this.open=true;this._onShow();this._size();this._position();this._fadeIn.play();this._savedFocus=dijit.getFocus(this);},hide:function(){if(!this._alreadyInitialized){return;}if(this._fadeIn.status()=="playing"){this._fadeIn.stop();}this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this.refocus){this.connect(this._fadeOut,"onEnd",dojo.hitch(dijit,"focus",this._savedFocus));}if(this._relativePosition){delete this._relativePosition;}this.open=false;},layout:function(){if(this.domNode.style.visibility!="hidden"){dijit._underlay.layout();this._position();}},destroy:function(){dojo.forEach(this._modalconnects,dojo.disconnect);if(this.refocus&&this.open){setTimeout(dojo.hitch(dijit,"focus",this._savedFocus),25);}this.inherited(arguments);},_onCloseEnter:function(){dojo.addClass(this.closeButtonNode,"dijitDialogCloseIcon-hover");},_onCloseLeave:function(){dojo.removeClass(this.closeButtonNode,"dijitDialogCloseIcon-hover");}});}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function(_c2e,_c2f){_c2f=dojo.mixin({},_c2f||{});var _c30=dojo.i18n.normalizeLocale(_c2f.locale);var _c31=dojo.i18n.getLocalization("dojo.cldr","number",_c30);_c2f.customs=_c31;var _c32=_c2f.pattern||_c31[(_c2f.type||"decimal")+"Format"];if(isNaN(_c2e)||Math.abs(_c2e)==Infinity){return null;}return dojo.number._applyPattern(_c2e,_c32,_c2f);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_c33,_c34,_c35){_c35=_c35||{};var _c36=_c35.customs.group;var _c37=_c35.customs.decimal;var _c38=_c34.split(";");var _c39=_c38[0];_c34=_c38[(_c33<0)?1:0]||("-"+_c39);if(_c34.indexOf("%")!=-1){_c33*=100;}else{if(_c34.indexOf("‰")!=-1){_c33*=1000;}else{if(_c34.indexOf("¤")!=-1){_c36=_c35.customs.currencyGroup||_c36;_c37=_c35.customs.currencyDecimal||_c37;_c34=_c34.replace(/\u00a4{1,3}/,function(_c3a){var prop=["symbol","currency","displayName"][_c3a.length-1];return _c35[prop]||_c35.currency||"";});}else{if(_c34.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _c3c=dojo.number._numberPatternRE;var _c3d=_c39.match(_c3c);if(!_c3d){throw new Error("unable to find a number expression in pattern: "+_c34);}if(_c35.fractional===false){_c35.places=0;}return _c34.replace(_c3c,dojo.number._formatAbsolute(_c33,_c3d[0],{decimal:_c37,group:_c36,places:_c35.places,round:_c35.round}));};dojo.number.round=function(_c3e,_c3f,_c40){var _c41=10/(_c40||10);return (_c41*+_c3e).toFixed(_c3f)/_c41;};if((0.9).toFixed()==0){(function(){var _c42=dojo.number.round;dojo.number.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d||a*Math.pow(10,p+1)<5){d=0;}return _c42(v,p,m)+(v>0?d:-d);};})();}dojo.number._formatAbsolute=function(_c48,_c49,_c4a){_c4a=_c4a||{};if(_c4a.places===true){_c4a.places=0;}if(_c4a.places===Infinity){_c4a.places=6;}var _c4b=_c49.split(".");var _c4c=(_c4a.places>=0)?_c4a.places:(_c4b[1]&&_c4b[1].length)||0;if(!(_c4a.round<0)){_c48=dojo.number.round(_c48,_c4c,_c4a.round);}var _c4d=String(Math.abs(_c48)).split(".");var _c4e=_c4d[1]||"";if(_c4a.places){var _c4f=dojo.isString(_c4a.places)&&_c4a.places.indexOf(",");if(_c4f){_c4a.places=_c4a.places.substring(_c4f+1);}_c4d[1]=dojo.string.pad(_c4e.substr(0,_c4a.places),_c4a.places,"0",true);}else{if(_c4b[1]&&_c4a.places!==0){var pad=_c4b[1].lastIndexOf("0")+1;if(pad>_c4e.length){_c4d[1]=dojo.string.pad(_c4e,pad,"0",true);}var _c51=_c4b[1].length;if(_c51<_c4e.length){_c4d[1]=_c4e.substr(0,_c51);}}else{if(_c4d[1]){_c4d.pop();}}}var _c52=_c4b[0].replace(",","");pad=_c52.indexOf("0");if(pad!=-1){pad=_c52.length-pad;if(pad>_c4d[0].length){_c4d[0]=dojo.string.pad(_c4d[0],pad);}if(_c52.indexOf("#")==-1){_c4d[0]=_c4d[0].substr(_c4d[0].length-pad);}}var _c53=_c4b[0].lastIndexOf(",");var _c54,_c55;if(_c53!=-1){_c54=_c4b[0].length-_c53-1;var _c56=_c4b[0].substr(0,_c53);_c53=_c56.lastIndexOf(",");if(_c53!=-1){_c55=_c56.length-_c53-1;}}var _c57=[];for(var _c58=_c4d[0];_c58;){var off=_c58.length-_c54;_c57.push((off>0)?_c58.substr(off):_c58);_c58=(off>0)?_c58.slice(0,off):"";if(_c55){_c54=_c55;delete _c55;}}_c4d[0]=_c57.reverse().join(_c4a.group||",");return _c4d.join(_c4a.decimal||".");};dojo.number.regexp=function(_c5a){return dojo.number._parseInfo(_c5a).regexp;};dojo.number._parseInfo=function(_c5b){_c5b=_c5b||{};var _c5c=dojo.i18n.normalizeLocale(_c5b.locale);var _c5d=dojo.i18n.getLocalization("dojo.cldr","number",_c5c);var _c5e=_c5b.pattern||_c5d[(_c5b.type||"decimal")+"Format"];var _c5f=_c5d.group;var _c60=_c5d.decimal;var _c61=1;if(_c5e.indexOf("%")!=-1){_c61/=100;}else{if(_c5e.indexOf("‰")!=-1){_c61/=1000;}else{var _c62=_c5e.indexOf("¤")!=-1;if(_c62){_c5f=_c5d.currencyGroup||_c5f;_c60=_c5d.currencyDecimal||_c60;}}}var _c63=_c5e.split(";");if(_c63.length==1){_c63.push("-"+_c63[0]);}var re=dojo.regexp.buildGroupRE(_c63,function(_c65){_c65="(?:"+dojo.regexp.escapeString(_c65,".")+")";return _c65.replace(dojo.number._numberPatternRE,function(_c66){var _c67={signed:false,separator:_c5b.strict?_c5f:[_c5f,""],fractional:_c5b.fractional,decimal:_c60,exponent:false};var _c68=_c66.split(".");var _c69=_c5b.places;if(_c68.length==1||_c69===0){_c67.fractional=false;}else{if(_c69===undefined){_c69=_c5b.pattern?_c68[1].lastIndexOf("0")+1:Infinity;}if(_c69&&_c5b.fractional==undefined){_c67.fractional=true;}if(!_c5b.places&&(_c69<_c68[1].length)){_c69+=","+_c68[1].length;}_c67.places=_c69;}var _c6a=_c68[0].split(",");if(_c6a.length>1){_c67.groupSize=_c6a.pop().length;if(_c6a.length>1){_c67.groupSize2=_c6a.pop().length;}}return "("+dojo.number._realNumberRegexp(_c67)+")";});},true);if(_c62){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_c6b,_c6c,_c6d,_c6e){var prop=["symbol","currency","displayName"][_c6d.length-1];var _c70=dojo.regexp.escapeString(_c5b[prop]||_c5b.currency||"");_c6c=_c6c?"[\\s\\xa0]":"";_c6e=_c6e?"[\\s\\xa0]":"";if(!_c5b.strict){if(_c6c){_c6c+="*";}if(_c6e){_c6e+="*";}return "(?:"+_c6c+_c70+_c6e+")?";}return _c6c+_c70+_c6e;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_c5f,decimal:_c60,factor:_c61};};dojo.number.parse=function(_c71,_c72){var info=dojo.number._parseInfo(_c72);var _c74=(new RegExp("^"+info.regexp+"$")).exec(_c71);if(!_c74){return NaN;}var _c75=_c74[1];if(!_c74[1]){if(!_c74[2]){return NaN;}_c75=_c74[2];info.factor*=-1;}_c75=_c75.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _c75*info.factor;};dojo.number._realNumberRegexp=function(_c76){_c76=_c76||{};if(!("places" in _c76)){_c76.places=Infinity;}if(typeof _c76.decimal!="string"){_c76.decimal=".";}if(!("fractional" in _c76)||/^0/.test(_c76.places)){_c76.fractional=[true,false];}if(!("exponent" in _c76)){_c76.exponent=[true,false];}if(!("eSigned" in _c76)){_c76.eSigned=[true,false];}var _c77=dojo.number._integerRegexp(_c76);var _c78=dojo.regexp.buildGroupRE(_c76.fractional,function(q){var re="";if(q&&(_c76.places!==0)){re="\\"+_c76.decimal;if(_c76.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_c76.places+"}";}}return re;},true);var _c7b=dojo.regexp.buildGroupRE(_c76.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_c76.eSigned})+")";}return "";});var _c7d=_c77+_c78;if(_c78){_c7d="(?:(?:"+_c7d+")|(?:"+_c78+"))";}return _c7d+_c7b;};dojo.number._integerRegexp=function(_c7e){_c7e=_c7e||{};if(!("signed" in _c7e)){_c7e.signed=[true,false];}if(!("separator" in _c7e)){_c7e.separator="";}else{if(!("groupSize" in _c7e)){_c7e.groupSize=3;}}var _c7f=dojo.regexp.buildGroupRE(_c7e.signed,function(q){return q?"[-+]":"";},true);var _c81=dojo.regexp.buildGroupRE(_c7e.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_c7e.groupSize,grp2=_c7e.groupSize2;if(grp2){var _c85="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_c85+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_c85;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _c7f+_c81;};}if(!dojo._hasResource["dijit.ProgressBar"]){dojo._hasResource["dijit.ProgressBar"]=true;dojo.provide("dijit.ProgressBar");dojo.declare("dijit.ProgressBar",[dijit._Widget,dijit._Templated],{progress:"0",maximum:100,places:0,indeterminate:false,templateString:"<div class=\"dijitProgressBar dijitProgressBarEmpty\"\n\t><div waiRole=\"progressbar\" tabindex=\"0\" dojoAttachPoint=\"internalProgress\" class=\"dijitProgressBarFull\"\n\t\t><div class=\"dijitProgressBarTile\"></div\n\t\t><span style=\"visibility:hidden\">&nbsp;</span\n\t></div\n\t><div dojoAttachPoint=\"label\" class=\"dijitProgressBarLabel\" id=\"${id}_label\">&nbsp;</div\n\t><img dojoAttachPoint=\"indeterminateHighContrastImage\" class=\"dijitProgressBarIndeterminateHighContrastImage\"\n\t></img\n></div>\n",_indeterminateHighContrastImagePath:dojo.moduleUrl("dijit","themes/a11y/indeterminate_progress.gif"),postCreate:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath);this.update();},update:function(_c86){dojo.mixin(this,_c86||{});var tip=this.internalProgress;var _c88=1,_c89;if(this.indeterminate){_c89="addClass";dijit.removeWaiState(tip,"valuenow");dijit.removeWaiState(tip,"valuemin");dijit.removeWaiState(tip,"valuemax");}else{_c89="removeClass";if(String(this.progress).indexOf("%")!=-1){_c88=Math.min(parseFloat(this.progress)/100,1);this.progress=_c88*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_c88=this.progress/this.maximum;}var text=this.report(_c88);this.label.firstChild.nodeValue=text;dijit.setWaiState(tip,"describedby",this.label.id);dijit.setWaiState(tip,"valuenow",this.progress);dijit.setWaiState(tip,"valuemin",0);dijit.setWaiState(tip,"valuemax",this.maximum);}dojo[_c89](this.domNode,"dijitProgressBarIndeterminate");tip.style.width=(_c88*100)+"%";this.onChange();},report:function(_c8b){return dojo.number.format(_c8b,{type:"percent",places:this.places,locale:this.lang});},onChange:function(){}});}dojo.i18n._preloadLocalizations("dojo.nls.dojo-ion-status",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nl","nl-nl","no","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
