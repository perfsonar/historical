#summary Use-cases for perfSONAR client API

= Introduction =

This page lists use-cases for perfSONAR clients, and provides for each a high-level description of how this would be implemented using the [PsClientApi perfSONAR client API].

= Details =

== Use Case #1: Return throughput/latency results between two endpoints in certain time period ==
*Input (required):* 
 * Type of data - bwctl, owamp, PinGER
 * Endpoints
 * Time period
* Input (optional):*
 * Test specific parameters
*Services Contacted:*
 * gLS (optional) - contact to find hLS with data about endpoints
 * hLS(optional) - contact to find MAs with data about endpoints
 * MA - contact to get desired data
*Example Applications:* Graph on web page, Nagios plug-in, Weathermap showing utilization results

*Additional notes:*


== Use Case #2: List all endpoints with throughput/latency data available ==
*Input (Required):*
  * Type of data
*Input (Optional):*
  * Keyword
  * Test specific parameters
*Services Contacted:*
  * gLS - should probably only be contacted if parameter such as keyword provided that constrains results
  * hLS - see gLS.
  * MA - returns the actual data 
*Example Applications:* Web page (or other interactive UI) that allows user to select tests

*Additional notes:*
 * Lookup could be too broad in this situation if specific MA not provided.
 * IMHO - Some amount of topological reference should be required. And Organization, Community, Domain, Subnet... *something*. jwb
 

== Use Case #3: Return X minute average utilization for Y time period on interface ==
*Input (Required):*
  * Type of data - utilization
  * Interface
  * Time period
  * Resolution (i.e. 5 minute averages)
*Input (Optional):*
  * gLS - discover hLS(s) with utilization data about the interface
  * hLS - discover MA(s) with utilization data about the interface
  * MA - returns the actual data 
*Example Applications:* Utilization graphs, Weathermap, Nagios Plug-in

*Additional notes:*
  * Wondering how you would expect this to work if requested resolution is not there, but a higher resolution dataset is available that could be sampled... Is this part of the query for data, so it is not found? Or... Should the API search for 5 minutes and shorter and resample for you?

== Use Case #4: List all router interfaces with collected SNMP data ==
*Input (Required):*
  * Type of data - utilization
*Input (Optional):*
  * Keyword
  * Test specific parameters
*Services Contacted:*
*Services Contacted:*
  * gLS - should probably only be contacted if parameter such as keyword provided that constrains results
  * hLS - see gLS.
  * MA - returns the actual data
*Example Applications:* Interactive weathermap, Web page listing monitored interfaces

*Additional notes:*
 * Lookup could be too broad in this situation if specific MA not provided.
 * Agree that lookup would be too broad, but don't like the idea that a specific MA should be required. Again, what if some kind of topological/contextual reference is required: domain, subnet, organization, community...


== Use Case #5: Trigger bwctl test via a web GUI ==

To only present in the GUI options that are supported by that MA, query for metadata saying if a bwctl MP supports UDP, max rate, etc.

== Additional Use Cases ==

=== Query Lookup Service only ===
 * Find the topology server for ESnet
 * Find all pSB MAs with throughput data for host albu-pt1.es.net
 * Find all pSB MAs for the community “LHC”

=== Pub/Sub Use Cases ===
 * "real-time" data from Network device (e.g.: error counters from a router)
 * Measurement Point with 10,000 consumers, and they don't want to poll (pub-sub critical for scalability)

=== Large Data Use Cases ===
 * Give me all bwctl or owamp data for the past 6 months for Host A to Host B
 * Give me all bwctl or owamp data for the past 6 months for entire MA
 * Give me all SNMP data for router interface X for the path 12 months

=== Other Use Cases that may or may not affect the API ===
 * ask a service for data, and if you don't have it, run a test
