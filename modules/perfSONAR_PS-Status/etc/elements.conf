<config>
	<!-- the knowledge attribute tells how much we know about this element. If
		both ends of a link are being tested, we have "full" knowledge as to its state.
		If not, we only have "partial" knowledge of the link's state -->

	<element knowledge="partial">
		<!-- The IDs here need to correspond to the IDs in the Topology
			service. If the ID is unknown, you can specify whatever
			and use the 'changeID.pl' script once the actual ID is known.
                        You can specify as many IDs as this agent will have information on. -->
		<id>urn:nml:domain1.edu:link_link1</id>

		<!-- this agent uses queries the specified SNMP server
			to discover the operational state of the element. If you specify the ifName
			instead of ifIndex, the montior will look up the ifIndex when it starts. -->
		<agent status_type="oper" type="snmp">
			<hostname>192.168.0.1</hostname>
			<ifIndex>104120350</ifIndex>
			<version>2c</version>
			<community>passwd</community>
		</agent>

		<!-- this says that the administrative status for this
			element is always "normaloperation" -->
		<agent status_type="admin" type="constant">
			<constant>normaloperation</constant>
		</agent>
	</element>

	<element knowledge="partial">
		<id>urn:nml:domain0.edu:link_link0</id> 

		<agent status_type="oper" type="constant">
			<constant>down</constant>
		</agent>

		<!-- this agent executes the script "../scripts/genLinkStatus.pl"
		    (path is relative to the configuration file).
			with the parameters "192.168.0.2" to get
			the administrative information about the element.
			The agent type 'admin' or 'oper' will always be
			the first parameter for the script -->
		<agent status_type="admin" type="script">
			<script_name>../scripts/genLinkStatus.pl</script_name>
			<parameters>192.168.0.2</parameters>
		</agent>
	</element>

	<!-- With this element, we have to check a few routers to get the complete
		state of the element. -->
	<element knowledge="full"> 
		<id>urn:nml:domain1.edu:link_circuit12345</id>

		<agent status_type="oper" type="snmp">
			<hostname>192.168.0.3</hostname>
			<ifName>eth0</ifName>
			<version>2c</version>
			<community>passwd</community>
		</agent>
		<agent status_type="oper" type="snmp">
			<hostname>192.168.0.4</hostname>
			<ifName>eth1</ifName>
			<version>2c</version>
			<community>passwd</community>
		</agent>
		<agent status_type="oper" type="snmp">
			<hostname>192.168.0.5</hostname>
			<ifName>eth1</ifName>
			<version>2c</version>
			<community>passwd</community>
		</agent>

		<agent status_type="admin" type="script">
			<script_name>../scripts/genLinkStatus.pl</script_name>
			<parameters>192.168.0.3 link3</parameters>
		</agent>
	</element>
</config>
