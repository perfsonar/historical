                   PingER Installation Instructions
                   --------------------------------
		       maxim_at_fnal_dot_gov
 
1) Download the RPM:

	wget -c http://www.perfsonar.net/download/services/perfSONAR_PS-MDM-PingER-v0.091-1.noarch.rpm or
	
	alternatively:
	
	wget -c http://tukki.fnal.gov/downloads/perfSONAR_PS-MDM-PingER-v0.091-1.noarch.rpm 
	

2) Using yum, locally install the packages (this ensures dependencies can be
   fetched) in this order:

	(sudo) yum localinstall perfSONAR_PS-MDM-PingER-v0.091-1.noarch.rpm
 
3) If the package manager is unable to find certain packages (a common 
     problem with perl tools) it is recommended that an alternate RPM 
     repository be installed.  Follow the instructions here:

     	http://dag.wieers.com/rpm/FAQ.php#B2

4) Follow any instructions to install package dependencies

5) If not started already, start MySQL:

	(sudo) /etc/init.d/mysqld restart

5.5) If not done already, set the MySQL Root password:

	(sudo) /usr/bin/mysqladmin -u root password 'new-password'

6) Edit Files (each is annotated with locations and instructions):

 
  b) /etc/PingER/pinger.conf

     This configuration file controls the perfSONAR web service

  c) /etc/PingER/logger.conf

     This file controls logging

7) Create the database schema:


         MySQl instructions:
          -------------------
          Edit MySQL startup script  /opt/perfsonar_ps/PingER/scripts/create_pingerMA_MySQL.sql.
          Replace  CHANGEME_NOW  with any meaninfull password you'd like for Db pinger
          user. This is just a DB user, not the actual system's user. You dont need to create
          extra account.
	  

        Run:
 
         mysql -u root -p'mysql_root_password' <  /opt/perfsonar_ps/PingER/scripts/create_pingerMA_MySQL.sql 


         SQLite instructions:
         -------------------
 

        Run:
 
       sqlite3 /var/lib/PingER/pingerMA.db  <  /opt/perfsonar_ps/PingER/scripts/create_pingerMA_SQLite.sql 

8)  Run config script:

     /etc/init.d/rc.service config
      
      and answer all questions or accept defaults about desired location of the service/port/description etc...

	 
9) Start the web service:

	/etc/init.d/rc.service start
	
	create symlinks to allow automated start/stop at the boot/shutdown time:
	
        ln -s /etc/init.d/rc.service /etc/rc2.d/S99pinger-ps
        ln -s /etc/init.d/rc.service /etc/rc6.d/K02pinger-ps
        ln -s /etc/init.d/rc.service /etc/rc0.d/K02pinger-ps

10) Test the web service:

    /opt/perfsonar_ps/PingER/client/bin/pinger_client.pl
    
