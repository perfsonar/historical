= perfSONAR Network Performance Toolkit Quick Start =

== TOC ==

 * [NPToolkitQuickStart#Installation_and_Configuration Installation and Configuration]
   * [NPToolkitQuickStart#First_Steps First Steps]
   * [NPToolkitQuickStart#Console_Configuration Console Configuration]
     * [NPToolkitQuickStart#Step_1 Step 1 - Configure drive to hold data/customizations]
     * [NPToolkitQuickStart#Step_2 Step 2 - Configure site settings]
     * [NPToolkitQuickStart#Step_3 Step 3 - Enable/Disable Services]
     * [NPToolkitQuickStart#Step_4 Step 4 - Manage Users]
     * [NPToolkitQuickStart#Step_5 Step 5 - Configure BWCTL]
     * [NPToolkitQuickStart#Step_6 Step 6 - Configure NTP]
     * [NPToolkitQuickStart#Step_7 Step 7 - Configure OWAMP]
     * [NPToolkitQuickStart#Step_8 Step 8 - Configure Static IP]
     * [NPToolkitQuickStart#Step_9 Step 9 - Change Timezone]
     * [NPToolkitQuickStart#Step_10 Step 10 - Modify advertised interface]
     * [NPToolkitQuickStart#Post_Configuration Post Configuration]
   * [NPToolkitQuickStart#Web_Configuration Web Configuration]
     * [NPToolkitQuickStart#Cacti_Configuration Cacti Configuration]
     * [NPToolkitQuickStart#perfSONAR_BUOY_Configuration perfSONAR-BUOY Configuration]
     * [NPToolkitQuickStart#PingER_Configuration PingER Configuration]
   * [NPToolkitQuickStart#Disk_Verification Disk Verification]
     * [NPToolkitQuickStart#Global_Service_Directory Global Service Directory]
     * [NPToolkitQuickStart#Cacti Cacti]
     * [NPToolkitQuickStart#PingER PingER]
     * [NPToolkitQuickStart#NPAD NPAD]
     * [NPToolkitQuickStart#NDT NDT]
     * [NPToolkitQuickStart#Java_Owamp_Client Java OWAMP Client]
     * [NPToolkitQuickStart#Service_Test Service Test]
 * [NPToolkitQuickStart#FAQ FAQ]
 * [NPToolkitQuickStart#Last_Updated Last Updated]

== Installation and Configuration ==

The following guide describes in detail the steps required to set up the _perfSONAR_ Network Performance Toolkit.  It is important to follow each step in order.  If you get stuck consult the [NPToolkitQuickStart#FAQ FAQ] at the end of this document.  

=== First Steps ===

  # Download the the latest from:
    * [http://www.perfsonar.net/download/bundles/pS-NPToolkit/current.iso]
    * [http://www.perfsonar.net/download/bundles/pS-NPToolkit/current.md5]
  # Verify the MD5 sum:
    * md5sum -c pS-NPToolkit-2.0-beta2.iso 
  # Burn the ISO to a CD-ROM
  # Configure your computer to boot from CD
    * This may require changes to the computer's BIOS to ensure the CD is recognized before an existing harddisk
    * The BIOS may be entered when the computer boots by using a key combination (*F12* in some cases, *Del* in others - consult your manual if you are unsure or pay close attention to the boot process to enter _setup_).  
  # Insert the CD-ROM into the tray and boot the system
    * A splash screen will appear and the computer should enter the boot and customization process.
      * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_1_Spash.png
    * The boot process will proceed after this screen.
      * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_2_Boot.png

=== Console Configuration ===

During the boot process, you'll be presented with a menu of options. 

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_3_Menu.png

Each step will be explained here with pictures where applicable.  

==== Step 1 ==== 

  * From the list, select which drive you would like to allow the disc to use to save data
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_4_Option1_1.png
  * You will have the option format the drive (if the disk is unreadable, you will be forced to format the drive)   
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_5_Option1_2.png
  * If the disk is readable, you can skip the formatting step
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_6_Option1_3.png
  * These steps may force an immediate reboot to save settings, this is normal.

==== Step 2 ====

  * Answer the questions accurately, as this information is shared in a [NPToolkit#Lookup_Service global information directory]
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_7_Option2.png

==== Step 3 ====

  * All services are enabled by default with the exception of SSH.  
    * To use SSH you must either change the password for the _*knoppix*_ user or add a new user, see _Step 4_
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_8_Option3.png

==== Step 4 ====

  * Select option *3* to _Change A User's Password_
    * Enter _root_
    * Enter a new password
    * While not required, this is a *_GOOD IDEA_* to do this
  * The same can be done for _knoppix_
    * This should be done if you enabled SSH in _Step 3_
  * To add a user select _Add a new user_
    * Enter the name
    * Allow/disallow SSH access
    * Allow/disallow administrator status
    * Enter user information
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_9_Option4.png

==== Step 5 ====

  * Answer some basic questions about BWCTL, in most cases the defaults will be fine
  * Use these options to limit access or increase/decrease the resources available for this tool
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_10_Option5.png

==== Step 6 ====

  * Different NTP (time) servers can be configured for your geographical location
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_11_Option6.png
  * Note that it is necessary to choose at least 3 servers.
  * Note that it is not necessary to choose more than 5 servers.

==== Step 7 ====

  * Answer some basic questions about OWAMP, in most cases the defaults will be fine
  * Use these options to limit access or increase/decrease the resources available for this tool
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_12_Option7.png

==== Step 8 ====

  * This is an _*optional*_ step in case there is not DHCP available.
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_13_Option8.png

==== Step 9 ====

  * Use this step to pick the correct timezone.
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_14_Option9_1.png
  * When choosing a new timezone there will be many options.
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_15_Option9_2.png
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_16_Option9_3.png

==== Step 10 ====

  * If the machine has multiple interfaces, use this option to select the proper outlet
    * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_17_Option10.png

==== Post Configuration ====

After exiting the menu, the machine may require a reboot.  If this is the case, please do so.  When the machine comes back up then simply exit the configuration.  After performing all of these steps and exiting the menu the bootup process will start:
      
http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_18_Starting.png

The user will be faced with a prompt:

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_19_Prompt.png

_*knoppix*_ is the default user, with a blank password unless this was changed in [NPToolkitQuickStart#Console_Configuration Step 4].  There are some additional steps that can now be taken to configure some other services, specifically the _perfSONAR_ services. 

=== Web Configuration ===

Once the machine has booted it is now accessible via the static IP or a DHCP address.  To see the address use the */sbin/ifconfig* command from the console:

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_20_ifconfig.png

Once you know the contact information, use a web browser to view the status of the disk, e.g. visit *http://HOST_OR_ADDRESS* or *https://HOST_OR_ADDRESS* (https is the default, and all communication will be redirected there anyway):

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_21_services_cgi.png

There are several GUIs that can be used configure services (note you will be required to log in as the _knoppix_ or other users added in [NPToolkitQuickStart#Console_Configuration Step 4] above.  You _*cannot*_ log in as root):

 * https://HOST_OR_ADDRESS/admin/pinger
   * Used to configure hosts for the PingER tool
   * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_22_PingER_Start.png
 * https://HOST_OR_ADDRESS/admin/perfsonarbuoy
   * Used to configure hosts for the perfSONAR-BUOY Bandwidth and Latency Tester
   * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_23_pSB_Start.png
 * https://HOST_OR_ADDRESS/admin/cacti
   * Used to configure SNMP Hosts for the perfSONAR SNMP MA
   * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_24_Cacti.png

==== Cacti Configuration ==== 

Please visit [NPToolkitCacti] for complete instructions regarding setting up Cacti for the polling of SNMP enabled network elements.

==== perfSONAR BUOY Configuration ==== 

Please visit [NPToolkitPerfSONARBUOY] for complete instructions on using the perfSONAR-BUOY configuration GUI to manage the scheduled polling of bandwidth and latency hosts.

==== PingER Configuration ==== 

Please visit [NPToolkitPingER] for complete instructions on using the PingER administrative GUI to manage the scheduled latency tests to remote sites.

=== Disk Verification ===

Once the machine has booted it is now accessible via the static IP or a DHCP address.  To see the address use the */sbin/ifconfig* command from the console:

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_20_ifconfig.png

Once you know the contact information, use a web browser to view the status of the disk, e.g. visit *http://HOST_OR_ADDRESS* or *https://HOST_OR_ADDRESS* (https is the default, and all communication will be redirected there anyway):

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_21_services_cgi.png

There are also several GUIs linked directly from this page that can be used to view the status of services:

==== Global Service Directory ==== 

Through the power of the perfSONAR Global Lookup Service (*gLS*) there are several GUIs available on the disk that can be used to display and locate services from around the world (including your own service after some requisite registration time).  There are two GUIs that may be examined:

 * directory.cgi
   * View services by category
   * Includes links to GUIs when applicable
   * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_25_Directory.png
 * tree.cgi
   * View *gLS* and *hLS* instances along with listings of registered services.
   * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_25_Directory.png

Note that both GUIs take advantage of caching techniques to limit the scope and frequency of the information queries: e.g. do not use this as a _real-time_ information source.

====  Cacti ==== 

This is a non-administrative view of cacti data.  This link can be shared with individuals and does not require a username or password.

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_26_Cacti.png

====  PingER ==== 

This GUI can be used to view the data of the on-board PingER instance or that of any other remote service.  Note that this GUI has a lot more power for selecting the time range and data sources than some of the [NPToolkitQuickStart#Service_Test Service Test] tools.

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_27_PingER.png

==== NPAD ==== 

In addition to being a performance tool, NPAD features a web interface that can be used to locate the results of past tests.

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_27_NPAD.png

==== NDT ==== 

In addition to being a performance tool, NDT features a web interface that contains other relevant information.

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_27_NDT.png

==== Java Owamp Client ==== 

The Java version of an OWAMP Client (jowping) has a simple interface that can be used to perform owamp tests to the onboard or any other OWAMP server.  

http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_28_Java_OWAMP.png

==== Service Test ==== 

The _serviceTest.cgi_ script is able to test simple perfSONAR tasks to a variety of services; namely the three services included on this disk:

 * PingER
   * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_28_SelfTest.png
 * SNMP MA
   * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_28_SelfTest.png
 * perfSONAR-BUOY
   * http://perfsonar-ps.googlecode.com/svn/wiki/NPToolkit/NPK_28_SelfTest.png
   
== FAQ ==

 * *Q: How do I logon to the console?*
 * *A:* The NPToolkit console is accessed by logging in as the user *_knoppix_*. By default, there is no password for this account and no remote access is allowed.  See instructions in [NPToolkitQuickStart#Console_Configuration Console Configuration] to change details regarding system users, or enable remote access.

 * *Q: How do I get an X-windows environment?*
 * *A:* The NPToolkit was designed for hands-off operations, so it boots into the console mode by default.  For users interested in working in an XWindows environment, [http://www.kde.org KDE] is available.  To bring the system up in X11 mode log in as *_knoppix_*, or any other valid user, and run the _startx_ command.

 * *Q: Where can I ask questions or report bugs?*
 * *A:* 
   * For questions, email to i2-perfsonar _at_ internet2 _dot_ edu
   * For bugs, report at http://code.google.com/p/perfsonar-ps/issues/list . Label the bug as "Component-NPToolkit", or state in the bug description the issue involves the NPtoolkit.

 * *Q: How do I configure the SNMP MA?*
 * *A:* The SNMP MA is pre-configured to use the Cacti SNMP collection system. A step by step guide to configuring cacti is available in [NPToolkitCacti].

 * *Q: How do I configure the hosts PingER pings?*
 * *A:* There's an included GUI for configuring the sites PingER should collect ping between. Navigate to https://HOST/admin/pinger/.  With this GUI, add/remove hosts and domains from testing. Press the _Save landmarks_ button when done and restart PingER by logging into the machine and running _sudo /etc/init.d/PingER.sh restart_.  A step by step guide to configuring PingER is available in [NPToolkitPingER].

 * *Q: How do I configure the hosts perfSONAR-BUOY pings?*
 * *A:* There's an included GUI for configuring the sites perfSONAR-BUOY should perform OWAMP/BWCTL tests between. Navigate to https://HOST/admin/perfsonarbuoy/.  With this GUI, add/remove hosts and adjust other testing parameters. Press the _Save_ button when done and restart perfSONAR-BUOY by logging into the machine and running, _sudo /etc/init.d/pSB.sh restart_, _sudo /etc/init.d/pSB_collector.sh restart_ and _sudo /etc/init.d/pSB_master.sh restart_.  A step by step guide to configuration is available in [NPToolkitPerfSONARBUOY].

 * *Q: How do I test that my services are working?*
 * *A:* There is a _self status_ page available on every installation: https://HOST.  Each subsection of the disk features links to GUIs that validate the functionality of the services.  
   
== Last Updated ==

$Id$
