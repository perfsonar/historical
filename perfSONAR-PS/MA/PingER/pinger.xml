<?xml version='1.0' encoding='UTF-8' ?>
<nmwg:message  type="store"     xmlns="http://ggf.org/ns/nmwg/base/2.0/"     xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"    xmlns:topo="http://ggf.org/ns/nmwg/topology/2.0/"
            xmlns:nmtm="http://ggf.org/ns/nmwg/time/2.0/"
            xmlns:nmtl3="http://ggf.org/ns/nmwg/topology/l3/3.0/"
            xmlns:nmtl4="http://ggf.org/ns/nmwg/topology/l4/3.0/"
            xmlns:pinger="http://ggf.org/ns/nmwg/tools/pinger/2.0/"
           xmlns:select="http://ggf.org/ns/nmwg/ops/select/2.0/"
          xmlns:average="http://ggf.org/ns/nmwg/ops/average/2.0/"
          xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/"> 

  <!-- Metadata using original topology schema -->

  <nmwg:metadata id="pingermeta1">
    <pinger:subject id="pingersub1">
      <topo:endPointPair>
        <topo:src type="ipv4" value="iepm-bw.slac.stanford.edu"/>
        <topo:dst type="ipv4" value="atlang-hstnng.abilene.ucaid.edu"/>
      </topo:endPointPair>
    </pinger:subject>
    <pinger:parameters id="#pingerparam1">
      <nmwg:parameter name="count">10</nmwg:parameter>
     </pinger:parameters>
  </nmwg:metadata>

  <!-- Metadata(s) using new topology schema -->
        
  <nmwg:metadata id="pingermeta2">
    <pinger:subject id="pingersub2">
      <nmtl4:endPointPair>
        <nmtl4:endPoint role="src" protocol="icmp">
          <nmtl4:address value="iepm-bw.slac.stanford.edu" type="hostname"/>
        </nmtl4:endPoint>
        <nmtl4:endPoint role="dst" protocol="icpm">
          <nmtl4:address value="atlang-hstnng.abilene.ucaid.edu" type="hostname"/>
        </nmtl4:endPoint>
      </nmtl4:endPointPair>
    </pinger:subject>
    <pinger:parameters id="pingparam2">
      <nmwg:parameter name="count">2</nmwg:parameter>
      <nmwg:parameter name="interval">3</nmwg:parameter>
     </pinger:parameters>   
  </nmwg:metadata>


  <nmwg:metadata id="pingermeta3">
    <pinger:subject id="pingersub3">
      <nmtl4:endPointPair>
        <nmtl4:endPoint role="src" protocol="icpm">
          <nmtl3:interface id="#d1">
            <nmtl3:ipAddress value="134.79.240.38" type="ipv4"/>
            <nmtl3:netmask>255.255.252.0</nmtl3:netmask>
            <nmtl3:ifName>eth0</nmtl3:ifName>
            <nmtl3:ifDescription>External Connection</nmtl3:ifDescription>
            <nmtl3:ifAddress value="134.79.240.38" type="ipv4"/>
            <nmtl3:ifHostName>iepm-bw.slac.stanford.edu"</nmtl3:ifHostName>
            <nmtl3:ifIndex>0</nmtl3:ifIndex>                                        
            <nmtl3:type>1000BaseT Ethernet</nmtl3:type>
            <nmtl3:capacity>1000000000</nmtl3:capacity>                    
          </nmtl3:interface>
        </nmtl4:endPoint>
        <nmtl4:endPoint role="dst" protocol="icpm">
          <nmtl3:interface id="#a1">
            <nmtl3:ipAddress value="198.32.8.34" type="ipv4"/>
            <nmtl3:netmask>255.255.255.0</nmtl3:netmask>
            <nmtl3:ifName>eth0</nmtl3:ifName>
            <nmtl3:ifDescription>External Connection</nmtl3:ifDescription>
            <nmtl3:ifAddress value="198.32.8.34" type="ipv4"/>
            <nmtl3:ifHostName>atlang-hstnng.abilene.ucaid.edu</nmtl3:ifHostName>
            <nmtl3:ifIndex>0</nmtl3:ifIndex>                                      
            <nmtl3:type>1000BaseT Ethernet</nmtl3:type>
            <nmtl3:capacity>1000000000</nmtl3:capacity>                    
          </nmtl3:interface>
        </nmtl4:endPoint>
      </nmtl4:endPointPair>
    </pinger:subject>
    <pinger:parameters id="pparam3">
      <nmwg:parameter name="count">2</nmwg:parameter>
      <nmwg:parameter name="interval">3</nmwg:parameter>
              
    </pinger:parameters>   
  </nmwg:metadata>    

  <!-- metadata(s) with filter chaining -->

  <nmwg:metadata id="pingermeta4">
    <pinger:subject id="pingersub4">
      <topo:endPointPair>
        <topo:src type="hostname" value="iepm-bw.slac.stanford.edu"/>
        <topo:dst type="hostname" value="atlang-hstnng.abilene.ucaid.edu"/>
      </topo:endPointPair>
    </pinger:subject>
    <pinger:parameters id="pparam4">
      <nmwg:parameter name="count">2</nmwg:parameter>
      <nmwg:parameter name="interval">3</nmwg:parameter>
             
    </pinger:parameters>   
  </nmwg:metadata>

  <nmwg:metadata id="pingermeta5">     
    <select:subject id="pingersub5" metadataIdRef="pingermeta4" />  
    <select:parameters id="pparam5">
      <nmwg:parameter name="timeValue">
        <nmwg:parameter name="greaterThan">1107492199</nmwg:parameter>      
      </nmwg:parameter>
    </select:parameters>
  </nmwg:metadata>

  <nmwg:metadata id="pingermeta6">     
    <select:subject id="pingersub6" metadataIdRef="pingermeta5" />  
    <select:parameters id="pparam6">
      <nmwg:parameter name="timeValue">
        <nmwg:parameter name="lessThan">1107492207</nmwg:parameter>      
      </nmwg:parameter>    
    </select:parameters>
  </nmwg:metadata>

  <nmwg:metadata id="pingermeta7">     
    <average:subject id="pingersub7" metadataIdRef="pingermeta6" />  
    <average:parameters id="pparam7">
      <nmwg:parameter name="value" />
    </average:parameters>
  </nmwg:metadata>  
  


  <!-- Data block, with a time block, with multiple datum blocks -->

  <nmwg:data id="pingerdata1" metadataIdRef="pingermeta1">
    <nmwg:commonTime type="unix" value="1107492097">
      <pinger:datum value="75.1" seqNum="1" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="2" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="3" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="4" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="80.5" seqNum="5" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="6" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.1" seqNum="7" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="8" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.1" seqNum="9" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="10" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum name="minRtt" value="75.185" valueUnits="msec"/>
      <pinger:datum name="maxRtt" value="80.549" valueUnits="msec"/>
      <pinger:datum name="meanRtt" value="75.753" valueUnits="msec"/>
      <pinger:datum name="minIpd" value="0.0" valueUnits="msec"/>
      <pinger:datum name="maxIpd" value="0.7" valueUnits="msec"/>
      <pinger:datum name="lossPercent" value="0"/>
      <pinger:datum name="iqrIpd" value="0.0"/>
      <pinger:datum name="meanIpd" value="0.011"/>
      <pinger:datum name="outOfOrder" value="false"/>
      <pinger:datum name="duplicates" value="false"/>
    </nmwg:commonTime>
  </nmwg:data>


  <!-- Data block, with a time block (range), with multiple datum blocks -->

  <nmwg:data id="pingerdata2" metadataIdRef="pingermeta1">
    <nmwg:commonTime type="range">
      <nmtm:start type="unix" value="1107492097"/>
      <nmtm:end type="unix" value="1107492107"/>
      <pinger:datum value="75.1" seqNum="1" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="2" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="3" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="4" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="80.5" seqNum="5" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="6" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.1" seqNum="7" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="8" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.1" seqNum="9" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="10" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum name="minRtt" value="75.185" valueUnits="msec"/>
      <pinger:datum name="maxRtt" value="80.549" valueUnits="msec"/>
      <pinger:datum name="meanRtt" value="75.753" valueUnits="msec"/>
      <pinger:datum name="minIpd" value="0.0" valueUnits="msec"/>
      <pinger:datum name="maxIpd" value="0.7" valueUnits="msec"/>
      <pinger:datum name="lossPercent" value="0"/>
      <pinger:datum name="iqrIpd" value="0.0"/>
      <pinger:datum name="meanIpd" value="0.011"/>
      <pinger:datum name="outOfOrder" value="false"/>
      <pinger:datum name="duplicates" value="false"/>
    </nmwg:commonTime>
  </nmwg:data>

  <!-- Data block, with a time block (durration), with multiple datum blocks -->

  <nmwg:data id="pingerdata3" metadataIdRef="pingermeta1">
    <nmwg:commonTime type="duration" duration="10">
      <nmtm:start type="unix" value="1107492097"/>
      <pinger:datum value="75.1" seqNum="1" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="2" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="3" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="4" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="80.5" seqNum="5" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="6" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.1" seqNum="7" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="8" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.1" seqNum="9" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum value="75.2" seqNum="10" numBytes="64" ttl="53" valueUnits="msec"/>
      <pinger:datum name="minRtt" value="75.185" valueUnits="msec"/>
      <pinger:datum name="maxRtt" value="80.549" valueUnits="msec"/>
      <pinger:datum name="meanRtt" value="75.753" valueUnits="msec"/>
      <pinger:datum name="minIpd" value="0.0" valueUnits="msec"/>
      <pinger:datum name="maxIpd" value="0.7" valueUnits="msec"/>
      <pinger:datum name="lossPercent" value="0"/>
      <pinger:datum name="iqrIpd" value="0.0"/>
      <pinger:datum name="meanIpd" value="0.011"/>
      <pinger:datum name="outOfOrder" value="false"/>
      <pinger:datum name="duplicates" value="false"/>
    </nmwg:commonTime>
  </nmwg:data>


  <!-- data with datum blocks, time is inline (two ways to represent time) -->
  <nmwg:data id="pingerdata4" metadataIdRef="pingermeta1">  
    <pinger:datum value="75.1" seqNum="1" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492199" />
    <pinger:datum value="75.2" seqNum="2" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492200" />
    <pinger:datum value="75.2" seqNum="3" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492201" />
    <pinger:datum value="75.2" seqNum="4" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492202" />
    <pinger:datum value="80.5" seqNum="5" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492203" />
    <pinger:datum value="75.2" seqNum="6" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492204" />
    <pinger:datum value="75.1" seqNum="7" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492205" />
    <pinger:datum value="75.2" seqNum="8" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492206" />
    <pinger:datum value="75.1" seqNum="9" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492207" />
    <pinger:datum value="75.2" seqNum="10" numBytes="64" ttl="53" valueUnits="msec" timeType="unix" timeValue="1107492208" />
    <pinger:datum name="minRtt" value="75.185" valueUnits="msec" timeType="unix"  timeValue="1107492199"  />
    <pinger:datum name="maxRtt" value="80.549" valueUnits="msec" timeType="unix" timeValue="1107492199" />
    <pinger:datum name="meanRtt" value="75.753" valueUnits="msec" timeType="unix" timeValue="1107492199" />
    <pinger:datum name="minIpd" value="0.0" valueUnits="msec"  timeType="unix" timeValue="1107492199" />
    <pinger:datum name="maxIpd" value="0.7" valueUnits="msec"  timeType="unix" timeValue="1107492199" />
    <pinger:datum name="lossPercent" value="0" timeType="unix"  timeValue="1107492199" />
    <pinger:datum name="iqrIpd" value="0.0"  timeType="unix" timeValue="1107492199" />
    <pinger:datum name="meanIpd" value="0.011"  timeType="unix" timeValue="1107492199" />
    <pinger:datum name="outOfOrder" value="false"  timeType="unix" timeValue="1107492199" />
    <pinger:datum name="duplicates" value="false"  timeType="unix" timeValue="1107492199" />
  </nmwg:data>

  <!-- result datum elements -->
  <nmwg:data id="pingerdata5" metadataIdRef="pingermeta1">  
    <nmwgr:datum type="error.pinger.mp">From iepm-bw (134.79.240.38) icmp_seq=1 Destination Host Unreachable</nmwgr:datum>
  </nmwg:data> 
</nmwg:message>
