<?xml version="1.0" encoding="UTF-8"?>
<!--
     Name:    SDR-md-filter-merge.xml
     Purpose: SetupDataRequest by sending a metadata (either valid or invalid)
              and filter chaining with merge chaining.
     Outcome:
              Valid:   Same key returned
              Invalid: Error message
-->

<nmwg:message type="SetupDataRequest" id="setupDataRequest1"
              xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/"
              xmlns:neterr="http://ggf.org/ns/nmwg/characteristic/errors/2.0/"
              xmlns:netdisc="http://ggf.org/ns/nmwg/characteristic/discards/2.0/"
              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"
              xmlns:select="http://ggf.org/ns/nmwg/ops/select/2.0/"
              xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"
              xmlns:snmp="http://ggf.org/ns/nmwg/tools/snmp/2.0/"
              xmlns:nmtm="http://ggf.org/ns/nmwg/time/2.0/">

  <nmwg:metadata id="m1" metadataIdRef="m1m" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/">
    <netutil:subject xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" id="s-in-netutil-1">
      <nmwgt:interface xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/">
        <nmwgt:ifAddress type="ipv4">127.0.0.1</nmwgt:ifAddress>
        <nmwgt:hostName>localhost</nmwgt:hostName>
      </nmwgt:interface>
    </netutil:subject>
    <nmwg:eventType>http://ggf.org/ns/nmwg/characteristic/utilization/2.0</nmwg:eventType>
    <nmwg:parameters id="p-in-netutil-1">
      <nmwg:parameter name="supportedEventType">http://ggf.org/ns/nmwg/characteristic/utilization/2.0</nmwg:parameter>
    </nmwg:parameters>
  </nmwg:metadata> 

  <nmwg:metadata id="m1m" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/">
    <netutil:subject xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" id="s-in-netutil-1m">
      <nmwgt:interface xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/">
        <nmwgt:direction>in</nmwgt:direction>
      </nmwgt:interface>
    </netutil:subject>
    <nmwg:eventType>http://ggf.org/ns/nmwg/characteristic/utilization/2.0</nmwg:eventType>
    <nmwg:parameters id="p-in-netutil-1m">
      <nmwg:parameter name="supportedEventType">http://ggf.org/ns/nmwg/characteristic/utilization/2.0</nmwg:parameter>
    </nmwg:parameters>
  </nmwg:metadata> 
  
  <nmwg:metadata id="m1c" metadataIdRef="m1cm" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/">
    <select:subject id="s1c" metadataIdRef="m1" xmlns:select="http://ggf.org/ns/nmwg/ops/select/2.0/"/> 
    <select:parameters id="p1c" xmlns:select="http://ggf.org/ns/nmwg/ops/select/2.0/">      
      <nmwg:parameter name="startTime">1121472000</nmwg:parameter>
      <nmwg:parameter name="endTime">1121472300</nmwg:parameter>
    </select:parameters>
    <nmwg:eventType>http://ggf.org/ns/nmwg/ops/select/2.0</nmwg:eventType> 
  </nmwg:metadata>

  <nmwg:metadata id="m1cm" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/">
    <select:subject id="s1cm" xmlns:select="http://ggf.org/ns/nmwg/ops/select/2.0/"/> 
    <select:parameters id="p1cm" xmlns:select="http://ggf.org/ns/nmwg/ops/select/2.0/">      
      <nmwg:parameter name="consolidationFunction">AVERAGE</nmwg:parameter>
      <nmwg:parameter name="resolution">60</nmwg:parameter>
    </select:parameters>
    <nmwg:eventType>http://ggf.org/ns/nmwg/ops/select/2.0</nmwg:eventType> 
  </nmwg:metadata>

<!--
will this additional chaining have an effect?

  <nmwg:metadata id="m1cm" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/">
    <select:subject id="s1cm" metadataIdRef="m1" xmlns:select="http://ggf.org/ns/nmwg/ops/select/2.0/"/> 
    <select:parameters id="p1cm" xmlns:select="http://ggf.org/ns/nmwg/ops/select/2.0/">      
      <nmwg:parameter name="consolidationFunction">AVERAGE</nmwg:parameter>
      <nmwg:parameter name="resolution">60</nmwg:parameter>
    </select:parameters>
    <nmwg:eventType>http://ggf.org/ns/nmwg/ops/select/2.0</nmwg:eventType> 
  </nmwg:metadata>
-->

  <nmwg:data id="d1" metadataIdRef="m1c" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"/>
  
</nmwg:message>
